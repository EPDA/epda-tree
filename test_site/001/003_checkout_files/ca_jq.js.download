/** Copyright Â© 2005-2018 Apple Inc. All Rights Reserved. **/
experimentData={log_host:"log.optimizely.com",goal_expressions:{403141538:["^atc\\-ca\\-4$"],399461363:["^atc\\-ca\\-1$"],341809174:["^engagement$"],399402042:["^atc\\-ca\\-3$"],410511868:["^atc\\-ca\\-2$"]},www_host:"app.optimizely.com",version:"master-pci-95.399541553177709434",admin_account_id:199382811,blacklisted_experiments:[4539909090,8011241667,8022282565,8016420539,8020150664,8015310796,5404060236,8007890800,6988561010,6202340342,4953140759,8182450359,8018710555,7998701341],project_id:341178019,revision:71,summary_revenue_goal_id:341949123,installation_verified:!0,preview_host:"//optimizely.s3.amazonaws.com",api_host:"api.optimizely.com",segments:{341811267:{segment_value_type:"source_type",api_name:"optimizely_source_type",id:341811267,name:"Source Type"},341057119:{segment_value_type:"mobile",api_name:"optimizely_mobile",id:341057119,name:"Mobile Visitors"},341847194:{segment_value_type:"browser",api_name:"optimizely_browser",id:341847194,name:"Browser"},340220967:{segment_value_type:"campaign",api_name:"optimizely_campaign",id:340220967,name:"Campaign"}},click_goals:[{event_name:"atc-ca-3",experiments:{404030492:!0,582440518:!0},selector:"button[name='add-to-cart']"},{event_name:"atc-ca-1",experiments:{403091579:!0},selector:"button[name='add-to-cart']"},{event_name:"atc-ca-4",experiments:{401972929:!0},selector:"button[name='add-to-cart']"},{event_name:"atc-ca-2",experiments:{431350526:!0},selector:"button[name='add-to-cart']"}]},function(){var asyncRequest={},preview_loader={},integrator={},api={},distributor={},query={},id={},redirect={},detect={},directive={},json={},tracker={},condition={facade:{}},template={},visitor={},activator={},rule_builder={},main={},rules={},feature_detect={},cookie={},user={},iapi={},evaluator={},data={},dcp={},asyncInfo={},segmenter={},timer={},optly={murmur3:{},Visitor:{},taint:{},nativity:{},timeAndDayInterval:{},client:{third_party:{},geolocation:{},rum:{RumCollector:{}},storage:{Storage:{}},diagnostic:{},Facade:{},preview:{Logger:{}}},CIDR:{},Cleanse:{},match:{},hashing:{}},common={},behavior={Policy:{},FIELDS:{},Store:{},Event:{},EventBase:{}},useragent={},plan={};geolocation={},optly.client.geolocation.makeRequest=function(e,t,n){geolocation.cdn3Requested=+new Date,optly.client.geolocation.addScriptTag(e)},optly.client.geolocation.addScriptTag=function(e){var t=document.head||document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,t.insertBefore(n,t.firstChild)},geolocation.requestGeo=optly.client.geolocation.makeRequest,optly.nativity.getNativeGetElementsByClassName=function(){var e=document.getElementsByClassName;if(!optly.nativity.isNativeFunction(e)){var t=window.optimizely||{},n=t.getElementsByClassName,i=window.optly||{},r=i.getElementsByClassName;e=optly.nativity.isNativeFunction(n)?n:optly.nativity.isNativeFunction(r)?r:null}return e},optly.nativity.isNativeFunction=function(e){return e&&String(e).indexOf("[native code]")!==-1},optly.Cleanse.each=function(e,t,n){var i=!!Object.prototype.__lookupGetter__,r=!!Object.prototype.__lookupSetter__;for(var a in e)if(e.hasOwnProperty(a)){var o=i?e.__lookupGetter__(a):null,s=r?e.__lookupSetter__(a):null;try{var l=o?null:e[a];t.call(n,a,l,o,s)}catch(c){}}},optly.Cleanse.finish=function(){if(optly.Cleanse.running){optly.Cleanse.running=!1,optly.Cleanse.each(optly.Cleanse.types,function(e,t){if(Object.prototype.__defineGetter__){var n=optly.Cleanse.getters[e];optly.Cleanse.each(n,function(n,i){t.prototype.__defineGetter__(n,i),optly.Cleanse.log("restored getter",e,n)})}if(Object.prototype.__defineSetter__){var i=optly.Cleanse.setters[e];optly.Cleanse.each(i,function(n,i){t.prototype.__defineSetter__(n,i),optly.Cleanse.log("restored setter",e,n)})}var r=optly.Cleanse.properties[e];optly.Cleanse.each(r,function(n,i){t.prototype[n]=i,optly.Cleanse.log("restored property",e,n)})}),optly.Cleanse.unfixGetElementsByClassName(),optly.Cleanse.log("finish");var e=window.console,t="optimizely_log=true",n=window.location.hash.indexOf(t)!==-1||window.location.search.indexOf(t)!==-1;if(n&&e&&e.log)for(var i=optly.Cleanse.logs,r=0;r<i.length;r++)e.log(i[r])}},optly.Cleanse.log=function(e,t,n){t?(t=t.replace(/_/g,""),optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+e+": "+t+"."+n)):optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+e)},optly.Cleanse.start=function(){var e=window.location.hostname;if(e.indexOf("optimizely")===-1||e.indexOf("edit")!==-1||e.indexOf("preview")!==-1||e.indexOf("test")!==-1){if(optly.Cleanse.running)return void optly.Cleanse.log("already running so didn't start");optly.Cleanse.log("start"),optly.Cleanse.running=!0;for(var t in optly.Cleanse.types)optly.Cleanse.types[t]||delete optly.Cleanse.types[t];optly.Cleanse.each(optly.Cleanse.types,function(e,t){optly.Cleanse.getters[e]={},optly.Cleanse.properties[e]={},optly.Cleanse.setters[e]={},optly.Cleanse.each(t.prototype,function(n,i,r,a){return optly.nativity.isNativeFunction(i)||optly.nativity.isNativeFunction(r)||optly.nativity.isNativeFunction(a)?void optly.Cleanse.log("ignore native code",e,n):(r?(optly.Cleanse.getters[e][n]=r,optly.Cleanse.log("cleansed getter",e,n)):(optly.Cleanse.properties[e][n]=i,optly.Cleanse.log("cleansed property",e,n)),a&&(optly.Cleanse.setters[e][n]=a,optly.Cleanse.log("cleansed setter",e,n)),void delete t.prototype[n])})}),optly.Cleanse.fixGetElementsByClassName(),optly.Cleanse.hasRunStart=!0}},optly.Cleanse.fixGetElementsByClassName=function(){if(!optly.nativity.isNativeFunction(document.getElementsByClassName)){var e=optly.nativity.getNativeGetElementsByClassName();e?(optly.Cleanse.getElementsByClassName=document.getElementsByClassName,document.getElementsByClassName=e):optly.Cleanse.log("Error: native HTMLElement.prototype.getElementsByClassName missing")}},optly.Cleanse.unfixGetElementsByClassName=function(){optly.Cleanse.getElementsByClassName&&(document.getElementsByClassName=optly.Cleanse.getElementsByClassName,optly.Cleanse.getElementsByClassName=null)},optly.Cleanse.getElementsByClassName=null,optly.Cleanse.getters={},optly.Cleanse.logs=[],optly.Cleanse.properties={},optly.Cleanse.setters={},optly.Cleanse.types={Object_:Object},window.optly=window.optly||{},window.optly.Cleanse={finish:optly.Cleanse.finish,logs:optly.Cleanse.logs,start:optly.Cleanse.start},optly.Cleanse.start(),/** @license
 * jQuery JavaScript Library v1.11.3 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-offset,-dimensions
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-02-23T17:34Z
 */
function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=z.type(e);return"function"!==n&&!z.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e,t,n){if(z.isFunction(t))return z.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Q.test(t))return z.filter(t,e,n);t=z.filter(t,e)}return z.grep(e,function(e){return z.inArray(e,t)>=0!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function a(e){var t=ae[e]={};return z.each(e.match(re)||[],function(e,n){t[n]=!0}),t}function o(){Z.addEventListener?(Z.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(Z.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(Z.addEventListener||"load"===event.type||"complete"===Z.readyState)&&(o(),z.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(ue,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:ce.test(n)?z.parseJSON(n):n)}catch(r){}z.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!z.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,i){if(z.acceptData(e)){var r,a,o=z.expando,s=e.nodeType,l=s?z.cache:e,c=s?e[o]:e[o]&&o;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=s?e[o]=N.pop()||z.guid++:o),l[c]||(l[c]=s?{}:{toJSON:z.noop}),"object"!=typeof t&&"function"!=typeof t||(i?l[c]=z.extend(l[c],t):l[c].data=z.extend(l[c].data,t)),a=l[c],i||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[z.camelCase(t)]=n),"string"==typeof t?(r=a[t],null==r&&(r=a[z.camelCase(t)])):r=a,r}}function d(e,t,n){if(z.acceptData(e)){var i,r,a=e.nodeType,o=a?z.cache:e,s=a?e[z.expando]:z.expando;if(o[s]){if(t&&(i=n?o[s]:o[s].data)){z.isArray(t)?t=t.concat(z.map(t,z.camelCase)):t in i?t=[t]:(t=z.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!c(i):!z.isEmptyObject(i))return}(n||(delete o[s].data,c(o[s])))&&(a?z.cleanData([e],!0):j.deleteExpando||o!=o.window?delete o[s]:o[s]=null)}}}function p(){return!0}function g(){return!1}function f(){try{return Z.activeElement}catch(e){}}function m(e){var t=Ie.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function v(e,t){var n,i,r=0,a=typeof e.getElementsByTagName!==le?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==le?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||z.nodeName(i,t)?a.push(i):z.merge(a,v(i,t));return void 0===t||t&&z.nodeName(e,t)?z.merge([e],a):a}function h(e){me.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return z.nodeName(e,"table")&&z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function E(e){return e.type=(null!==z.find.attr(e,"type"))+"/"+e.type,e}function b(e){var t=Re.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function I(e,t){for(var n,i=0;null!=(n=e[i]);i++)z._data(n,"globalEval",!t||z._data(t[i],"globalEval"))}function S(e,t){if(1===t.nodeType&&z.hasData(e)){var n,i,r,a=z._data(e),o=z._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(i=0,r=s[n].length;i<r;i++)z.event.add(t,n,s[n][i])}o.data&&(o.data=z.extend({},o.data))}}function _(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!j.noCloneEvent&&t[z.expando]){r=z._data(t);for(i in r.events)z.removeEvent(t,i,r.handle);t.removeAttribute(z.expando)}"script"===n&&t.text!==e.text?(E(t).text=e.text,b(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),j.html5Clone&&e.innerHTML&&!z.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&me.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function C(t,n){var i,r=z(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:z.css(r[0],"display");return r.detach(),a}function A(e){var t=Z,n=Be[e];return n||(n=C(e,t),"none"!==n&&n||(Ve=(Ve||z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ve[0].contentWindow||Ve[0].contentDocument).document,t.write(),t.close(),n=C(e,t),Ve.detach()),Be[e]=n),n}function w(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function T(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Qe.length;r--;)if(t=Qe[r]+n,t in e)return t;return i}function x(e,t){for(var n,i,r,a=[],o=0,s=e.length;o<s;o++)i=e[o],i.style&&(a[o]=z._data(i,"olddisplay"),n=i.style.display,t?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&ge(i)&&(a[o]=z._data(i,"olddisplay",A(i.nodeName)))):(r=ge(i),(n&&"none"!==n||!r)&&z._data(i,"olddisplay",r?n:z.css(i,"display"))));for(o=0;o<s;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[o]||"":"none"));return e}function k(e,t,n){var i=$e.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function D(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,o=0;a<4;a+=2)"margin"===n&&(o+=z.css(e,n+pe[a],!0,r)),i?("content"===n&&(o-=z.css(e,"padding"+pe[a],!0,r)),"margin"!==n&&(o-=z.css(e,"border"+pe[a]+"Width",!0,r))):(o+=z.css(e,"padding"+pe[a],!0,r),"padding"!==n&&(o+=z.css(e,"border"+pe[a]+"Width",!0,r)));return o}function P(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=Fe(e),o=j.boxSizing&&"border-box"===z.css(e,"boxSizing",!1,a);if(r<=0||null==r){if(r=Ue(e,t,a),(r<0||null==r)&&(r=e.style[t]),Ge.test(r))return r;i=o&&(j.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+D(e,t,n||(o?"border":"content"),i,a)+"px"}function R(e,t,n,i){var r;if(z.isArray(t))z.each(t,function(t,r){n||ct.test(e)?i(e,r):R(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==z.type(t))i(e,t);else for(r in t)R(e+"["+r+"]",t[r],n,i)}var N=[],O=N.slice,L=N.concat,M=N.push,V=N.indexOf,F={},U=F.toString,B=F.hasOwnProperty,j={},G="1.11.3 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-offset,-dimensions",z=function(e,t){return new z.fn.init(e,t)},H=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,q=/^-ms-/,K=/-([\da-z])/gi,$=function(e,t){return t.toUpperCase()};z.fn=z.prototype={jquery:G,constructor:z,selector:"",length:0,toArray:function(){return O.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:O.call(this)},pushStack:function(e){var t=z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return z.each(this,e,t)},map:function(e){return this.pushStack(z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(O.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:M,sort:N.sort,splice:N.splice},z.extend=z.fn.extend=function(){var e,t,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||z.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(r=arguments[s]))for(i in r)e=o[i],n=r[i],o!==n&&(c&&n&&(z.isPlainObject(n)||(t=z.isArray(n)))?(t?(t=!1,a=e&&z.isArray(e)?e:[]):a=e&&z.isPlainObject(e)?e:{},o[i]=z.extend(c,a,n)):void 0!==n&&(o[i]=n));return o},z.extend({expando:"jQuery"+(G+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===z.type(e)},isArray:Array.isArray||function(e){return"array"===z.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!z.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==z.type(e)||e.nodeType||z.isWindow(e))return!1;try{if(e.constructor&&!B.call(e,"constructor")&&!B.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(j.ownLast)for(t in e)return B.call(e,t);for(t in e);return void 0===t||B.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?F[U.call(e)]||"object":typeof e},globalEval:function(t){t&&z.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(q,"ms-").replace(K,$)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,a=0,o=e.length,s=n(e);if(i){if(s)for(;a<o&&(r=t.apply(e[a],i),r!==!1);a++);else for(a in e)if(r=t.apply(e[a],i),r===!1)break}else if(s)for(;a<o&&(r=t.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=t.call(e[a],a,e[a]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(H,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?z.merge(i,"string"==typeof e?[e]:e):M.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(V)return V.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],a=0,o=e.length,s=!n;a<o;a++)i=!t(e[a],a),i!==s&&r.push(e[a]);return r},map:function(e,t,i){var r,a=0,o=e.length,s=n(e),l=[];if(s)for(;a<o;a++)r=t(e[a],a,i),null!=r&&l.push(r);else for(a in e)r=t(e[a],a,i),null!=r&&l.push(r);return L.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(r=e[t],t=e,e=r),z.isFunction(e))return n=O.call(arguments,2),i=function(){return e.apply(t||this,n.concat(O.call(arguments)))},i.guid=e.guid=e.guid||z.guid++,i},now:function(){return+new Date},support:j}),z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){F["[object "+t+"]"]=t.toLowerCase()});var W=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,n,i){var r,a,o,s,l,c,d,g,f,m;if((t?t.ownerDocument||t:B)!==R&&P(t),t=t||R,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&O){if(11!==s&&(r=ye.exec(e)))if(o=r[1]){if(9===s){if(a=t.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&F(t,a)&&a.id===o)return n.push(a),n}else{if(r[2])return J.apply(n,t.getElementsByTagName(e)),n;if((o=r[3])&&I.getElementsByClassName)return J.apply(n,t.getElementsByClassName(o)),n}if(I.qsa&&(!L||!L.test(e))){if(g=d=U,f=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=A(e),(d=t.getAttribute("id"))?g=d.replace(be,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",l=c.length;l--;)c[l]=g+p(c[l]);f=Ee.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return J.apply(n,f.querySelectorAll(m)),n}catch(v){}finally{d||t.removeAttribute("id")}}}return T(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[U]=!0,e}function r(e){var t=R.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=e.length;i--;)S.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,a=e([],n.length,t),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function g(e,t,n){var i=t.dir,r=n&&"parentNode"===i,a=G++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,o){var s,l,c=[j,a];if(o){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[U]||(t[U]={}),(s=l[i])&&s[0]===j&&s[1]===a)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,o))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,a=n.length;r<a;r++)t(e,n[r],i);return i}function v(e,t,n,i,r){for(var a,o=[],s=0,l=e.length,c=null!=t;s<l;s++)(a=e[s])&&(n&&!n(a,i,r)||(o.push(a),c&&t.push(s)));return o}function h(e,t,n,r,a,o){return r&&!r[U]&&(r=h(r)),a&&!a[U]&&(a=h(a,o)),i(function(i,o,s,l){var c,u,d,p=[],g=[],f=o.length,h=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?h:v(h,p,e,s,l),E=n?a||(i?e:f||r)?[]:o:y;if(n&&n(y,E,s,l),r)for(c=v(E,g),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(E[g[u]]=!(y[g[u]]=d));if(i){if(a||e){if(a){for(c=[],u=E.length;u--;)(d=E[u])&&c.push(y[u]=d);a(null,E=[],c,l)}for(u=E.length;u--;)(d=E[u])&&(c=a?ee(i,d):p[u])>-1&&(i[c]=!(o[c]=d))}}else E=v(E===o?E.splice(f,E.length):E),a?a(null,o,E,l):J.apply(o,E)})}function y(e){for(var t,n,i,r=e.length,a=S.relative[e[0].type],o=a||S.relative[" "],s=a?1:0,l=g(function(e){return e===t},o,!0),c=g(function(e){return ee(t,e)>-1},o,!0),u=[function(e,n,i){var r=!a&&(i||n!==x)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];s<r;s++)if(n=S.relative[e[s].type])u=[g(f(u),n)];else{if(n=S.filter[e[s].type].apply(null,e[s].matches),n[U]){for(i=++s;i<r&&!S.relative[e[i].type];i++);return h(s>1&&f(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,s<i&&y(e.slice(s,i)),i<r&&y(e=e.slice(i)),i<r&&p(e))}u.push(n)}return f(u)}function E(e,n){var r=n.length>0,a=e.length>0,o=function(i,o,s,l,c){var u,d,p,g=0,f="0",m=i&&[],h=[],y=x,E=i||a&&S.find.TAG("*",c),b=j+=null==y?1:Math.random()||.1,I=E.length;for(c&&(x=o!==R&&o);f!==I&&null!=(u=E[f]);f++){if(a&&u){for(d=0;p=e[d++];)if(p(u,o,s)){l.push(u);break}c&&(j=b)}r&&((u=!p&&u)&&g--,i&&m.push(u))}if(g+=f,r&&f!==g){for(d=0;p=n[d++];)p(m,h,o,s);if(i){if(g>0)for(;f--;)m[f]||h[f]||(h[f]=X.call(l));h=v(h)}J.apply(l,h),c&&!i&&h.length>0&&g+n.length>1&&t.uniqueSort(l)}return c&&(j=b,x=y),m};return r?i(o):o}var b,I,S,_,C,A,w,T,x,k,D,P,R,N,O,L,M,V,F,U="sizzle"+1*new Date,B=e.document,j=0,G=0,z=n(),H=n(),q=n(),K=function(e,t){return e===t&&(D=!0),0},$=1<<31,W={}.hasOwnProperty,Y=[],X=Y.pop,Q=Y.push,J=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),ae="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(oe),ge=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ee=/[+~]/,be=/'|\\/g,Ie=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Se=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_e=function(){P()};try{J.apply(Y=Z.call(B.childNodes),B.childNodes),Y[B.childNodes.length].nodeType}catch(Ce){J={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}I=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:B;return i!==R&&9===i.nodeType&&i.documentElement?(R=i,N=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",_e,!1):n.attachEvent&&n.attachEvent("onunload",_e)),O=!C(i),I.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),I.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),I.getElementsByClassName=he.test(i.getElementsByClassName),I.getById=r(function(e){return N.appendChild(e).id=U,!i.getElementsByName||!i.getElementsByName(U).length}),I.getById?(S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(Ie,Se);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(Ie,Se);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=I.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):I.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},S.find.CLASS=I.getElementsByClassName&&function(e,t){if(O)return t.getElementsByClassName(e)},M=[],L=[],(I.qsa=he.test(i.querySelectorAll))&&(r(function(e){N.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||L.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(I.matchesSelector=he.test(V=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(e){I.disconnectedMatch=V.call(e,"div"),V.call(e,"[s!='']:x"),M.push("!=",oe)}),L=L.length&&new RegExp(L.join("|")),M=M.length&&new RegExp(M.join("|")),t=he.test(N.compareDocumentPosition),F=t||he.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},K=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!I.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===B&&F(B,e)?-1:t===i||t.ownerDocument===B&&F(B,t)?1:k?ee(k,e)-ee(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,r=0,a=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!a||!s)return e===i?-1:t===i?1:a?-1:s?1:k?ee(k,e)-ee(k,t):0;if(a===s)return o(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?o(l[r],c[r]):l[r]===B?-1:c[r]===B?1:0},i):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&P(e),n=n.replace(de,"='$1']"),I.matchesSelector&&O&&(!M||!M.test(n))&&(!L||!L.test(n)))try{var i=V.call(e,n);if(i||I.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&P(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&P(e);var n=S.attrHandle[t.toLowerCase()],i=n&&W.call(S.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==i?i:I.attributes||!O?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(D=!I.detectDuplicates,k=!I.sortStable&&e.slice(0),e.sort(K),D){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return k=null,e},_=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=_(t);return n},S=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ie,Se),e[3]=(e[3]||e[4]||e[5]||"").replace(Ie,Se),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=A(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ie,Se).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var a=t.attr(r,e);return null==a?"!="===n:!n||(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(a===i||a.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,g,f,m=a!==o?"nextSibling":"previousSibling",v=t.parentNode,h=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(v){if(a){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===h:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?v.firstChild:v.lastChild],o&&y){for(u=v[U]||(v[U]={}),c=u[e]||[],g=c[0]===j&&c[1],p=c[0]===j&&c[2],d=g&&v.childNodes[g];d=++g&&d&&d[m]||(p=g=0)||f.pop();)if(1===d.nodeType&&++p&&d===t){u[e]=[j,g,p];break}}else if(y&&(c=(t[U]||(t[U]={}))[e])&&c[0]===j)p=c[1];else for(;(d=++g&&d&&d[m]||(p=g=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==h:1!==d.nodeType)||!++p||(y&&((d[U]||(d[U]={}))[e]=[j,p]),d!==t)););return p-=r,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(e,n){var r,a=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[U]?a(n):a.length>1?(r=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=a(e,n),o=r.length;o--;)i=ee(e,r[o]),e[i]=!(t[i]=r[o])}):function(e){return a(e,0,r)}):a}},pseudos:{not:i(function(e){var t=[],n=[],r=w(e.replace(le,"$1"));return r[U]?i(function(e,t,n,i){for(var a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(Ie,Se),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:i(function(e){return ge.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ie,Se).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return ve.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},S.pseudos.nth=S.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})S.pseudos[b]=l(b);return d.prototype=S.filters=S.pseudos,S.setFilters=new d,A=t.tokenize=function(e,n){var i,r,a,o,s,l,c,u=H[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=S.preFilter;s;){i&&!(r=ce.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),i=!1,(r=ue.exec(s))&&(i=r.shift(),a.push({value:i,type:r[0].replace(le," ")}),s=s.slice(i.length));for(o in S.filter)!(r=fe[o].exec(s))||c[o]&&!(r=c[o](r))||(i=r.shift(),a.push({value:i,type:o,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):H(e,l).slice(0)},w=t.compile=function(e,t){var n,i=[],r=[],a=q[e+" "];if(!a){for(t||(t=A(e)),n=t.length;n--;)a=y(t[n]),a[U]?i.push(a):r.push(a);a=q(e,E(r,i)),a.selector=e}return a},T=t.select=function(e,t,n,i){var r,a,o,s,l,c="function"==typeof e&&e,d=!i&&A(e=c.selector||e);if(n=n||[],1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&I.getById&&9===t.nodeType&&O&&S.relative[a[1].type]){if(t=(S.find.ID(o.matches[0].replace(Ie,Se),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=fe.needsContext.test(e)?0:a.length;r--&&(o=a[r],!S.relative[s=o.type]);)if((l=S.find[s])&&(i=l(o.matches[0].replace(Ie,Se),Ee.test(a[0].type)&&u(t.parentNode)||t))){if(a.splice(r,1),e=i.length&&p(a),!e)return J.apply(n,i),n;break}}return(c||w(e,d))(i,t,!O,n,Ee.test(e)&&u(t.parentNode)||t),n},I.sortStable=U.split("").sort(K).join("")===U,I.detectDuplicates=!!D,P(),I.sortDetached=r(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),I.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||a(te,function(e,t,n){var i;if(!n)return e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);z.find=W,z.expr=W.selectors,z.expr[":"]=z.expr.pseudos,z.unique=W.uniqueSort,z.text=W.getText,z.isXMLDoc=W.isXML,z.contains=W.contains;var Y=z.expr.match.needsContext,X=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Q=/^.[^:#\[\.,]*$/;z.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?z.find.matchesSelector(i,e)?[i]:[]:z.find.matches(e,z.grep(t,function(e){return 1===e.nodeType}))},z.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(z(e).filter(function(){for(t=0;t<r;t++)if(z.contains(i[t],this))return!0}));for(t=0;t<r;t++)z.find(e,i[t],n);return n=this.pushStack(r>1?z.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&Y.test(e)?z(e):e||[],!1).length}});var J,Z=e.document,ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,te=z.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ee.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||J).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof z?t[0]:t,z.merge(this,z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),X.test(n[1])&&z.isPlainObject(t))for(n in t)z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=Z.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return J.find(e);this.length=1,this[0]=i}return this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):z.isFunction(e)?"undefined"!=typeof J.ready?J.ready(e):e(z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),z.makeArray(e,this))};te.prototype=z.fn,J=z(Z);var ne=/^(?:parents|prev(?:Until|All))/,ie={children:!0,contents:!0,next:!0,prev:!0};z.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!z(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),z.fn.extend({has:function(e){var t,n=z(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(z.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,a=[],o=Y.test(e)||"string"!=typeof e?z(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&z.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?z.unique(a):a)},index:function(e){return e?"string"==typeof e?z.inArray(this[0],z(e)):z.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(z.unique(z.merge(this.get(),z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return z.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return z.dir(e,"nextSibling")},prevAll:function(e){return z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return z.dir(e,"previousSibling",n)},siblings:function(e){return z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return z.sibling(e.firstChild)},contents:function(e){return z.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:z.merge([],e.childNodes)}},function(e,t){z.fn[e]=function(n,i){var r=z.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=z.filter(i,r)),this.length>1&&(ie[e]||(r=z.unique(r)),ne.test(e)&&(r=r.reverse())),this.pushStack(r)}});var re=/\S+/g,ae={};z.Callbacks=function(e){e="string"==typeof e?ae[e]||a(e):z.extend({},e);var t,n,i,r,o,s,l=[],c=!e.once&&[],u=function(a){for(n=e.memory&&a,i=!0,o=s||0,s=0,r=l.length,t=!0;l&&o<r;o++)if(l[o].apply(a[0],a[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function a(t){z.each(t,function(t,n){var i=z.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&a(n)})}(arguments),t?r=l.length:n&&(s=i,u(n))}return this},remove:function(){return l&&z.each(arguments,function(e,n){for(var i;(i=z.inArray(n,l,i))>-1;)l.splice(i,1),t&&(i<=r&&r--,i<=o&&o--)}),this},has:function(e){return e?z.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||i&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):u(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},z.extend({Deferred:function(e){var t=[["resolve","done",z.Callbacks("once memory"),"resolved"],["reject","fail",z.Callbacks("once memory"),"rejected"],["notify","progress",z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return z.Deferred(function(n){z.each(t,function(t,a){var o=z.isFunction(e[t])&&e[t];r[a[1]](function(){var e=o&&o.apply(this,arguments);e&&z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?z.extend(e,i):i}},r={};return i.pipe=i.then,z.each(t,function(e,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=O.call(arguments),o=a.length,s=1!==o||e&&z.isFunction(e.promise)?o:0,l=1===s?e:z.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?O.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);r<o;r++)a[r]&&z.isFunction(a[r].promise)?a[r].promise().done(c(r,i,a)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,a),l.promise()}});var oe;z.fn.ready=function(e){return z.ready.promise().done(e),this},z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?z.readyWait++:z.ready(!0)},ready:function(e){if(e===!0?!--z.readyWait:!z.isReady){if(!Z.body)return setTimeout(z.ready);z.isReady=!0,e!==!0&&--z.readyWait>0||(oe.resolveWith(Z,[z]),z.fn.triggerHandler&&(z(Z).triggerHandler("ready"),z(Z).off("ready")))}}}),z.ready.promise=function(t){if(!oe)if(oe=z.Deferred(),"complete"===Z.readyState)setTimeout(z.ready);else if(Z.addEventListener)Z.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{Z.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&Z.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!z.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}o(),z.ready()}}()}return oe.promise(t)};var se,le="undefined";for(se in z(j))break;j.ownLast="0"!==se,j.inlineBlockNeedsLayout=!1,z(function(){var e,t,n,i;n=Z.getElementsByTagName("body")[0],n&&n.style&&(t=Z.createElement("div"),i=Z.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==le&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",j.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=Z.createElement("div");if(null==j.deleteExpando){j.deleteExpando=!0;try{delete e.test}catch(t){j.deleteExpando=!1}}e=null}(),z.acceptData=function(e){var t=z.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||t!==!0&&e.getAttribute("classid")===t)};var ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/([A-Z])/g;z.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?z.cache[e[z.expando]]:e[z.expando],!!e&&!c(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),z.fn.extend({data:function(e,t){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=z.data(a),1===a.nodeType&&!z._data(a,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=z.camelCase(i.slice(5)),l(a,i,r[i])));z._data(a,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){z.data(this,e)}):arguments.length>1?this.each(function(){z.data(this,e,t)}):a?l(a,e,z.data(a,e)):void 0},removeData:function(e){return this.each(function(){z.removeData(this,e)})}}),z.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=z._data(e,t),n&&(!i||z.isArray(n)?i=z._data(e,t,z.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=z.queue(e,t),i=n.length,r=n.shift(),a=z._queueHooks(e,t),o=function(){z.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return z._data(e,n)||z._data(e,n,{empty:z.Callbacks("once memory").add(function(){z._removeData(e,t+"queue"),z._removeData(e,n)})})}}),z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?z.queue(this[0],e):void 0===t?this:this.each(function(){var n=z.queue(this,e,t);z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=z.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=z._data(a[o],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pe=["Top","Right","Bottom","Left"],ge=function(e,t){return e=t||e,"none"===z.css(e,"display")||!z.contains(e.ownerDocument,e)},fe=z.access=function(e,t,n,i,r,a,o){var s=0,l=e.length,c=null==n;if("object"===z.type(n)){r=!0;for(s in n)z.access(e,t,s,n[s],!0,a,o)}else if(void 0!==i&&(r=!0,z.isFunction(i)||(o=!0),c&&(o?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(z(e),n)})),t))for(;s<l;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):a},me=/^(?:checkbox|radio)$/i;!function(){var e=Z.createElement("input"),t=Z.createElement("div"),n=Z.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",j.leadingWhitespace=3===t.firstChild.nodeType,j.tbody=!t.getElementsByTagName("tbody").length,j.htmlSerialize=!!t.getElementsByTagName("link").length,j.html5Clone="<:nav></:nav>"!==Z.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),j.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",j.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",j.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,j.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){j.noCloneEvent=!1}),t.cloneNode(!0).click()),null==j.deleteExpando){j.deleteExpando=!0;try{delete t.test}catch(i){j.deleteExpando=!1}}}(),function(){var t,n,i=Z.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(j[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),j[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var ve=/^(?:input|select|textarea)$/i,he=/^key/,ye=/^(?:mouse|pointer|contextmenu)|click/,Ee=/^(?:focusinfocus|focusoutblur)$/,be=/^([^.]*)(?:\.(.+)|)$/;z.event={global:{},add:function(e,t,n,i,r){var a,o,s,l,c,u,d,p,g,f,m,v=z._data(e);if(v){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=z.guid++),(o=v.events)||(o=v.events={}),(u=v.handle)||(u=v.handle=function(e){return typeof z===le||e&&z.event.triggered===e.type?void 0:z.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(re)||[""],s=t.length;s--;)a=be.exec(t[s])||[],g=m=a[1],f=(a[2]||"").split(".").sort(),g&&(c=z.event.special[g]||{},g=(r?c.delegateType:c.bindType)||g,c=z.event.special[g]||{},d=z.extend({type:g,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&z.expr.match.needsContext.test(r),namespace:f.join(".")},l),(p=o[g])||(p=o[g]=[],p.delegateCount=0,c.setup&&c.setup.call(e,i,f,u)!==!1||(e.addEventListener?e.addEventListener(g,u,!1):e.attachEvent&&e.attachEvent("on"+g,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,d):p.push(d),z.event.global[g]=!0);e=null}},remove:function(e,t,n,i,r){var a,o,s,l,c,u,d,p,g,f,m,v=z.hasData(e)&&z._data(e);if(v&&(u=v.events)){for(t=(t||"").match(re)||[""],c=t.length;c--;)if(s=be.exec(t[c])||[],g=m=s[1],f=(s[2]||"").split(".").sort(),g){for(d=z.event.special[g]||{},g=(i?d.delegateType:d.bindType)||g,p=u[g]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=p.length;a--;)o=p[a],!r&&m!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(p.splice(a,1),o.selector&&p.delegateCount--,d.remove&&d.remove.call(e,o));l&&!p.length&&(d.teardown&&d.teardown.call(e,f,v.handle)!==!1||z.removeEvent(e,g,v.handle),
delete u[g])}else for(g in u)z.event.remove(e,g+t[c],n,i,!0);z.isEmptyObject(u)&&(delete v.handle,z._removeData(e,"events"))}},trigger:function(t,n,i,r){var a,o,s,l,c,u,d,p=[i||Z],g=B.call(t,"type")?t.type:t,f=B.call(t,"namespace")?t.namespace.split("."):[];if(s=u=i=i||Z,3!==i.nodeType&&8!==i.nodeType&&!Ee.test(g+z.event.triggered)&&(g.indexOf(".")>=0&&(f=g.split("."),g=f.shift(),f.sort()),o=g.indexOf(":")<0&&"on"+g,t=t[z.expando]?t:new z.Event(g,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:z.makeArray(n,[t]),c=z.event.special[g]||{},r||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!r&&!c.noBubble&&!z.isWindow(i)){for(l=c.delegateType||g,Ee.test(l+g)||(s=s.parentNode);s;s=s.parentNode)p.push(s),u=s;u===(i.ownerDocument||Z)&&p.push(u.defaultView||u.parentWindow||e)}for(d=0;(s=p[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||g,a=(z._data(s,"events")||{})[t.type]&&z._data(s,"handle"),a&&a.apply(s,n),a=o&&s[o],a&&a.apply&&z.acceptData(s)&&(t.result=a.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=g,!r&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(p.pop(),n)===!1)&&z.acceptData(i)&&o&&i[g]&&!z.isWindow(i)){u=i[o],u&&(i[o]=null),z.event.triggered=g;try{i[g]()}catch(m){}z.event.triggered=void 0,u&&(i[o]=u)}return t.result}},dispatch:function(e){e=z.event.fix(e);var t,n,i,r,a,o=[],s=O.call(arguments),l=(z._data(this,"events")||{})[e.type]||[],c=z.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=z.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,a=0;(i=r.handlers[a++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,n=((z.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,a,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],a=0;a<s;a++)i=t[a],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?z(n,this).index(l)>=0:z.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&o.push({elem:l,handlers:r})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[z.expando])return e;var t,n,i,r=e.type,a=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=ye.test(r)?this.mouseHooks:he.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new z.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=a.srcElement||Z),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,a=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||Z,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(z.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=z.extend(new z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?z.event.trigger(r,null,t):z.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},z.removeEvent=Z.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===le&&(e[i]=null),e.detachEvent(i,n))},z.Event=function(e,t){return this instanceof z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?p:g):this.type=e,t&&z.extend(this,t),this.timeStamp=e&&e.timeStamp||z.now(),void(this[z.expando]=!0)):new z.Event(e,t)},z.Event.prototype={isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return r&&(r===i||z.contains(i,r))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),j.submitBubbles||(z.event.special.submit={setup:function(){return!z.nodeName(this,"form")&&void z.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=z.nodeName(t,"input")||z.nodeName(t,"button")?t.form:void 0;n&&!z._data(n,"submitBubbles")&&(z.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),z._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&z.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!z.nodeName(this,"form")&&void z.event.remove(this,"._submit")}}),j.changeBubbles||(z.event.special.change={setup:function(){return ve.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(z.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),z.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),z.event.simulate("change",this,e,!0)})),!1):void z.event.add(this,"beforeactivate._change",function(e){var t=e.target;ve.test(t.nodeName)&&!z._data(t,"changeBubbles")&&(z.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||z.event.simulate("change",this.parentNode,e,!0)}),z._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return z.event.remove(this,"._change"),!ve.test(this.nodeName)}}),j.focusinBubbles||z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){z.event.simulate(t,e.target,z.event.fix(e),!0)};z.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=z._data(i,t);r||i.addEventListener(e,n,!0),z._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=z._data(i,t)-1;r?z._data(i,t,r):(i.removeEventListener(e,n,!0),z._removeData(i,t))}}}),z.fn.extend({on:function(e,t,n,i,r){var a,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=g;else if(!i)return this;return 1===r&&(o=i,i=function(e){return z().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=z.guid++)),this.each(function(){z.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,z(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=g),this.each(function(){z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return z.event.trigger(e,t,n,!0)}});var Ie="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Se=/ jQuery\d+="(?:null|\d+)"/g,_e=new RegExp("<(?:"+Ie+")[\\s/>]","i"),Ce=/^\s+/,Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,we=/<([\w:]+)/,Te=/<tbody/i,xe=/<|&#?\w+;/,ke=/<(?:script|style|link)/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^$|\/(?:java|ecma)script/i,Re=/^true\/(.*)/,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Oe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:j.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Le=m(Z),Me=Le.appendChild(Z.createElement("div"));Oe.optgroup=Oe.option,Oe.tbody=Oe.tfoot=Oe.colgroup=Oe.caption=Oe.thead,Oe.th=Oe.td,z.extend({clone:function(e,t,n){var i,r,a,o,s,l=z.contains(e.ownerDocument,e);if(j.html5Clone||z.isXMLDoc(e)||!_e.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Me.innerHTML=e.outerHTML,Me.removeChild(a=Me.firstChild)),!(j.noCloneEvent&&j.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||z.isXMLDoc(e)))for(i=v(a),s=v(e),o=0;null!=(r=s[o]);++o)i[o]&&_(r,i[o]);if(t)if(n)for(s=s||v(e),i=i||v(a),o=0;null!=(r=s[o]);o++)S(r,i[o]);else S(e,a);return i=v(a,"script"),i.length>0&&I(i,!l&&v(e,"script")),i=s=r=null,a},buildFragment:function(e,t,n,i){for(var r,a,o,s,l,c,u,d=e.length,p=m(t),g=[],f=0;f<d;f++)if(a=e[f],a||0===a)if("object"===z.type(a))z.merge(g,a.nodeType?[a]:a);else if(xe.test(a)){for(s=s||p.appendChild(t.createElement("div")),l=(we.exec(a)||["",""])[1].toLowerCase(),u=Oe[l]||Oe._default,s.innerHTML=u[1]+a.replace(Ae,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!j.leadingWhitespace&&Ce.test(a)&&g.push(t.createTextNode(Ce.exec(a)[0])),!j.tbody)for(a="table"!==l||Te.test(a)?"<table>"!==u[1]||Te.test(a)?0:s:s.firstChild,r=a&&a.childNodes.length;r--;)z.nodeName(c=a.childNodes[r],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(z.merge(g,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else g.push(t.createTextNode(a));for(s&&p.removeChild(s),j.appendChecked||z.grep(v(g,"input"),h),f=0;a=g[f++];)if((!i||z.inArray(a,i)===-1)&&(o=z.contains(a.ownerDocument,a),s=v(p.appendChild(a),"script"),o&&I(s),n))for(r=0;a=s[r++];)Pe.test(a.type||"")&&n.push(a);return s=null,p},cleanData:function(e,t){for(var n,i,r,a,o=0,s=z.expando,l=z.cache,c=j.deleteExpando,u=z.event.special;null!=(n=e[o]);o++)if((t||z.acceptData(n))&&(r=n[s],a=r&&l[r])){if(a.events)for(i in a.events)u[i]?z.event.remove(n,i):z.removeEvent(n,i,a.handle);l[r]&&(delete l[r],c?delete n[s]:typeof n.removeAttribute!==le?n.removeAttribute(s):n[s]=null,N.push(r))}}}),z.fn.extend({text:function(e){return fe(this,function(e){return void 0===e?z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Z).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?z.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||z.cleanData(v(n)),n.parentNode&&(t&&z.contains(n.ownerDocument,n)&&I(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&z.cleanData(v(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&z.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return z.clone(this,e,t)})},html:function(e){return fe(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Se,""):void 0;if("string"==typeof e&&!ke.test(e)&&(j.htmlSerialize||!_e.test(e))&&(j.leadingWhitespace||!Ce.test(e))&&!Oe[(we.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ae,"<$1></$2>");try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=L.apply([],e);var n,i,r,a,o,s,l=0,c=this.length,u=this,d=c-1,p=e[0],g=z.isFunction(p);if(g||c>1&&"string"==typeof p&&!j.checkClone&&De.test(p))return this.each(function(n){var i=u.eq(n);g&&(e[0]=p.call(this,n,i.html())),i.domManip(e,t)});if(c&&(s=z.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(a=z.map(v(s,"script"),E),r=a.length;l<c;l++)i=s,l!==d&&(i=z.clone(i,!0,!0),r&&z.merge(a,v(i,"script"))),t.call(this[l],i,l);if(r)for(o=a[a.length-1].ownerDocument,z.map(a,b),l=0;l<r;l++)i=a[l],Pe.test(i.type||"")&&!z._data(i,"globalEval")&&z.contains(o,i)&&(i.src?z._evalUrl&&z._evalUrl(i.src):z.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Ne,"")));s=n=null}return this}}),z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){z.fn[e]=function(e){for(var n,i=0,r=[],a=z(e),o=a.length-1;i<=o;i++)n=i===o?this:this.clone(!0),z(a[i])[t](n),M.apply(r,n.get());return this.pushStack(r)}});var Ve,Fe,Ue,Be={},je=/^margin/,Ge=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),ze=/^(top|right|bottom|left)$/;e.getComputedStyle?(Fe=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},Ue=function(e,t,n){var i,r,a,o,s=e.style;return n=n||Fe(e),o=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==o||z.contains(e.ownerDocument,e)||(o=z.style(e,t)),Ge.test(o)&&je.test(t)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0===o?o:o+""}):Z.documentElement.currentStyle&&(Fe=function(e){return e.currentStyle},Ue=function(e,t,n){var i,r,a,o,s=e.style;return n=n||Fe(e),o=n?n[t]:void 0,null==o&&s&&s[t]&&(o=s[t]),Ge.test(o)&&!ze.test(t)&&(i=s.left,r=e.runtimeStyle,a=r&&r.left,a&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":o,o=s.pixelLeft+"px",s.left=i,a&&(r.left=a)),void 0===o?o:o+""||"auto"}),function(){function t(){var t,n,i,r;n=Z.getElementsByTagName("body")[0],n&&n.style&&(t=Z.createElement("div"),i=Z.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a=o=!1,l=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,r=t.appendChild(Z.createElement("div")),r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight),t.removeChild(r)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=t.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===r[0].offsetHeight,s&&(r[0].style.display="",r[1].style.display="none",s=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,a,o,s,l;n=Z.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],i=r&&r.style,i&&(i.cssText="float:left;opacity:.5",j.opacity="0.5"===i.opacity,j.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",j.clearCloneStyle="content-box"===n.style.backgroundClip,j.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,z.extend(j,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){return null==l&&t(),l}}))}(),z.swap=function(e,t,n,i){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];r=n.apply(e,i||[]);for(a in t)e.style[a]=o[a];return r};var He=/alpha\([^)]*\)/i,qe=/opacity\s*=\s*([^)]*)/,Ke=/^(none|table(?!-c[ea]).+)/,$e=new RegExp("^("+de+")(.*)$","i"),We=new RegExp("^([+-])=("+de+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Qe=["Webkit","O","Moz","ms"];z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":j.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=z.camelCase(t),l=e.style;if(t=z.cssProps[s]||(z.cssProps[s]=T(l,s)),o=z.cssHooks[t]||z.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:l[t];if(a=typeof n,"string"===a&&(r=We.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(z.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||z.cssNumber[s]||(n+="px"),j.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,i)))))try{l[t]=n}catch(c){}}},css:function(e,t,n,i){var r,a,o,s=z.camelCase(t);return t=z.cssProps[s]||(z.cssProps[s]=T(e.style,s)),o=z.cssHooks[t]||z.cssHooks[s],o&&"get"in o&&(a=o.get(e,!0,n)),void 0===a&&(a=Ue(e,t,i)),"normal"===a&&t in Xe&&(a=Xe[t]),""===n||n?(r=parseFloat(a),n===!0||z.isNumeric(r)?r||0:a):a}}),z.each(["height","width"],function(e,t){z.cssHooks[t]={get:function(e,n,i){if(n)return Ke.test(z.css(e,"display"))&&0===e.offsetWidth?z.swap(e,Ye,function(){return P(e,t,i)}):P(e,t,i)},set:function(e,n,i){var r=i&&Fe(e);return k(e,n,i?D(e,t,i,j.boxSizing&&"border-box"===z.css(e,"boxSizing",!1,r),r):0)}}}),j.opacity||(z.cssHooks.opacity={get:function(e,t){return qe.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=z.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===z.trim(a.replace(He,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=He.test(a)?a.replace(He,r):a+" "+r)}}),z.cssHooks.marginRight=w(j.reliableMarginRight,function(e,t){if(t)return z.swap(e,{display:"inline-block"},Ue,[e,"marginRight"])}),z.each({margin:"",padding:"",border:"Width"},function(e,t){z.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+pe[i]+t]=a[i]||a[i-2]||a[0];return r}},je.test(e)||(z.cssHooks[e+t].set=k)}),z.fn.extend({css:function(e,t){return fe(this,function(e,t,n){var i,r,a={},o=0;if(z.isArray(t)){for(i=Fe(e),r=t.length;o<r;o++)a[t[o]]=z.css(e,t[o],!1,i);return a}return void 0!==n?z.style(e,t,n):z.css(e,t)},e,t,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ge(this)?z(this).show():z(this).hide()})}}),z.fn.delay=function(e,t){return e=z.fx?z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r;t=Z.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=Z.createElement("select"),r=n.appendChild(Z.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",j.getSetAttribute="t"!==t.className,j.style=/top/.test(i.getAttribute("style")),j.hrefNormalized="/a"===i.getAttribute("href"),j.checkOn=!!e.value,j.optSelected=r.selected,j.enctype=!!Z.createElement("form").enctype,n.disabled=!0,j.optDisabled=!r.disabled,e=Z.createElement("input"),e.setAttribute("value",""),j.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),j.radioValue="t"===e.value}();var Je=/\r/g;z.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=z.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,z(this).val()):e,null==r?r="":"number"==typeof r?r+="":z.isArray(r)&&(r=z.map(r,function(e){return null==e?"":e+""})),t=z.valHooks[this.type]||z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=z.valHooks[r.type]||z.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Je,""):null==n?"":n)}}}),z.extend({valHooks:{option:{get:function(e){var t=z.find.attr(e,"value");return null!=t?t:z.trim(z.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||r<0,o=a?null:[],s=a?r+1:i.length,l=r<0?s:a?r:0;l<s;l++)if(n=i[l],(n.selected||l===r)&&(j.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!z.nodeName(n.parentNode,"optgroup"))){if(t=z(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,a=z.makeArray(t),o=r.length;o--;)if(i=r[o],z.inArray(z.valHooks.option.get(i),a)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),z.each(["radio","checkbox"],function(){z.valHooks[this]={set:function(e,t){if(z.isArray(t))return e.checked=z.inArray(z(e).val(),t)>=0}},j.checkOn||(z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ze,et,tt=z.expr.attrHandle,nt=/^(?:checked|selected)$/i,it=j.getSetAttribute,rt=j.input;z.fn.extend({attr:function(e,t){return fe(this,z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){z.removeAttr(this,e)})}}),z.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===le?z.prop(e,t,n):(1===a&&z.isXMLDoc(e)||(t=t.toLowerCase(),i=z.attrHooks[t]||(z.expr.match.bool.test(t)?et:Ze)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=z.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void z.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(re);if(a&&1===e.nodeType)for(;n=a[r++];)i=z.propFix[n]||n,z.expr.match.bool.test(n)?rt&&it||!nt.test(n)?e[i]=!1:e[z.camelCase("default-"+n)]=e[i]=!1:z.attr(e,n,""),e.removeAttribute(it?n:i)},attrHooks:{type:{set:function(e,t){if(!j.radioValue&&"radio"===t&&z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),et={set:function(e,t,n){return t===!1?z.removeAttr(e,n):rt&&it||!nt.test(n)?e.setAttribute(!it&&z.propFix[n]||n,n):e[z.camelCase("default-"+n)]=e[n]=!0,n}},z.each(z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=tt[t]||z.find.attr;tt[t]=rt&&it||!nt.test(t)?function(e,t,i){var r,a;return i||(a=tt[t],tt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,tt[t]=a),r}:function(e,t,n){if(!n)return e[z.camelCase("default-"+t)]?t.toLowerCase():null}}),rt&&it||(z.attrHooks.value={set:function(e,t,n){return z.nodeName(e,"input")?void(e.defaultValue=t):Ze&&Ze.set(e,t,n)}}),it||(Ze={set:function(e,t,n){var i=e.getAttributeNode(n);if(i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n))return t}},tt.id=tt.name=tt.coords=function(e,t,n){var i;if(!n)return(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},z.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Ze.set},z.attrHooks.contenteditable={set:function(e,t,n){Ze.set(e,""!==t&&t,n)}},z.each(["width","height"],function(e,t){z.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),j.style||(z.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var at=/^(?:input|select|textarea|button|object)$/i,ot=/^(?:a|area)$/i;z.fn.extend({prop:function(e,t){return fe(this,z.prop,e,t,arguments.length>1)},removeProp:function(e){return e=z.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return a=1!==o||!z.isXMLDoc(e),a&&(t=z.propFix[t]||t,r=z.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=z.find.attr(e,"tabindex");return t?parseInt(t,10):at.test(e.nodeName)||ot.test(e.nodeName)&&e.href?0:-1}}}}),j.hrefNormalized||z.each(["href","src"],function(e,t){z.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),j.optSelected||(z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){z.propFix[this.toLowerCase()]=this}),j.enctype||(z.propFix.enctype="encoding");var st=/[\t\r\n\f]/g;z.fn.extend({addClass:function(e){var t,n,i,r,a,o,s=0,l=this.length,c="string"==typeof e&&e;if(z.isFunction(e))return this.each(function(t){z(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(re)||[];s<l;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=z.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,i,r,a,o,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(z.isFunction(e))return this.each(function(t){z(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(re)||[];s<l;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");o=e?z.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):z.isFunction(e)?this.each(function(n){z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=z(this),a=e.match(re)||[];t=a[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else n!==le&&"boolean"!==n||(this.className&&z._data(this,"__className__",this.className),this.className=this.className||e===!1?"":z._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}}),z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),z.fn.extend({wrapAll:function(e){if(z.isFunction(e))return this.each(function(t){z(this).wrapAll(e.call(this,t))});if(this[0]){var t=z(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return z.isFunction(e)?this.each(function(t){z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=z.isFunction(e);return this.each(function(n){z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){z.nodeName(this,"body")||z(this).replaceWith(this.childNodes)}).end()}}),z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!j.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||z.css(e,"display"))},z.expr.filters.visible=function(e){return!z.expr.filters.hidden(e)};var lt=/%20/g,ct=/\[\]$/,ut=/\r?\n/g,dt=/^(?:submit|button|image|reset|file)$/i,pt=/^(?:input|select|textarea|keygen)/i;z.param=function(e,t){var n,i=[],r=function(e,t){t=z.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=z.ajaxSettings&&z.ajaxSettings.traditional),z.isArray(e)||e.jquery&&!z.isPlainObject(e))z.each(e,function(){r(this.name,this.value)});else for(n in e)R(n,e[n],t,r);return i.join("&").replace(lt,"+")},z.fn.extend({serialize:function(){return z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=z.prop(this,"elements");return e?z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!z(this).is(":disabled")&&pt.test(this.nodeName)&&!dt.test(e)&&(this.checked||!me.test(e))}).map(function(e,t){var n=z(this).val();return null==n?null:z.isArray(n)?z.map(n,function(e){return{name:t.name,value:e.replace(ut,"\r\n")}}):{name:t.name,value:n.replace(ut,"\r\n")}}).get()}}),z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Z;var i=X.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=z.buildFragment([e],t,r),r&&r.length&&z(r).remove(),z.merge([],i.childNodes))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return z});var gt=e.jQuery,ft=e.$;return z.noConflict=function(t){return e.$===z&&(e.$=ft),t&&e.jQuery===z&&(e.jQuery=gt),z},typeof t===le&&(e.jQuery=e.$=z),z});var $=window.jQuery.noConflict(!0),optimizelyCode=function(){function appendArray(e,t){e.push.apply(e,t)}function arrayContains(e,t){for(var n=0;n<e.length;n++)if(t==e[n])return!0;return!1}function containsString(e,t){return e.indexOf(t)!==-1}function containsRegEx(e,t){return Boolean(e.match(t));
}function curry(e,t){var n=slice(arguments,1);return function(){var t=slice(arguments);return prependArray(t,n),e.apply(this,t)}}function each(e,t,n){var i=null;if(isArrayLike(e)){for(var r=e.length,a=0;a<r;++a)if(i=t.call(n,e[a],a),isDefined(i))return i}else for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&(i=t.call(n,o,e[o]),isDefined(i)))return i;return i}function map(e,t){if("function"==typeof e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}function extend(e,t){return each(t,function(t,n){e[t]=n}),e}function getFieldValue(e,t){if(isArrayLike(t)){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(!goog.isObject(n)||!n.hasOwnProperty(r))return;n=n[r]}return n}}function filter(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var a=e[i];t(a)&&n.push(a)}return n}function format(e,t){var n=arguments,i=1;return e.replace(/%s/g,function(){return n[i++]})}function generateRandomHexString(){return Math.random().toString(16).replace("0.","")}function inArray(e,t){return each(t,function(t){if(t===e)return!0})||!1}function isArrayLike(e){return!!e&&"object"==typeof e&&"number"==typeof e.length}function isDefined(e){return"undefined"!=typeof e}function isNonNullObject(e){return"object"==typeof e&&null!==e}function isNumberLike(e){return("number"==typeof e||"string"==typeof e)&&Number(e)==e}function isString(e){return"string"==typeof e}function prependArray(e,t){e.unshift.apply(e,t)}function quote(e){return e.replace(/([\f\n\r\t\\'"])/g,"\\$1")}function safeDecodeUriComponent(e){try{return decodeURIComponent(e)}catch(t){return e}}function slice(e,t,n){return Array.prototype.slice.call(e,t||0,n||e.length)}function trim(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function safeToAttemptDocumentWrite(){return"loading"===document.readyState}function beginsWith(e,t){return 0===e.indexOf(t)}function canonicalizeOperator(e){return e=trim((e||"").toString()),OP_MAP[e]||e}function buildPicker(e,t,n){var i={where:t};if(e.count&&(i.limit=e.count),e.modifier===rule_builder.FREQUENCY_FILTERS.MOST_FREQUENT){var r=rule_builder.getFieldKeyPathForSource(e.name,n),a=rule_builder.aggregate("count"),o=rule_builder.aggregateField("count"),s=rule_builder.groupField(r);return extend(i,{select:[{field:s}],groupBy:rule_builder.groupBy([r]),aggregate:[a],orderBy:[{field:o,direction:"DESC"}]})}return extend(i,{orderBy:[{field:[behavior.FIELDS.TIME],direction:"DESC"}]})}var DATA=experimentData,asyncRequest={},preview_loader={},integrator={},api={},distributor={},query={},id={},redirect={},detect={},directive={},json={},tracker={},condition={facade:{}},template={},visitor={},activator={},rule_builder={},main={},rules={},feature_detect={},cookie={},user={},iapi={},evaluator={},data={},dcp={},asyncInfo={},segmenter={},timer={},optly={murmur3:{},Visitor:{},taint:{},nativity:{},timeAndDayInterval:{},client:{third_party:{},geolocation:{},rum:{RumCollector:{}},storage:{Storage:{}},diagnostic:{},Facade:{},preview:{Logger:{}}},CIDR:{},Cleanse:{},match:{},hashing:{}},common={},behavior={Policy:{},FIELDS:{},Store:{},Event:{},EventBase:{}},useragent={},plan={},COMPILED=!1,goog=goog||{};goog.global=this,goog.DEBUG=!0,goog.LOCALE="en",goog.provide=function(e){if(!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e];for(var t=e;(t=t.substring(0,t.lastIndexOf(".")))&&!goog.getObjectByName(t);)goog.implicitNamespaces_[t]=!0}goog.exportPath_(e)},goog.setTestOnly=function(e){if(COMPILED&&!goog.DEBUG)throw e=e||"",Error(": "+e)},COMPILED||(goog.isProvided_=function(e){return!goog.implicitNamespaces_[e]&&!!goog.getObjectByName(e)},goog.implicitNamespaces_={}),goog.exportPath_=function(e,t,n){var i=e.split("."),r=n||goog.global;i[0]in r||!r.execScript||r.execScript("var "+i[0]);for(var a;i.length&&(a=i.shift());)!i.length&&goog.isDef(t)?r[a]=t:r=r[a]?r[a]:r[a]={}},goog.getObjectByName=function(e,t){for(var n,i=e.split("."),r=t||goog.global;n=i.shift();){if(!goog.isDefAndNotNull(r[n]))return null;r=r[n]}return r},goog.globalize=function(e,t){var n=t||goog.global;for(var i in e)n[i]=e[i]},goog.addDependency=function(e,t,n){if(!COMPILED){for(var i,r,a=e.replace(/\\/g,"/"),o=goog.dependencies_,s=0;i=t[s];s++)o.nameToPath[i]=a,a in o.pathToNames||(o.pathToNames[a]={}),o.pathToNames[a][i]=!0;for(var l=0;r=n[l];l++)a in o.requires||(o.requires[a]={}),o.requires[a][r]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.require=function(e){if(!COMPILED){if(goog.isProvided_(e))return;if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.included_[t]=!0,void goog.writeScripts_()}var n="goog.require could not find: "+e;throw goog.global.console&&goog.global.console.error(n),Error(n)}},goog.basePath="",goog.global.CLOSURE_BASE_PATH,goog.global.CLOSURE_NO_DEPS=!0,goog.global.CLOSURE_IMPORT_SCRIPT,goog.nullFunction=function(){},goog.identityFunction=function(e,t){return e},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return"undefined"!=typeof e&&"write"in e},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)return void(goog.basePath=goog.global.CLOSURE_BASE_PATH);if(goog.inHtmlDocument_())for(var e=goog.global.document,t=e.getElementsByTagName("script"),n=t.length-1;n>=0;--n){var i=t[n].src,r=i.lastIndexOf("?"),a=r==-1?i.length:r;if("base.js"==i.substr(a-7,7))return void(goog.basePath=i.substr(0,a-7))}},goog.importScript_=function(e){var t=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[e]&&t(e)&&(goog.dependencies_.written[e]=!0)},goog.writeScriptTag_=function(e){if(goog.inHtmlDocument_()){var t=goog.global.document;return t.write('<script type="text/javascript" src="'+e+'"></script>'),!0}return!1},goog.writeScripts_=function(){function e(r){if(!(r in i.written)){if(r in i.visited)return void(r in n||(n[r]=!0,t.push(r)));if(i.visited[r]=!0,r in i.requires)for(var a in i.requires[r])if(!goog.isProvided_(a)){if(!(a in i.nameToPath))throw Error("Undefined nameToPath for "+a);e(i.nameToPath[a])}r in n||(n[r]=!0,t.push(r))}}var t=[],n={},i=goog.dependencies_;for(var r in goog.included_)i.written[r]||e(r);for(var a=0;a<t.length;a++){if(!t[a])throw Error("Undefined script input");goog.importScript_(goog.basePath+t[a])}},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},goog.isDef=function(e){return void 0!==e},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);/** @preserveTry */
try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var n="array"==t?[]:{};for(var i in e)n[i]=goog.cloneObject(e[i]);return n}return e},goog.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,n){if(!e)throw new Error;if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.unshift.apply(t,n),e.apply(this,t)}},goog.mixin=function(e,t){for(var n in t)e[n]=t[n]},goog.now=Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,n=t.createElement("script");n.type="text/javascript",n.defer=!1,n.appendChild(t.createTextNode(e)),t.body.appendChild(n),t.body.removeChild(n)}}},goog.evalWorksForGlobals_=null,goog.cssNameMapping_,goog.cssNameMappingStyle_,goog.getCssName=function(e,t){var n,i=function(e){return goog.cssNameMapping_[e]||e},r=function(e){for(var t=e.split("-"),n=[],r=0;r<t.length;r++)n.push(i(t[r]));return n.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?i:r:function(e){return e},t?e+"-"+n(t):n(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},goog.global.CLOSURE_CSS_NAME_MAPPING,!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){var n=t||{};for(var i in n){var r=(""+n[i]).replace(/\$/g,"$$$$");e=e.replace(new RegExp("\\{\\$"+i+"\\}","gi"),r)}return e},goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,n)},goog.exportProperty=function(e,t,n){e[t]=n},goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e},goog.base=function(e,t,n){var i=arguments.callee.caller;if(i.superClass_)return i.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1));for(var r=Array.prototype.slice.call(arguments,2),a=!1,o=e.constructor;o;o=o.superClass_&&o.superClass_.constructor)if(o.prototype[t]===i)a=!0;else if(a)return o.prototype[t].apply(e,r);if(e[t]===i)return e.constructor.prototype[t].apply(e,r);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)},json.stringify=function(e){try{return window.JSON.stringify(e)}catch(t){throw new Error("JSON: Unable to stringify ("+t.message+")")}},json.parse=function(e){try{return window.JSON.parse(e)}catch(t){throw new Error("JSON: Unable to parse ("+t.message+")")}},optly.client.preview.ENABLED=!1,optly.client.preview.Logger.log=[],optly.client.preview.Logger.reasons={},optly.client.preview.Logger.addEvent=optly.client.preview.ENABLED?function(e,t){t=extend(t||{},{message:e,date:(new Date).getTime()}),optly.client.preview.Logger.log.push(t)}:goog.nullFunction,optly.client.preview.Logger.setReason=optly.client.preview.ENABLED?function(e,t){optly.client.preview.Logger.reasons[e]=t}:goog.nullFunction,optly.client.preview.Logger.getReason=optly.client.preview.ENABLED?function(e){return optly.client.preview.Logger.reasons[e]}:goog.nullFunction,optly.client.preview.Logger.deleteReason=optly.client.preview.ENABLED?function(e){delete optly.client.preview.Logger.reasons[e]}:goog.nullFunction,optly.client.preview.Logger.clear=optly.client.preview.ENABLED?function(){optly.client.preview.Logger.log=[]}:goog.nullFunction,data.getAdminAccountId=function(){return data.getProperty("admin_account_id")},data.getAudience=function(e){return data.getProperty("audiences",e)},data.getAudienceProperty=function(e,t){return data.getProperty("audiences",e,t)},data.getAudiences=function(){return data.getProperty("audiences")},data.getAudienceSegmentId=function(e){var t=data.getAudienceProperty(e,"segment_id");return t?t:null},data.getClickGoals=function(){if(!data.clickGoalsWithSeparatedSelectors){var e=data.getProperty("click_goals")||[];data.clickGoalsWithSeparatedSelectors=[];for(var t=0,n=e.length;t<n;t++)for(var i=e[t],r=i.selector.split(SELECTOR_DELIMITER),a=0,o=r.length;a<o;a++){var s=r[a];if(s){var l={event_name:i.event_name,selector:s};"experiments"in i?l.experiments=i.experiments:"url_conditions"in i&&(l.url_conditions=i.url_conditions),"revenue"in i&&(l.revenue=i.revenue),data.clickGoalsWithSeparatedSelectors.push(l)}}}return data.clickGoalsWithSeparatedSelectors},data.getConditions=function(e,t){switch(t){case"experiment":return data.getExperimentConditions(e);case"segment":return data.getSegmentConditions(e);default:return[]}},data.usesAudiences=function(e){return!(data.getExperimentConditions(e)||data.getSegmentConditions(e))},data.getCustomRevenueGoals=function(){return data.getProperty("custom_revenue_goals")},data.getDCPServiceId=function(){return data.getProperty("dcp_service_id")||null},data.dcpKeyfieldLocator,data.getDCPKeyfieldLocators=function(){return data.getProperty("dcp_keyfield_locators")||[]},data.getSummaryRevenueGoalId=function(){return data.getProperty("summary_revenue_goal_id")||null},data.getDimension=function(e){return data.getProperty("dimensions",e)},data.getDimensions=function(){return data.getProperty("dimensions")||{}},data.getDimensionIdByApiName=function(e){for(var t in data.getDimensions())if(e===data.getDimensionApiName(t))return t;return null},data.getDimensionProperty=function(e,t){return data.getProperty("dimensions",e,t)},data.getDimensionApiName=function(e){var t=data.getDimensionProperty(e,"api_name");return t?t:null},data.getDimensionType=function(e){var t=data.getDimensionProperty(e,"condition_type");return t?t:null},data.getDimensionName=function(e){var t=data.getDimensionProperty(e,"name");return t?t:null},data.getDimensionSegmentId=function(e){var t=data.getDimensionProperty(e,"segment_id");return t?t:null},data.getEnabledExperimentIds=function(){return data.cachedEnabledExperimentIds||(data.cachedEnabledExperimentIds=filter(data.getExperimentIds(),data.isExperimentEnabled)),data.cachedEnabledExperimentIds},data.getEnabledVariationIds=function(e){return data.getExperimentProperty(e,"enabled_variation_ids")||[]},data.getExperimentAudienceIds=function(e){return data.getExperimentProperty(e,"audiences")||[]},data.getExperimentCode=function(e){return data.getExperimentProperty(e,"code")||""},data.getExperimentStatus=optly.client.preview.ENABLED?function(e){return data.getExperimentProperty(e,"status")}:goog.nullFunction,data.getExperimentConditions=function(e){return data.getExperimentProperty(e,"conditions")},data.getExperimentUrls=function(e){return data.getExperimentProperty(e,"urls")},data.getGoalExpressions=function(){return data.getProperty("goal_expressions")},data.getLegacyUUID=function(){return data.getProperty("legacy_uuid")||!1},data.getMatchingGoalIds=function(e){var t=data.getGoalExpressions(),n=[];for(var i in t)if(t.hasOwnProperty(i))for(var r=t[i],a=0;a<r.length;a++)try{if(new RegExp(r[a],"i").test(e)){n.push(i);break}}catch(o){}return n},data.getProjectClickGoalsWithCustomTargeting=function(){var e=filter(data.getClickGoals(),function(e){return!e.experiments&&condition.testUrls(e.url_conditions||[])});return e},data.getSegmentIdByIdentifier=function(e){var t=data.getSegments();for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(i&&i.api_name===e)return String(n)}return null},data.getSegementIsDefault=optly.client.preview.ENABLED?function(e){return data.getSegmentProperty(e,"is_default")||!1}:goog.nullFunction,data.getSegment=function(e){return data.getSegments()[e]},data.getSegmentAPIOnly=function(e){return data.getSegmentProperty(e,"is_api_only")||!1},data.getSegmentAudienceId=function(e){return data.getSegmentProperty(e,"audience_id")},data.getSegmentConditions=function(e){return data.getSegmentProperty(e,"add_condition")},data.getSegmentIdentifier=function(e){return data.getSegmentProperty(e,"api_name")||""},data.getSegmentName=function(e){return data.getSegmentProperty(e,"name")||"Seg "+e},data.getSegmentValueType=function(e){return data.getSegmentProperty(e,"segment_value_type")||""},data.getUrlConditions=function(e){var t=data.getExperimentConditions(e),n=[];return each(t,function(e){"url"===e.type&&n.push(t)}),n},data.getExperimentCss=function(e){return data.getExperimentProperty(e,"css")||""},data.getExperimentEvents=function(e){var t={},n=data.getExperimentProperty(e,"events")||{};each(n,function(e,n){t[e]=[n]});for(var i=(filter(data.getClickGoals(),function(t){return"experiments"in t&&e in t.experiments})),r=0;r<i.length;r++){var a=i[r];t[a.selector]||(t[a.selector]=[]),t[a.selector].push({eventName:a.event_name,revenue:a.revenue,experimentIds:a.experiments})}return t},data.getExperiments=function(){return data.getProperty("experiments")||{}},data.getBlacklistedExperiments=function(){return data.getProperty("blacklisted_experiments")||{}},data.getExperimentIds=function(){return keys(data.getProperty("experiments")||{})},data.getExperimentIgnorePercentage=function(e){return data.getExperimentProperty(e,"ignore")||0},data.isExperimentManuallyActivated=function(e){return"manual"===data.getExperimentProperty(e,"activation_mode")},data.isExperimentConditionallyActivated=function(e){return"conditional"===data.getExperimentProperty(e,"activation_mode")},data.getConditionalActivationCode=function(e){return data.getExperimentProperty(e,"conditional_code")},data.getExperimentName=function(e){return data.getExperimentProperty(e,"name")||"Exp "+e},data.getExperimentString=function(e){var t=data.getExperimentName(e);return'experiment "'+t+'" ('+e+")"},data.getExperimentSectionIds=function(e){return data.getExperimentProperty(e,"section_ids")||[]},data.getExperimentVariationIds=function(e){return data.getExperimentProperty(e,"variation_ids")||[]},data.getExperimentVariationWeights=function(e){return data.getExperimentProperty(e,"variation_weights")||{}},data.getExperimentSteps=function(e){return data.getExperimentProperty(e,"steps")},data.getGoogleAnalyticsSlot=function(e){var t=data.getGoogleAnalyticsProperty(e),n=0;return isDefined(t)&&(n=t.slot||n),n},data.getGoogleAnalyticsTracker=function(e){var t=data.getGoogleAnalyticsProperty(e),n="";return isDefined(t)&&(n=t.tracker||n),n},data.getInsecurePreview=function(){return!!data.getProperty("insecure_preview")},data.getIPAnonymization=function(){return!!data.getProperty("ip_anonymization")},data.getListTargetedKey=function(e){return data.getListTargetedKeys()[e]},data.getListTargetedKeys=function(){return data.getProperty("list_targeted_keys")||{}},data.getLogUrlRoot=function(){return data.getUrlRoot("log_host",data.getProjectId())+"/event"},data.getPreviewHost=function(){return data.getProperty("preview_host")},data.getProjectId=function(){return data.getProperty("project_id")},data.getProjectCode=function(){return data.getProperty("project_js")},data.getRevision=function(){return data.getProperty("revision")},data.getSectionIds=function(){return keys(data.getProperty("sections")||{})},data.getSegments=function(){return data.getProperty("segments")||{}},data.getSegmentIds=function(){return keys(data.getSegments())},data.getExperimentVariationSectionId=function(e,t){for(var n=data.getExperimentSectionIds(e),i=0;i<n.length;i++){var r=data.getSectionVariationIds(n[i]);if(arrayContains(r,t))return n[i]}return""},data.getPublicSuffix=function(e){var t={},n=data.getProperty("public_suffixes")||{};return each(n,function(e,n){each(n,function(n){t[n]=e})}),data.getPublicSuffix=function(e){return t[e]||""},data.getPublicSuffix.call(null,e)},data.getSectionName=function(e){return data.getSectionProperty(e,"name")||"Sec "+e},data.getSectionVariationIds=function(e){return data.getSectionProperty(e,"variation_ids")||[]},data.getSiteCatalystEVar=function(e){return data.getExperimentProperty(e,"site_catalyst_evar")||null},data.getSiteCatalystProp=function(e){return data.getExperimentProperty(e,"site_catalyst_prop")||null},data.getVariations=function(){return data.getProperty("variations")||{}},data.getVariationIds=function(){return keys(data.getProperty("variations")||{})},data.getVariationCode=function(e){var t=[],n=e.split(VARIATION_ID_DELIMITER);return each(n,function(e){var n=data.getVariationProperty(e,"code");n&&t.push(n)}),t.join("\n")},data.UrlMatchCondition,data.VariationPage,data.getVariationPages=function(e){return data.getVariationProperty(e,"pages")},data.getVariationExperimentId=function(e){if(!data.cachedVariationExperimentIds){var t={};each(data.getExperimentIds(),function(e){each(data.getExperimentSectionIds(e),function(n){each(data.getSectionVariationIds(n),function(n){t[n]=e})}),each(data.getExperimentVariationIds(e),function(n){t[n]=e})}),data.cachedVariationExperimentIds=t}var n=e.split(VARIATION_ID_DELIMITER);return data.cachedVariationExperimentIds[n[0]]||""},data.getVariationIdByIndex=function(e,t){var n=data.getExperimentVariationIds(e),i=null;try{i=n[t]}catch(r){}return i},data.getVariationIndex=function(e){var t=data.getVariationExperimentId(e),n=data.getExperimentSectionIds(t);if(0===n.length){for(var i=data.getExperimentVariationIds(t),r=0;r<i.length;r++)if(i[r]===e)return r}else{for(var a=e.split(VARIATION_ID_DELIMITER),o=[],s=0;s<n.length;s++)for(var l=n[s],c=data.getSectionVariationIds(l),u=0;u<c.length;u++){var d=c[u];d===a[s]&&o.push(u)}if(o!==[])return o}return-1},data.getVariationName=function(e,t){t=t||", ";var n=data.getVariationNamesArray(e);return n.join(t)},data.getVariationNamesArray=function(e){var t=[],n=e.split(VARIATION_ID_DELIMITER);return each(n,function(e){t.push(data.getVariationProperty(e,"name")||"Var "+e)}),t},data.getVariationSectionId=function(e){var t={};return each(data.getSectionIds(),function(e){each(data.getSectionVariationIds(e),function(n){t[n]=e})}),data.getVariationSectionId=function(e){var n=e.split(VARIATION_ID_DELIMITER);return t[n[0]]||""},data.getVariationSectionId.call(null,e)},data.getVersion=function(){return data.getProperty("version")},data.getWebHost=function(){return data.getProperty("www_host")},data.isProductionHost=function(){return/\.optimizely\.(?!test)[^.]+$/.test(data.getWebHost())},data.isExperimentEnabled=function(e){return!!data.getExperimentProperty(e,"enabled")},data.isChartbeatEnabled=function(e){return!!data.getChartbeatProperty(e)},data.isClickTaleEnabled=function(e){return!!data.getClickTaleProperty(e)},data.isComscoreEnabled=function(e){return!!data.getComscoreProperty(e,"url")},data.isCrazyEggEnabled=function(e){return!!data.getCrazyEggProperty(e)},data.isForceVariationEnabled=function(){return!!data.getProperty("force_variation")},data.isGeotargetingEnabled=function(e){return!!data.getGeotargetingProperty(e)},data.isGoogleAnalyticsEnabled=function(e){return!!data.getGoogleAnalyticsProperty(e)},data.isUniversalAnalyticsEnabled=function(e){return!!data.getUniversalAnalyticsProperty(e,"slot")},data.isInstallationVerified=function(){return!!data.getProperty("installation_verified")},data.isInspectletEnabled=function(e){return!!data.getInspectletProperty(e)},data.isKissMetricsEnabled=function(){return!!data.getProperty("kissmetrics")},data.isListTargetingEnabled=function(){return!!data.getProperty("uses_list_targeting")},data.isMixpanelEnabled=function(e){return!!data.getMixpanelProperty(e)},data.isMoatEnabled=function(e){return!!data.getMoatProperty(e)},data.isSessioncamEnabled=function(e){return!!data.getSessioncamProperty(e)},data.isATInternetEnabled=function(e){return!!data.getExperimentProperty(e,"at_internet")},data.isRemotePublicSuffixEnabled=function(){return!!data.getProperty("remote_public_suffix")},data.isSimpleCookiesEnabled=function(){return!!data.getProperty("simple_cookies")},data.isStagingLogEnabled=function(){return!!data.getProperty("use_staging_log")},data.isDynamicCustomerProfileTargetingEnabled=function(){return!!data.getProperty("uses_dynamic_customer_profile_targeting")},data.getExperimentProperty=function(e,t){return data.getProperty("experiments",e,t)},data.getChartbeatProperty=function(e){return data.getExperimentProperty(e,"chartbeat")},data.getRedirectTimeout=function(){return data.getProperty("redirect_timeout")||REDIRECT_COOKIE_SECONDS},data.getClickTaleProperty=function(e){return data.getExperimentProperty(e,"clicktale")},data.getComscoreProperty=function(e,t){var n=data.getExperimentProperty(e,"comscore");return isDefined(n)?n[t]:null},data.getCrazyEggProperty=function(e){return data.getExperimentProperty(e,"crazyegg")},data.getGeotargetingProperty=function(e){var t="uses_geotargeting";return data.getExperimentProperty(e,t)||data.getSegmentProperty(e,t)},data.getGoogleAnalyticsProperty=function(e){return data.getExperimentProperty(e,"google_analytics")},data.getUniversalAnalyticsProperty=function(e,t){var n=data.getExperimentProperty(e,"universal_analytics");return isDefined(n)?n[t]:null},data.getInspectletProperty=function(e){return data.getExperimentProperty(e,"inspectlet")},data.getMixpanelProperty=function(e){return data.getExperimentProperty(e,"mixpanel")},data.getMoatProperty=function(e){return data.getExperimentProperty(e,"moat")},data.getSessioncamProperty=function(e){return data.getExperimentProperty(e,"sessioncam")},data.getProperty=function(e){var t=DATA,n=each(arguments,function(e){var n=t[e];return isDefined(n)?void(t=n):null});if(null!==n)return t},data.getSectionProperty=function(e,t){return data.getProperty("sections",e,t)},data.getSegmentProperty=function(e,t){return data.getProperty("segments",e,t)},data.getUrlRoot=function(e,t){var n=data.getProperty(e);return t&&(n=t.toString()+"."+n),"https://"+n},data.getVariationProperty=function(e,t){return data.getProperty("variations",e,t)},data.rumSamplingRate=function(){var e=data.getProperty("rum_sampling_rate");return isDefined(e)?e:.003},data.isBehaviorEnabled=function(){return!!data.getProperty("is_behavior_enabled")},data.hasSlave=function(){return!!data.getProperty("slave")},data.clickGoalsWithSeparatedSelectors=null,data.cachedEnabledExperimentIds=null,data.cachedVariationExperimentIds=null,cookie.delimiterPattern=/\s*;\s*/,cookie.valuePattern=/^([^=]+)=?(.*)$/,cookie.get=function(e){var t=[];return each(cookie.getAll(),function(n){e===n.name&&t.push(safeDecodeUriComponent(n.value))}),0===t.length?null:(t.length>1&&log("Cookie","Values found for %s: %s",e,t.length),t.pop())},cookie.initialized=!1,cookie.initialize=function(){if(cookie.initialized)return void log("Cookie","Already initialized.");log("Cookie","Initializing.");var e=document.location.hostname;data.isSimpleCookiesEnabled()?(cookie.highestLevelDomain=e,cookie.possibleDomains=cookie.findPossibleDomains(),cookie.possibleDomains.length>0?(cookie.highestLevelDomain=cookie.possibleDomains[0],log("Cookie","Highest level domain: %s",cookie.highestLevelDomain)):(log("Cookie","Disabling event tracking because cookies could not be set"),directive.shouldTrackEvents=!1)):(cookie.guessedPublicSuffix=cookie.guessPublicSuffix(e),log("Cookie","Guessed public suffix: %s",cookie.guessedPublicSuffix),cookie.publicSuffix=data.getPublicSuffix(e),log("Cookie","Public suffix (from data): %s",cookie.publicSuffix)),cookie.apiPublicSuffix&&log("Cookie","Domain specified by API: %s",cookie.apiPublicSuffix),cookie.initialized=!0,log("Cookie","Done initializing.")},cookie.remove=function(e){cookie.deleteFromDomain(e,cookie.getCurrentSuffix())},cookie.getAll=function(e){var t=[];return e=e||"",each((document.cookie||"").split(cookie.delimiterPattern),function(n){var i=n.match(cookie.valuePattern);i&&0===i[1].indexOf(e)&&t.push({name:i[1],value:i[2],raw:n})}),t},cookie.set=function(e,t,n){if(cookie.initialize(),t=t||"",data.isSimpleCookiesEnabled())return void cookie.setUsingSimpleLogic(e,t,n);var i=cookie.getCurrentSuffix(),r=document.location.hostname;!cookie.publicSuffix&&data.isRemotePublicSuffixEnabled()&&cookie.queue.push({age:n,name:e,value:t}),i&&i===cookie.publicSuffix&&i!==cookie.guessedPublicSuffix&&(cookie.deleteFromDomain(e,r),cookie.deleteFromDomain(e,cookie.guessedPublicSuffix)),cookie.setOnDomain(e,t,i,n);var a=cookie.get(e);a===t?log("Cookie","Successfully set %s=%s on %s",e,t,i):(log("Cookie","Setting %s on %s apparently failed (%s != %s)",e,i,a,t),log("Cookie","Setting %s on %s",e,r),cookie.setOnDomain(e,t,r,n),a=cookie.get(e),a===t?(log("Cookie","Setting %s on %s worked; saving as new public suffix",e,r),cookie.guessedPublicSuffix=r):(log("Cookie","Could not set cookie %s, disabling event tracking.",e),directive.shouldTrackEvents=!1))},cookie.deleteFromDomain=function(e,t){var n=[e,"=","; ",cookie.formatDomainString(t),"; path=/","; expires=",new Date(0).toUTCString()];document.cookie=n.join("")},cookie.findPossibleDomains=function(){for(var e=document.location.hostname.split("."),t=[],n=e.length-1;n>=0;--n){var i=e.slice(n).join("."),r=DOMAIN_TEST_COOKIE_NAME_PREFIX+generateRandomHexString(),a=generateRandomHexString();cookie.setOnDomain(r,a,i,DOMAIN_TEST_COOKIE_EXPIRATION);var o=cookie.get(r);o===a&&t.push(i)}return t},cookie.getCurrentSuffix=function(){return data.isSimpleCookiesEnabled()?cookie.apiPublicSuffix||cookie.highestLevelDomain:cookie.apiPublicSuffix||cookie.publicSuffix||cookie.guessedPublicSuffix},cookie.formatDomainString=function(e){var t=[];return t.push("domain="),"localhost"!==e&&(t.push("."),t.push(e)),t.join("")},cookie.guessPublicSuffix=function(e){var t=e.split("."),n=e,i=t[t.length-1];return t.length>2&&"appspot"===t[t.length-2]&&"com"===i?n=t[t.length-3]+".appspot.com":t.length>1&&inArray(i,TOP_LEVEL_DOMAINS)&&(n=t[t.length-2]+"."+i),n},cookie.setOnDomain=function(e,t,n,i){var r=[e,"=",encodeURIComponent(t),"; ",cookie.formatDomainString(n),"; path=/"];if(i){var a=new Date(+new Date+1e3*i);r.push("; expires=",a.toUTCString())}document.cookie=r.join("")},cookie.setUsingSimpleLogic=function(e,t,n){each(cookie.possibleDomains,function(t){cookie.deleteFromDomain(e,t)});var i=cookie.getCurrentSuffix();cookie.setOnDomain(e,t,i,n);var r=cookie.get(e),a=r===t?"Succeeded":"Failed";log("Cookie","%s setting %s=%s on %s",a,e,t,i)},cookie.setApiPublicSuffix=function(e){var t=cookie.getCurrentSuffix();t!==e&&(cookie.apiPublicSuffix=String(e)||"",log("Cookie","Api public suffix set to: %s",cookie.apiPublicSuffix))},cookie.guessedPublicSuffix="",cookie.apiPublicSuffix="",cookie.highestLevelDomain="",cookie.possibleDomains=[],cookie.publicSuffix="",cookie.queue=[];var AUDIENCE_COOKIE_NAME="optimizelyAudiences",DAY_IN_SECONDS=86400,DEFAULT_TRACKING_COOKIE_EXPIRATION=31536e4,MINIMUM_TRACKING_COOKIE_EXPIRATION=7776e3,BEHAVIOR_EVENT_HASH_SEED=2716770798,BUCKET_COOKIE_NAME="optimizelyBuckets",CUSTOM_EVENTS_COOKIE_NAME="optimizelyCustomEvents",CUSTOM_EVENTS_STORAGE_NAME="customEvents",DOMAIN_TEST_COOKIE_EXPIRATION=3,DOMAIN_TEST_COOKIE_NAME_PREFIX="optimizelyDomainTest-",EVALUATION_WAIT_INTERVAL=50,FIRST_EVALUATION_WAIT_INTERVAL=10,GLOBAL="optimizely",GLOBAL_DATA="data",GEO_CONDITION_WAIT_INTERVAL=1e3,GEO_TIMEOUT=2e3,IGNORED_VARIATION_ID="0",OPT_OUT_COOKIE_NAME="optimizelyOptOut",PENDING_LOG_EVENTS_COOKIE_AGE=15,PENDING_LOG_EVENTS_COOKIE_MAX_LENGTH=1536,PENDING_LOG_EVENTS_COOKIE_NAME="optimizelyPendingLogEvents",PREVIEW_COOKIE_NAME="optimizelyPreview",REDIRECT_COOKIE_FALSE="false",REDIRECT_COOKIE_SECONDS=5,REDIRECT_COOKIE_TRUE="true",REDIRECT_COOKIE_NAME="optimizelyRedirect",REFERRAL_CHARTBEAT_COOKIE_NAME="optimizelyChartbeat",REFERRER_REDIRECT_COOKIE_NAME="optimizelyReferrer",SEGMENTS_COOKIE_NAME="optimizelySegments",SELECTOR_DELIMITER=",",SOURCE_COOKIE_AGE=3,SOURCE_COOKIE_DELIMITER="|||",SOURCE_COOKIE_NAME="sourceCookie",TEST_MODULE=window.OPTIMIZELY_TEST_MODULE,TOKEN_COOKIE_KEEP_ALIVE=15,TOKEN_COOKIE_NAME="optimizelyToken",TOP_LEVEL_DOMAINS=["com","local","net","org","xxx","edu","es","gov","biz","info","fr","nl","ca","de","kr","it","me","ly","tv","mx","cn","jp","il","in","iq","test"],USER_ID_COOKIE_NAME="optimizelyEndUserId",PPID_COOKIE_NAME="optimizelyPPID",VARIATION_CODE_DELIMITER="\n",VARIATION_ID_DELIMITER="_",VARIATION_URL_DELIMITER=" ",VARIATION_URL_START="_optimizely_variation_url",VARIATION_URL_START_RE=/\/\*\s*_optimizely_variation_url( +include="([^"]*)")?( +exclude="([^"]*)")?( +match_type="([^"]*)")?( +include_match_types="([^"]*)")?( +exclude_match_types="([^"]*)")?( +id="([^"]*)")?\s*\*\//,VARIATION_URL_END="/* _optimizely_variation_url_end */",VARIATION_URL_END_RE=/\/\*\s*_optimizely_variation_url_end\s*\*\//,SIGNED_IN_BODY_CLASS="signed-in",HOTFIX_ENG_1636_COOKIE="optimizelyReportableFix";directive.delayPageviewTracking=0,directive.forceTracking=!1,directive.isSomeClientEnabled=function(){return directive.isEnabled||directive.isNewClientEnabled},directive.isEnabled=!0,directive.isNewClientEnabled=!0,directive.isEditor=!1,directive.isPersonalizationEditor=!1,directive.isDesktopAppEditor=!1,directive.optOutThirdPartyCookies=!1,directive.previewScriptName="",directive.previewVerified=!1,directive.requestedInvalidForceParameters=!1,directive.shouldLoadPreview=!1,directive.shouldLog=!1,directive.shouldLogVerbosely=!1,directive.shouldOverrideThirdPartyCookie=!1,directive.shouldSkipPageTracking=!1,directive.shouldTrackEvents=!0,directive.trackingCookieExpiration=DEFAULT_TRACKING_COOKIE_EXPIRATION,id.getId=function(){return cookie.get(USER_ID_COOKIE_NAME)},id.getOrGenerateId=function(){var e=cookie.get(USER_ID_COOKIE_NAME);return e||(e="oeu"+ +new Date+"r"+Math.random(),cookie.set(USER_ID_COOKIE_NAME,e,directive.trackingCookieExpiration)),e},id.getPPID=function(){return data.getLegacyUUID()?cookie.get(PPID_COOKIE_NAME):(id.unsetPPID(),null)},id.setPPID=function(e){data.getLegacyUUID()&&cookie.set(PPID_COOKIE_NAME,e,directive.trackingCookieExpiration)},id.unsetPPID=function(){cookie.remove(PPID_COOKIE_NAME)},id.hasPPID=function(){return null!==id.getPPID()};var every=function(e,t){var n=!0;return each(e,function(e){if(!t(e))return n=!1}),n},any=function(e,t){var n=!1;return each(e,function(e){if(t(e))return n=!0}),n},keys=function(e){return keys=Object.keys||function(e){var t=[];return each(e,function(e){t.push(e)}),t},keys.call(null,e)},loadScript=function(scriptUrl,attemptSynchronousLoad){var loadScriptAsynchronously=function(){var e=document.head||document.getElementsByTagName("head")[0]||document.documentElement,t=document.createElement("script");t.src=scriptUrl,t.type="text/javascript",e.appendChild(t)};if(attemptSynchronousLoad)try{if(!safeToAttemptDocumentWrite())throw new Error(goog.DEBUG&&"Not safe to attempt document.write");var id="optimizely_synchronous_script_"+Math.floor(1e5*Math.random());if(scriptUrl.indexOf('"')!==-1)return void timer.addEvent("loadScript","Blocked attempt to load unsafe script: "+scriptUrl);if(document.write('<script id="'+id+'" src="'+scriptUrl+'"></script>'),1!==$("#"+id).length)throw new Error(goog.DEBUG&&"Document.write failed to append script")}catch(e){try{var request=new XMLHttpRequest;request.open("GET",scriptUrl,!1),request.onload=function(){eval(request.responseText)},request.onerror=function(){throw new Error},request.send()}catch(err){log("Common","Failed to load %s synchronously",scriptUrl),loadScriptAsynchronously()}}else loadScriptAsynchronously()},log=function(e,t,n){var i=window.console;if(directive.shouldLog&&i&&i.log){var r=slice(arguments,1);r[0]="Optimizely / "+e+" / "+t,Function.prototype.apply.call(i.log,i,r)}};optly.client.storage.StorageMetrics,optly.client.storage.Storage=function(e){this.storage=e,this.metrics_={totalGets:0,totalGetLength:0,totalGetTime:0,totalSets:0,totalSetLength:0,totalSetTime:0,numKeys:0,totalSize:0}},optly.client.storage.Storage.prototype.getKeyPath=function(e){return[optly.client.storage.LOCAL_STORAGE_KEY,e].join("$$")},optly.client.storage.Storage.prototype.get=function(e){try{var t=+new Date,n=this.storage.getItem(this.getKeyPath(e)),i=json.parse(n);return this.metrics_.totalGetTime+=+new Date-t,this.metrics_.totalGets++,this.metrics_.totalGetLength+=(n||"").length,i}catch(r){return null}},optly.client.storage.Storage.prototype.set=function(e,t){try{var n=+new Date,i=json.stringify(t);isDefined(t)?this.storage.setItem(this.getKeyPath(e),i):this.storage.removeItem(this.getKeyPath(e)),this.metrics_.totalSetTime+=+new Date-n,this.metrics_.totalSets++,this.metrics_.totalSetLength+=i.length}catch(r){}},optly.client.storage.Storage.prototype.metrics=function(){var e=0,t=0;for(var n in this.storage)if(beginsWith(n,optly.client.storage.LOCAL_STORAGE_KEY)){t++;var i=this.storage.getItem(n);e+=n.length+(i?i.length:0)}return this.metrics_.numKeys=t,this.metrics_.totalSize=e,this.metrics_},optly.client.storage.Storage.prototype.migrateIfNecessary=function(){var e=this.storage.getItem(optly.client.storage.LOCAL_STORAGE_KEY),t={};try{t=json.parse(e)||{}}catch(n){}if(0!==keys(t).length){var i=id.getPPID()||id.getId(),r=t[i]||{};for(var a in r)if(r.hasOwnProperty(a)){var o=[i,a].join("$$");null===this.get(o)&&this.set(o,r[a])}delete t[i];for(a in t)t.hasOwnProperty(a)&&(null===this.get(a)&&this.set(a,t[a]),delete t[a]);try{e=json.stringify(t)}catch(n){e={}}this.storage.setItem(optly.client.storage.LOCAL_STORAGE_KEY,e)}},optly.client.storage.initialize=function(){try{optly.client.storage.localStorage=new optly.client.storage.Storage(window.localStorage),optly.client.storage.sessionStorage=new optly.client.storage.Storage(window.sessionStorage),optly.client.storage.localStorage.migrateIfNecessary()}catch(e){}},optly.client.storage.MockStorageInterface={get:function(e){},set:function(e,t){},metrics:function(){return{}}},optly.client.storage.LOCAL_STORAGE_KEY="optimizely_data",optly.client.storage.localStorage=optly.client.storage.MockStorageInterface,optly.client.storage.sessionStorage=optly.client.storage.MockStorageInterface,optly.client.storage.initialize(),optly.murmur3.hash32=function(e,t){function n(e,t){var n=65535&t,i=t-n;return(i*e|0)+(n*e|0)|0}t=t||0;for(var i,r=3432918353,a=461845907,o=e.length,s=t,l=o&-4,c=0;c<l;c+=4)i=255&e.charCodeAt(c)|(255&e.charCodeAt(c+1))<<8|(255&e.charCodeAt(c+2))<<16|(255&e.charCodeAt(c+3))<<24,i=n(i,r),i=(131071&i)<<15|i>>>17,i=n(i,a),s^=i,s=(524287&s)<<13|s>>>19,s=5*s+3864292196|0;switch(i=0,o%4){case 3:i=(255&e.charCodeAt(l+2))<<16;case 2:i|=(255&e.charCodeAt(l+1))<<8;case 1:i|=255&e.charCodeAt(l),i=n(i,r),i=(131071&i)<<15|i>>>17,i=n(i,a),s^=i}return s^=o,s^=s>>>16,s=n(s,2246822507),s^=s>>>13,s=n(s,3266489909),s^=s>>>16},optly.hashing.HashSeed={IGNORING:0,BUCKETING:1,FALLBACK:2},optly.hashing.MAX_HASH_VALUE=Math.pow(2,32),optly.hashing.hashToReal=function(e,t){var n=optly.murmur3.hash32(e,t);return(n>>>0)/optly.hashing.MAX_HASH_VALUE},optly.hashing.hashToHex=function(e,t){var n=optly.murmur3.hash32(e,t);return(n>>>16).toString(16)+(65535&n).toString(16)},optly.hashing.toByteString=function(e){var t=String.fromCharCode;return e.replace(/[\S\s]/gi,function(e){e=e.charCodeAt(0);var n=t(255&e);return e>255&&(n=t(e>>>8&255)+n),e>65535&&(n=t(e>>>16)+n),n})},optly.hashing.experimentUserHash=function(e,t,n){return optly.hashing.hashToReal(e+t,n)},optly.hashing.hashToInt=function(e,t,n,i){return Math.floor(optly.hashing.experimentUserHash(e,t,n)*i)},user.LEGACY_BROWSER=!0,
user.getBrowser=function(){return user.detectionResults=user.detectionResults||detect.detect(),user.detectionResults},user.getBrowserId=function(){return user.getBrowser().browserId},user.getBrowserLanguage=function(){var e="";try{e=navigator.userLanguage||window.navigator.language,e=e.toLowerCase()}catch(t){e=""}return e},user.getBrowserVersion=function(){return user.getBrowser().browserVersion},user.getCurrentUrl=function(){return user.currentUrl||window.location.href},user.getDevice=function(){return user.getBrowser().device},user.getDeviceId=function(){return user.getDevice().id},user.getDomain=function(e){if(!e)return"";try{return e.match(/:\/\/(?:www[0-9]?\.)?(.[^/:]+)/)[1]}catch(t){return""}},user.getPlatform=function(){return user.getBrowser().platform},user.getReferrer=function(){var e=cookie.get(REFERRER_REDIRECT_COOKIE_NAME);return e||document.referrer||""},user.getKeyPath=function(e){var t=id.getPPID()||id.getOrGenerateId();return[t,e].join("$$")},user.getUserData=function(e){return optly.client.storage.localStorage.get(user.getKeyPath(e))},user.setUserData=function(e,t){optly.client.storage.localStorage.set(user.getKeyPath(e),t)},user.getMobileId=user.LEGACY_BROWSER?function(){var e=["android","blackberry","ipad","iphone","ipod","windows phone"];return arrayContains(e,user.getDeviceId())?user.getDeviceId():arrayContains(e,user.getPlatform().id)?user.getPlatform().id:user.isMobile()?"mobile":"unknown"}:goog.nullFunction,user.isMobile=function(){return user.getDevice().isMobile},user.getNewVsReturning=function(){return user.isReturningUser?"returning":"new"},user.isFirstSession=function(){return!user.isReturningUser||!!optly.client.storage.sessionStorage.get(user.FIRST_SESSION_KEY)},user.getPlatform=function(){return user.getBrowser().platform},user.isBot=function(e){var t=["googlebot","yahoo! slurp","bingbot","bingpreview","msnbot","keynote","ktxn","khte","gomezagent","alertsite","yottaamonitor","pingdom.com_bot","aihitbot","baiduspider","adsbot-google","mediapartners-google","applebot"],n=e||navigator.userAgent;n=n.toLowerCase();for(var i=0;i<t.length;i++){var r=t[i];if(n.indexOf(r)!==-1)return!0}return!1},user.initialize=function(){if(directive.isEnabled){var e=id.getId();user.isReturningUser=void 0!==e&&null!==e,user.isBot()?directive.shouldTrackEvents=!1:user.isReturningUser||optly.client.storage.sessionStorage.set(user.FIRST_SESSION_KEY,!0)}},user.setCurrentUrl=function(e){log("User","Setting current URL to %s",e),user.currentUrl=e},user.FIRST_SESSION_KEY="first_session",user.currentUrl=void 0,user.detectionResults=void 0,user.isReturningUser=void 0,timer.addEvent=function(e,t,n){timer.eventQueue.push({date:new Date,category:e,message:t,isVerbose:n||!1}),timer.shouldOutputImmediately&&timer.flushLogs()},timer.enableLogging=function(){directive.shouldLog=!0},timer.enableVerboseLogging=function(){directive.shouldLog=!0,directive.shouldLogVerbosely=!0},timer.flushLogs=function(){directive.shouldLog&&(each(timer.eventQueue,function(e){if(!(e.logged||e.isVerbose&&e.isVerbose!==directive.shouldLogVerbosely)){var t=+e.date,n=timer.lastTime?t-timer.lastTime:0,i=timer.startTime?t-timer.startTime:0,r=" [time "+i+" +"+n+"]";log(e.category,e.message+r),timer.lastTime=t,timer.startTime||(timer.startTime=t),e.logged=!0}}),timer.shouldOutputImmediately=!0)},timer.lastTime=null,timer.startTime=null,timer.eventQueue=[],timer.shouldOutputImmediately=!1,asyncInfo.AsyncInfo,asyncInfo.STORAGE_KEY="asyncInfo",asyncInfo.Source={AKAMAI:"cdn3",ODDS:"odds",DCPS:"dcps"},asyncInfo.asyncInfos={},asyncInfo.get=function(e){return asyncInfo.asyncInfos[e]||null},asyncInfo.set=function(e,t){asyncInfo.asyncInfos[e]=t},asyncInfo.maybeMigrateAndCleanupStore=function(){var e=optly.client.storage.localStorage.get(asyncInfo.STORAGE_KEY);if(e){var t=user.getUserData(asyncInfo.STORAGE_KEY);t||user.setUserData(asyncInfo.STORAGE_KEY,e),optly.client.storage.localStorage.set(asyncInfo.STORAGE_KEY,null)}},asyncInfo.loadFromStore=function(){asyncInfo.maybeMigrateAndCleanupStore();var e=user.getUserData(asyncInfo.STORAGE_KEY);e&&each(e,asyncInfo.set)},asyncInfo.writeAroundToStore=function(e,t){var n=user.getUserData(asyncInfo.STORAGE_KEY)||{};n[e]=t,user.setUserData(asyncInfo.STORAGE_KEY,n)},asyncInfo.getIP=function(){var e=asyncInfo.get(asyncInfo.Source.ODDS)&&asyncInfo.get(asyncInfo.Source.ODDS).ip||asyncInfo.get(asyncInfo.Source.AKAMAI)&&asyncInfo.get(asyncInfo.Source.AKAMAI).ip;return e?asyncInfo.formatGeoField(e):null},asyncInfo.getLists=function(){return asyncInfo.get(asyncInfo.Source.ODDS)?asyncInfo.get(asyncInfo.Source.ODDS).lists||{}:null},asyncInfo.getListsMetadata=function(){return asyncInfo.get(asyncInfo.Source.ODDS)?asyncInfo.get(asyncInfo.Source.ODDS).lists_metadata||{}:null},asyncInfo.getValueForListTargetedKeyWhenCachePopulated=function(e){if(!asyncInfo.getLists())return timer.addEvent("Async Info","Invalid response from ODDS"),{value:void 0,isKnown:!1};if(!asyncInfo.getLists().hasOwnProperty(e))return timer.addEvent("Async Info","Deduced cachetime value that was checked for presence in list: "+e),{value:void 0,isKnown:!0};var t=asyncInfo.getListsMetadata();return t&&t[e]&&t[e][0]?(timer.addEvent("Async Info","Found cachetime value that was checked for presence in list: "+e),{value:t[e][0].value,isKnown:!0}):(timer.addEvent("Async Info","Can't find cachetime value that was checked for presence in list: "+e),{value:void 0,isKnown:!1})},asyncInfo.getListMembershipStatus=function(e){var t=data.getListTargetedKey(e),n=isDefined(t)&&asyncRequest.isListTargetedKeyWithVariableValue(t);if(n){var i=asyncRequest.getCurrentValueForListTargetedKey(t);if(null===i)return timer.addEvent("Async Info","Deduced membership status (false) for list: "+e),!1;timer.addEvent("Async Info","Found current value to check for presence in list: "+e)}var r=asyncInfo.getLists();if(!r)return timer.addEvent("Async Info","No list membership info."),null;if(n){var a=asyncInfo.getValueForListTargetedKeyWhenCachePopulated(e);if(a.isKnown&&a.value!==i)return timer.addEvent("Async Info","Ignoring out-of-date membership status for list: "+e),null}var o=!!r[e];return timer.addEvent("Async Info","Found membership status ("+o+") for list: "+e),o},asyncInfo.getListMembershipStatuses=function(){var e={};return each(data.getListTargetedKeys(),function(t){e[t]=asyncInfo.getListMembershipStatus(t)}),e},asyncInfo.getLocation=function(){if(!asyncInfo.get(asyncInfo.Source.AKAMAI))return null;var e=asyncInfo.get(asyncInfo.Source.AKAMAI).location||{};return{continent:asyncInfo.formatGeoField(e.continent),country:asyncInfo.formatGeoField(e.country),region:asyncInfo.formatGeoField(e.region),city:asyncInfo.formatGeoField(e.city)}},asyncInfo.cache,asyncInfo.dcpCache={get:function(){return asyncInfo.get(asyncInfo.Source.DCPS)},set:function(e){asyncInfo.writeAroundToStore(asyncInfo.Source.DCPS,e),asyncInfo.set(asyncInfo.Source.DCPS,e)}},asyncInfo.getDynamicCustomerProfileConditions=function(){var e=asyncInfo.dcpCache.get();return e?null===e.rulesResults?null:e.rulesResults||{}:null},asyncInfo.formatGeoField=function(e){return"string"!=typeof e?null:"N/A"===e.toUpperCase()?null:e.toUpperCase()};var ENABLED_UNIVERSAL_ANALYTICS=!0,ENABLED_AT_INTERNET=!0,ENABLED_COMSCORE=!0,ENABLED_MOAT=!0,ENABLED_INSPECTLET=!0,UA_EXPERIMENT_MAX_CHARACTERS=80,UA_DIMENSION_MAX_CHARACTERS=150,INTERNAL_LIST_NAME_PREFIX="_",INTERNAL_LIST_NAME_PART_DELIMITER="__";integrator.activateSiteCatalyst=function(e){if(e=e||{},directive.shouldTrackEvents){e&&e.sVariable&&integrator.setSiteCatalystSVar(e.sVariable);var t=integrator.getSiteCatalystSVar();if(!t)return void timer.addEvent("Integrator","Error with SiteCatalyst integration: 's' variable not defined");if(!integrator.hasIntegratedThirdParties)return void(integrator.alsoActivateSiteCatalyst=!0);integrator.fixSiteCatalystReferrer(t),log("Integrator","Tracking with SiteCatalyst"),each(integrator.getRelevantVariationIds(),function(e){var n=data.getVariationExperimentId(e),i=integrator.makeSendableNames(n,e,100,100,25,!0),r=i.key+": "+i.value;each(integrator.getSiteCatalystKeys(n),function(e){log("Integrator","Setting SiteCatalyst %s='%s'",e,r),t[e]=r})})}},integrator.googleAnalyticsCustomVariableScope=function(e){return e=isNumberLike(e)?Number(e):-1,[1,2,3].indexOf(e)===-1?integrator._googleAnalyticsCustomVariableScope:void(integrator._googleAnalyticsCustomVariableScope=e)},integrator.loadThirdPartySegments=function(e){timer.addEvent("Integrator","Loading third-party segments."),window.bk_results&&integrator.loadBlueKaiSegments(window.bk_results,e)},integrator.makeThirdPartyRequests=function(){if(directive.shouldTrackEvents){integrator.fixGoogleAnalyticsReferrer();var e=[];each(integrator.getRelevantVariationIds(),function(t){var n=data.getVariationExperimentId(t);data.isChartbeatEnabled(n)&&integrator.makeChartbeatRequest(n,t),data.isComscoreEnabled(n)&&integrator.makeComscoreRequest(n,t),data.isCrazyEggEnabled(n)&&integrator.makeCrazyEggRequest(n,t),data.isGoogleAnalyticsEnabled(n)&&integrator.makeGoogleAnalyticsRequest(n,t),data.isInspectletEnabled(n)&&integrator.makeInspectletRequest(n,t),data.isKissMetricsEnabled()&&integrator.makeKissMetricsRequest(n,t),data.isMixpanelEnabled(n)&&integrator.makeMixpanelRequest(n,t),data.isMoatEnabled(n)&&integrator.makeMoatRequest(n,t),data.isSessioncamEnabled(n)&&(e=e.concat(integrator.createSessioncamData(n,t))),data.isATInternetEnabled(n)&&integrator.queueATInternetRequest(n,t)}),e.length>0&&integrator.makeSessioncamRequest(e),keys(integrator.ATInternetExperimentValues).length>0&&("function"==typeof window.xt_mvt?integrator.ATInternetOnloadHandler():$(window).bind("load.ATInternet",integrator.ATInternetOnloadHandler)),integrator.makeChartbeatReferralRequest(),integrator.hasIntegratedThirdParties=!0,integrator.alsoActivateUniversalAnalytics&&(integrator.activateUniversalAnalytics(),integrator.alsoActivateUniversalAnalytics=!1),integrator.alsoActivateSiteCatalyst&&(integrator.activateSiteCatalyst(),integrator.alsoActivateSiteCatalyst=!1)}},integrator.playbackClickTale=function(){if(window.ClickTaleContext){try{window.ClickTaleContext.getAggregationContextAsync("1",function(e){e.Location&&window.optimizely.push(["overrideUrl",e.Location]);for(var t in e.PageEvents){var n=e.PageEvents[t][2].match(/x[0-9]+=[0-9_]+/g);log("Integrator","Playback ClickTale Integration - %s",n);for(var t=0;t<n.length;t++){log("Integrator","Playback ClickTale Integration - %s",n[t]);for(var i=n[t].split("=")[0].substr(1),r=n[t].split("=")[1].split("_"),a=0;a<r.length;a++)integrator.getRedirectURL(r[a])?log("Integrator","Skip activation for redirect."):window.optimizely.push(["activate",i,r[a],{force:!0}])}}})}catch(e){log("Integrator","Playback ClickTale Aggregation Integration failed.")}try{window.ClickTaleContext.getRecordingContextAsync("1.1",function(e){if(e.inSingleRecordingScope){e.location&&window.optimizely.push(["overrideUrl",e.location]),log("Integrator","Playback ClickTale getRecordingContextAsync callback");for(var t in e.fields)log("Integrator","Playback ClickTale Integration - %s=%s",t,e.fields[t]),integrator.getRedirectURL(e.fields[t])?log("Integrator","Skip activation for redirect."):window.optimizely.push(["activate",t,e.fields[t],{force:!0}])}})}catch(e){log("Integrator","Playback ClickTale Recording Integration failed.")}}else log("Integrator","ClickTaleContext not defined.")},integrator.recordClickTale=function(e){log("Integrator","Tracking with ClickTale."),"function"==typeof window.ClickTaleField?each(integrator.getRelevantVariationIds(),function(e){var t=data.getVariationExperimentId(e),n=integrator.makeSendableNames(t,e,100,100,15,!1),i=n.key+": "+n.value+" (x"+t+"="+e+")";log("Integrator","Setting ClickTale - %s",i),window.ClickTaleField(t,e),window.ClickTaleEvent(i)}):log("Integrator","ClickTaleField() not defined.")},integrator.setPrefix=function(e){integrator.prefix=e},integrator.setSiteCatalystSVar=function(e){integrator.siteCatalystObject=e},integrator.cleanSegmentString=function(e,t){return e.replace(/[^a-zA-Z0-9\.\~\!\*\(\)\']+/g,"_").substring(0,t)},integrator.fixGoogleAnalyticsReferrer=function(){var e=redirect.getRedirectReferrer();if(null!==e)try{log("Integrator","Fixing _gaq._setReferrerOverride with %s",e),_gaq.push(["_setReferrerOverride",e])}catch(t){log("Integrator","Error setting Google Analytics referrer: %s",t)}},integrator.fixUniversalAnalyticsReferrer=ENABLED_UNIVERSAL_ANALYTICS?function(){var e=redirect.getRedirectReferrer();if(null!==e)try{log("Integrator","Fixing Universal Analytics set referrer with %s",e);var t=window.GoogleAnalyticsObject||"ga",n=window[t];n("set","referrer",e)}catch(i){log("Integrator","Error setting Universal Analytics referrer: %s",i)}}:goog.nullFunction,integrator.fixSiteCatalystReferrer=function(e){var t=redirect.getRedirectReferrer();if(null!==t&&e)try{log("Integrator","Fixing SiteCatalyst referrer to %s",t),e.referrer=String(t)}catch(n){log("Integrator","Error setting SiteCatalyst referrer: %s",n)}},integrator.getRelevantVariationIds=function(){var e=evaluator.getActiveExperimentIds(),t=[];each(plan.getVariationIds(),function(n){var i=data.getVariationExperimentId(n),r=!1;if(data.isExperimentEnabled(i)){var a=data.getVariationName(n);arrayContains(e,i)&&(log("Integrator",'"%s" relevant because experiment active',a),r=!0),r&&t.push(n)}});var n=redirect.getRedirectVariationId();return n&&t.push(n),t},integrator.getSiteCatalystKeys=function(e){var t=[],n=data.getSiteCatalystEVar(e),i=data.getSiteCatalystProp(e);return null!==n&&t.push("eVar"+n),null!==i&&t.push("prop"+i),t},integrator.getSiteCatalystSVar=function(){return integrator.siteCatalystObject||("undefined"!=typeof window.s?window.s:null)},integrator.getRedirectURL=function(e){var t=data.getVariationCode(e);if(t){var n=redirect.getRedirectURL(t.toString());if(n)return n[1]}return null},integrator.loadBlueKaiSegments=function(e,t){timer.addEvent("Integrator","Loading BlueKai segments.");try{each(e.campaigns,function(e){var n=e.seg_id;data.getSegment(n)?segmenter.addToSegment(n,!0):data.getAudience(n)&&t.addToAudience(n)})}catch(n){timer.addEvent("Integrator","Error loading BlueKai segments.")}},integrator.makeChartbeatReferralRequest=function(){var e=cookie.get(REFERRAL_CHARTBEAT_COOKIE_NAME)||"";try{e&&integrator.currentChartbeatExperiment!=e&&(log("Integrator","Calling _cbq.push for referral"),_cbq.push(["_optlyr",e])),integrator.currentChartbeatExperiment!=e&&(log("Integrator","Set new Chartbeat referral cookie."),cookie.set(REFERRAL_CHARTBEAT_COOKIE_NAME,integrator.currentChartbeatExperiment))}catch(t){timer.addEvent("Integrator","Error sending Chartbeat referral for "+e)}},integrator.makeChartbeatRequest=function(e,t){var n=integrator.prefix;integrator.setPrefix("");var i=integrator.makeSendableNames(e,t,10,10,5,!1);integrator.setPrefix(n);var r=data.getVariationIndex(t);integrator.currentChartbeatExperiment=i.key+": "+String(r);try{log("Integrator","Calling _cbq.push"),_cbq.push(["_optlyx",integrator.currentChartbeatExperiment])}catch(a){timer.addEvent("Integrator","Error sending Chartbeat data for "+data.getExperimentString(e))}},integrator.makeComscoreRequest=ENABLED_COMSCORE?function(e,t){var n=data.getComscoreProperty(e,"url"),i=integrator.makeSendableNames(e,t,100,100,25,!0),r=containsString(n,"?")?"&":"?",a=n+r+"optimizely_experiment_id="+e+"&optimizely_experiment_name="+encodeURIComponent(i.key)+"&optimizely_variation_id="+t+"&optimizely_variation_name="+encodeURIComponent(i.value)+"&ns_m_exp=("+e+") "+encodeURIComponent(i.key)+"&ns_m_chs=("+t+") "+encodeURIComponent(i.value)+"&type=hidden";try{$(window).load(function(){timer.addEvent("Integrator","Sending comScore log call"),tracker.makeRequest(a,null)})}catch(o){timer.addEvent("Integrator","Error sending comScore data for "+data.getExperimentString(e))}}:goog.nullFunction,integrator.makeCrazyEggRequest=function(e,t){var n=integrator.makeSendableNames(e,t,100,100,15,!1);try{log("Integrator","Defining CE_SNAPSHOT_NAME"),window.CE_SNAPSHOT_NAME=n.key+": "+n.value}catch(i){timer.addEvent("Integrator","Error sending CrazyEgg data for "+data.getExperimentString(e))}},integrator.makeGoogleAnalyticsRequest=function(e,t){var n=data.getGoogleAnalyticsSlot(e),i=data.getGoogleAnalyticsTracker(e),r=integrator.makeSendableNames(e,t,28,24,5,!0);try{var a="";""!==i&&(a=i+"."),log("Integrator","Calling _gaq._setCustomVar for slot %d and scope %d",n,integrator._googleAnalyticsCustomVariableScope),_gaq.push([a+"_setCustomVar",n,r.key,r.value,integrator._googleAnalyticsCustomVariableScope])}catch(o){timer.addEvent("Integrator","Error sending Google Analytics data for "+data.getExperimentString(e))}},integrator.activateUniversalAnalytics=ENABLED_UNIVERSAL_ANALYTICS?function(){if(directive.shouldTrackEvents){if(!integrator.hasIntegratedThirdParties)return void(integrator.alsoActivateUniversalAnalytics=!0);var e=window.GoogleAnalyticsObject||"ga",t=window[e];if(!t)return void timer.addEvent("Integrator","Error with Universal Analytics integration: 'GoogleAnalyticsObject' not defined");integrator.fixUniversalAnalyticsReferrer(),log("Integrator","Tracking with Universal Analytics"),each(integrator.getRelevantVariationIds(),function(e){var n=data.getVariationExperimentId(e);if(data.isUniversalAnalyticsEnabled(n)){var i=data.getUniversalAnalyticsProperty(n,"slot"),r=data.getUniversalAnalyticsProperty(n,"tracker"),a=integrator.makeSendableNames(n,e,100,100,25,!0),o=a.key+" ("+n+"): "+a.value;if(o.length>UA_DIMENSION_MAX_CHARACTERS){var s=a.key.substring(0,UA_EXPERIMENT_MAX_CHARACTERS);o=s+" ("+n+"): "+a.value,o=o.substring(0,UA_DIMENSION_MAX_CHARACTERS-1)}var l=r?r+".":"";log("Integrator","Calling ua set dimension - ga(%sset, dimension%d, %s)",l,i,o),t(l+"set","dimension"+i,o)}})}}:goog.nullFunction,integrator.makeInspectletRequest=ENABLED_INSPECTLET?function(e,t){var n=integrator.prefix;integrator.setPrefix("");var i=integrator.makeSendableNames(e,t,100,100,25,!1);integrator.setPrefix(n);try{timer.addEvent("Integrator","Calling __insp.push for sending data to Inspectlet"),window.__insp=window.__insp||[],window.__insp.push(["tagSession",{"Optimizely Experiment Name":i.key,"Optimizely Variation Name":i.value,"Optimizely Experiment ID":e,"Optimizely Variation ID":t}])}catch(r){timer.addEvent("Integrator","Error sending Inspectlet data for "+data.getExperimentString(e))}}:goog.nullFunction,integrator.makeKissMetricsRequest=function(e,t){var n=integrator.makeSendableNames(e,t,100,100,15,!0),i={};i[n.key]=n.value;try{log("Integrator","Calling _kmq.set"),_kmq.push(["set",i])}catch(r){timer.addEvent("Integrator","Error sending KISSmetrics data for "+data.getExperimentString(e))}},integrator.makeMixpanelRequest=function(e,t){var n=integrator.makeSendableNames(e,t,100,100,15,!1),i={};i[n.key]=n.value;try{log("Integrator","Calling mixpanel.push"),mixpanel.push(["register",i])}catch(r){timer.addEvent("Integrator","Error sending Mixpanel data for "+data.getExperimentString(e))}},integrator.makeMoatRequest=ENABLED_MOAT?function(e,t){var n=integrator.makeSendableNames(e,t,100,100,15,!1),i=n.key+": "+n.value;try{log("Integrator","Calling optimizelyMoat.push"),optimizelyMoat.push(i)}catch(r){timer.addEvent("Integrator","Error sending Moat data for "+data.getExperimentString(e))}}:goog.nullFunction,integrator.makeSessioncamRequest=function(e){try{timer.addEvent("Integrator","Calling sessioncamConfiguration object"),window.sessioncamConfiguration=window.sessioncamConfiguration||{},window.sessioncamConfiguration.customDataObjects=window.sessioncamConfiguration.customDataObjects||[],window.sessioncamConfiguration.customDataObjects=window.sessioncamConfiguration.customDataObjects.concat(e)}catch(t){timer.addEvent("Integrator","Error sending sessioncam data "+e)}},integrator.createSessioncamData=function(e,t){timer.addEvent("Integrator","Preparing to send data to Sessioncam");var n=integrator.makeSendableNames(e,t,100,100,15,!1);return[n,{key:"Optimizely Exp "+e,value:"Optimizely Var "+t}]},integrator.queueATInternetRequest=ENABLED_AT_INTERNET?function(e,t){var n=integrator.makeSendableNames(e,t,28,24,5,!0),i=e+"["+encodeURIComponent(n.key)+"]-0-"+t+"["+encodeURIComponent(n.value)+"]";i in integrator.ATInternetExperimentValues||(log("Integrator","Queueing AT Internet log call: %s",i),integrator.ATInternetExperimentValues[i]=!1)}:goog.nullFunction,integrator.ATInternetOnloadHandler=ENABLED_AT_INTERNET?function(){try{$(window).unbind("load.ATInternet"),window.xt_mvt&&each(integrator.ATInternetExperimentValues,function(e,t){t||(log("Integrator","Sending AT Internet log call: %s",e),window.xt_mvt("","",e),integrator.ATInternetExperimentValues[e]=!0)})}catch(e){timer.addEvent("Integrator","Error sending AT Internet data: "+e.toString())}}:goog.nullFunction,integrator.makeSendableNames=function(e,t,n,i,r,a){var o,s=integrator.prefix+data.getExperimentName(e),l=data.getVariationNamesArray(t);return l.length>1?(l=$.map(l,function(e){return e.substr(0,r-1)}),o=l.join("~")):o=l[0],a?(s=integrator.cleanSegmentString(s,n),o=integrator.cleanSegmentString(o.replace("#",""),i)):(s=s.substring(0,n),o=o.substring(0,i)),{key:s,value:o}},integrator.getAllThirdPartyData=function(){return optly.client.storage.localStorage.get(integrator.THIRD_PARTY_KEY)||{}},integrator.unionThirdPartyConditionValue=function(e,t){isArrayLike(e)||(e=[e]),isArrayLike(t)||(t=[t]);var n,i=[].concat(e);for(n=0;n<t.length;n++)inArray(t[n],i)||i.push(t[n]);return i},integrator.mergeThirdPartyData=function(e,t){var n,i={};if(e)for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);if(t)for(n in t)t.hasOwnProperty(n)&&(i[n]?i[n]=integrator.unionThirdPartyConditionValue(i[n],t[n]):i[n]=t[n]);return i},integrator.storeThirdPartyData=function(e,t,n){try{var i=integrator.getAllThirdPartyData(),r=i[e];n&&r?i[e]=integrator.mergeThirdPartyData(r,t):i[e]=t,optly.client.storage.localStorage.set(integrator.THIRD_PARTY_KEY,i)}catch(a){}},integrator.getAllThirdPartyDataForProvider=function(e){return integrator.getAllThirdPartyData()[e]},integrator.getThirdPartyData=function(e,t){for(var n=integrator.getAllThirdPartyDataForProvider(e),i=0,r=t.length;i<r;i++){if(!goog.isObject(n)||!n.hasOwnProperty(t[i]))return;n=n[t[i]]}return n},integrator.storeThirdPartyListData=function(e){var t,n,i,r,a,o=e&&e.lists||{},s={};for(var l in o)o.hasOwnProperty(l)&&beginsWith(l,INTERNAL_LIST_NAME_PREFIX)&&o[l]&&(t=l.substring(INTERNAL_LIST_NAME_PREFIX.length).split(INTERNAL_LIST_NAME_PART_DELIMITER),n=t.shift(),i=t.shift(),r=t.join(INTERNAL_LIST_NAME_PART_DELIMITER),n&&i&&r&&(a=s,a[n]||(a[n]={}),a=a[n],a[i]||(a[i]=[]),a=a[i],a.push(r)));for(n in s)integrator.storeThirdPartyData(n,s[n],!1)},integrator.alsoActivateUniversalAnalytics=!1,integrator.alsoActivateSiteCatalyst=!1,integrator.ATInternetExperimentValues={},integrator.currentChartbeatExperiment="",integrator._googleAnalyticsCustomVariableScope=2,integrator.hasIntegratedThirdParties=!1,integrator.prefix="Optimizely ",integrator.siteCatalystObject=null,integrator.THIRD_PARTY_KEY="thirdParty",activator.Options,activator.activate=function(e,t,n,i){if(!directive.isEnabled)return!1;var r="number"==typeof n||"string"==typeof n?String(n):null,a=!!(n===!0||n&&n.force===!0||i&&i.force===!0);i=("object"==typeof n?n:i)||{};var o=i.skip===!0,s=i.skipPageview===!0,l=i.enabledStatus;if(r)try{var c=!0;api.bucketUser(t,r,c)}catch(u){timer.addEvent("Activator","Error while activating experiment "+t+" for variation "+r+" -- proceeding without bucketing user.")}var d=[];isNumberLike(t)?d.push(t):each(data.getExperimentIds(),function(e){data.isExperimentManuallyActivated(e)&&d.push(e)}),activator.tryToEvaluateExperiments(e,d,{forcedActivation:a,manualActivation:!0,enabledStatus:l,skipBucketing:o,skipPageviewTracking:s}),optly.client.preview.ENABLED&&directive.shouldLoadPreview&&(timer.addEvent("Activator"," Activate - Updating preview data object asynchronously."),window.optimizelyPreview=window.optimizelyPreview||{},each(d,function(e){window.optimizelyPreview.updatePreviewData(e)}))},activator.activateGeoDelayedExperiments=function(e,t,n){if(!directive.isEnabled)return!1;if("object"==typeof t&&"string"==typeof n);else if("object"!=typeof t||isDefined(n)){if(isDefined(t)||isDefined(n))return void timer.addEvent("Activator","Unrecognized arguments to activateGeoDelayedExperiment: "+arguments)}else n=t.hasOwnProperty("lists")?asyncInfo.Source.ODDS:asyncInfo.Source.AKAMAI;if("object"!=typeof t||"string"!=typeof n)return timer.addEvent("Activator","Timeout: will not act on future async info."),optly.client.rum.instance.recordEvent("geoTimeout"),void(activator.hasTimedOut=!0);if(timer.addEvent("Activator","Saving async info from '"+n+"'"),n===asyncInfo.Source.AKAMAI&&optly.client.rum.instance.recordEvent("geoArrive"),asyncInfo.writeAroundToStore(n,t),asyncInfo.set(n,t),integrator.storeThirdPartyListData(t),activator.hasTimedOut)return timer.addEvent("Activator","Post-timeout; too late to act on new async info."),void(geolocation.cdn3Requested&&optly.client.rum.instance.recordEvent("geoFailed"));var i=activator.delayedSegments.slice();timer.addEvent("Activator","Trying to activate "+i.length+" delayed segments");var r=(activator.tryToEvaluateSegments(i),activator.delayedExperiments.slice());timer.addEvent("Activator","Trying to activate "+r.length+" experiments");activator.tryToEvaluateExperiments(e,r,{skipPageviewTracking:directive.shouldSkipPageTracking});api.setPublicObjects(),"object"==typeof t&&"string"==typeof n&&n===asyncInfo.Source.AKAMAI&&optly.client.rum.instance.recordEvent("geoSuccess")},activator.tryToEvaluateExperiments=function(e,t,n){var i=activator.triageExperiments(e,t,n);each(i.pending,activator.addDelayedExperiment),activator.removeDelayedExperiments(i.passing),activator.removeDelayedExperiments(i.failing);var r=[];return each(i.passing,function(e){var t=distributor.distributeExperiment(e,n.skipBucketing);t&&r.push(e)}),evaluator.evaluate(r,t),plan.writeCookie(),integrator.makeThirdPartyRequests(),directive.isEnabled&&!n.skipPageviewTracking&&tracker.addActivationEvent(document.location.href),i},activator.triageExperiments=function(e,t,n){timer.addEvent("Activator","Triaging "+t.length+" experiments.");var i=[],r=[],a=[];return each(t,function(t){n.forcedActivation?(timer.addEvent("Activator","Force-ignoring conditions for experiment "+t),i.push(t)):condition.isReadyToTest(t)?condition.test(t,{manualActivation:n.manualActivation,objectType:"experiment",enabledStatus:n.enabledStatus,visitor:e})?(timer.addEvent("Activator","Passed conditions for experiment "+t),i.push(t)):(timer.addEvent("Activator","Failed conditions for experiment "+t),a.push(t)):(timer.addEvent("Activator","Can't test conditions for experiment "+t),r.push(t))}),{passing:i,pending:r,failing:a}},activator.tryToEvaluateSegments=function(e){var t=activator.triageSegments(e);return each(t.pending,activator.addDelayedSegment),activator.removeDelayedSegments(t.passing),activator.removeDelayedSegments(t.failing),activator.removeDelayedSegments(t.apiOnly),each(t.passing,segmenter.evaluateSegment),t},activator.triageSegments=function(e){timer.addEvent("Activator","Triaging "+e.length+" segments.");var t=[],n=[],i=[],r=[];return each(e,function(e){data.getSegmentAPIOnly(e)?(timer.addEvent("Activator","Ignoring API-only segment "+e),r.push(e)):condition.isReadyToTest(e)?condition.test(e,{objectType:"segment"})?(timer.addEvent("Activator","Passed conditions for segment "+e),t.push(e)):(timer.addEvent("Activator","Failed conditions for segment "+e),i.push(e)):(timer.addEvent("Activator","Can't test conditions for segment "+e),n.push(e))}),{passing:t,pending:n,failing:i,apiOnly:r}},activator.addDelayedExperiment=function(e){timer.addEvent("Activator","Deferring test for experiment "+e),arrayContains(activator.delayedExperiments,e)||activator.delayedExperiments.push(e)},activator.addDelayedSegment=function(e){timer.addEvent("Activator","Deferring test for segment "+e),arrayContains(activator.delayedSegments,e)||activator.delayedSegments.push(e)},activator.hasDelayedExperiments=function(){return activator.delayedExperiments.length>0},activator.removeDelayedExperiments=function(e){activator.delayedExperiments=filter(activator.delayedExperiments,function(t){return!inArray(t,e)})},activator.removeDelayedSegments=function(e){activator.delayedSegments=filter(activator.delayedSegments,function(t){return!inArray(t,e)})},activator.delayedExperiments=[],activator.delayedSegments=[],activator.hasTimedOut=!1,/**
 * @license
 *
 * UAParser.js v0.7.12
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright Â© 2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 & MIT
 */
useragent=function(){},function(e,t){"use strict";var n="0.7.12",i="",r="?",a="function",o="undefined",s="object",l="string",c="major",u="model",d="name",p="type",g="vendor",f="version",m="architecture",v="console",h="mobile",y="tablet",E="smarttv",b="wearable",I="embedded",S={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2===0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&t.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===l?e.replace(/[^\d\.]/g,"").split(".")[0]:t},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},_={rgx:function(){for(var e,n,i,r,l,c,u,d=0,p=arguments;d<p.length&&!c;){var g=p[d],f=p[d+1];if(typeof e===o){e={};for(r in f)f.hasOwnProperty(r)&&(l=f[r],typeof l===s?e[l[0]]=t:e[l]=t)}for(n=i=0;n<g.length&&!c;)if(c=g[n++].exec(this.getUA()))for(r=0;r<f.length;r++)u=c[++i],l=f[r],typeof l===s&&l.length>0?2==l.length?typeof l[1]==a?e[l[0]]=l[1].call(this,u):e[l[0]]=l[1]:3==l.length?typeof l[1]!==a||l[1].exec&&l[1].test?e[l[0]]=u?u.replace(l[1],l[2]):t:e[l[0]]=u?l[1].call(this,u,l[2]):t:4==l.length&&(e[l[0]]=u?l[3].call(this,u.replace(l[1],l[2])):t):e[l]=u?u:t;d+=2}return e},str:function(e,n){for(var i in n)if(typeof n[i]===s&&n[i].length>0){for(var a=0;a<n[i].length;a++)if(S.has(n[i][a],e))return i===r?t:i}else if(S.has(n[i],e))return i===r?t:i;return e}},C={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},A={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[d,f],[/(opios)[\/\s]+([\w\.]+)/i],[[d,"Opera Mini"],f],[/\s(opr)\/([\w\.]+)/i],[[d,"Opera"],f],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[d,f],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[d,"IE"],f],[/(edge)\/((\d+)?[\w\.]+)/i],[d,f],[/(yabrowser)\/([\w\.]+)/i],[[d,"Yandex"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],f],[/(micromessenger)\/([\w\.]+)/i],[[d,"WeChat"],f],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[d,/(.+)/,"$1 WebView"],f],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[f,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[d,f],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[d,"UCBrowser"],f],[/(dolfin)\/([\w\.]+)/i],[[d,"Dolphin"],f],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[d,"Chrome"],f],[/;fbav\/([\w\.]+);/i],[f,[d,"Facebook"]],[/fxios\/([\w\.-]+)/i],[f,[d,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[f,d],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[d,[f,_.str,C.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape)\/([\w\.-]+)/i],[[d,"Netscape"],f],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[d,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,S.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",S.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[m,S.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[u,g,[p,y]],[/applecoremedia\/[\w\.]+ \((ipad)/],[u,[g,"Apple"],[p,y]],[/(apple\s{0,1}tv)/i],[[u,"Apple TV"],[g,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[g,u,[p,y]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[u,[g,"Amazon"],[p,y]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[u,_.str,C.device.amazon.model],[g,"Amazon"],[p,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[u,g,[p,h]],[/\((ip[honed|\s\w*]+);/i],[u,[g,"Apple"],[p,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[g,u,[p,h]],[/\(bb10;\s(\w+)/i],[u,[g,"BlackBerry"],[p,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[u,[g,"Asus"],[p,y]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[g,"Sony"],[u,"Xperia Tablet"],[p,y]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[g,"Sony"],[u,"Xperia Phone"],[p,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[g,u,[p,v]],[/android.+;\s(shield)\sbuild/i],[u,[g,"Nvidia"],[p,v]],[/(playstation\s[34portablevi]+)/i],[u,[g,"Sony"],[p,v]],[/(sprint\s(\w+))/i],[[g,_.str,C.device.sprint.vendor],[u,_.str,C.device.sprint.model],[p,h]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[g,u,[p,y]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[g,[u,/_/g," "],[p,h]],[/(nexus\s9)/i],[u,[g,"HTC"],[p,y]],[/(nexus\s6p)/i],[u,[g,"Huawei"],[p,h]],[/(microsoft);\s(lumia[\s\w]+)/i],[g,u,[p,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[u,[g,"Microsoft"],[p,v]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[g,"Microsoft"],[p,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[u,[g,"Motorola"],[p,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[g,"Motorola"],[p,y]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[g,S.trim],[u,S.trim],[p,E]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[g,"Samsung"],[p,E]],[/\(dtv[\);].+(aquos)/i],[u,[g,"Sharp"],[p,E]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[g,"Samsung"],u,[p,y]],[/smart-tv.+(samsung)/i],[g,[p,E],u],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[g,"Samsung"],u,[p,h]],[/sie-(\w+)*/i],[u,[g,"Siemens"],[p,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[g,"Nokia"],u,[p,h]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[u,[g,"Acer"],[p,y]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[g,"LG"],u,[p,y]],[/(lg) netcast\.tv/i],[g,u,[p,E]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[u,[g,"LG"],[p,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[u,[g,"Lenovo"],[p,y]],[/linux;.+((jolla));/i],[g,u,[p,h]],[/((pebble))app\/[\d\.]+\s/i],[g,u,[p,b]],[/android.+;\s(glass)\s\d/i],[u,[g,"Google"],[p,b]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[u,/_/g," "],[g,"Xiaomi"],[p,h]],[/android.+a000(1)\s+build/i],[u,[g,"OnePlus"],[p,h]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[p,S.lowerize],g,u]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[d,f],[/rv\:([\w\.]+).*(gecko)/i],[f,d]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[d,f],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[d,[f,_.str,C.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[d,"Windows"],[f,_.str,C.os.windows.version]],[/\((bb)(10);/i],[[d,"BlackBerry"],f],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[d,f],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[d,"Symbian"],f],[/\((series40);/i],[d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[d,"Firefox OS"],f],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[d,f],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[d,"Chromium OS"],f],[/(sunos)\s?([\w\.]+\d)*/i],[[d,"Solaris"],f],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[d,f],[/(haiku)\s(\w+)/i],[d,f],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[d,"iOS"],[f,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[d,"Mac OS"],[f,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[d,f]]},w=function(t,n){if(!(this instanceof w))return new w(t,n).getResult();var r=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:i),a=n?S.extend(A,n):A;return this.getBrowser=function(){var e=_.rgx.apply(this,a.browser);return e.major=S.major(e.version),e},this.getCPU=function(){return _.rgx.apply(this,a.cpu)},this.getDevice=function(){return _.rgx.apply(this,a.device)},this.getEngine=function(){return _.rgx.apply(this,a.engine)},this.getOS=function(){return _.rgx.apply(this,a.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};w.VERSION=n,w.BROWSER={NAME:d,MAJOR:c,VERSION:f},w.CPU={ARCHITECTURE:m},w.DEVICE={MODEL:u,VENDOR:g,TYPE:p,CONSOLE:v,MOBILE:h,SMARTTV:E,TABLET:y,WEARABLE:b,EMBEDDED:I},w.ENGINE={NAME:d,VERSION:f},w.OS={NAME:d,VERSION:f},e.UAParser=w}(useragent),detect.detect=function(e){var t=e||window.navigator,n=new useragent.UAParser(t.userAgent),i=n.getBrowser(),r=n.getOS(),a=n.getDevice(),o=detect.normalizeDevice(a),s=detect.normalizePlatformName(r.name),l=detect.isMobile(a.type,o,s);return{browserId:detect.getBrowserCode(i.name),browserVersion:i.version,platform:{id:s,version:r.version},device:{id:o,type:a.type||(l?"mobile":"desktop"),isMobile:l}}},detect.getBrowserCode=function(e){if(e=(e||"").toLowerCase(),e in detect.browserMap)return e;for(var t in detect.browserMap)if(any(detect.browserMap[t]||[],function(t){return t.toLowerCase()===e}))return t;return"unknown"},detect.getBrowserName=function(e){return detect.browserMap[e]?detect.browserMap[e][0]:e},detect.isMobile=function(e,t,n){if(arrayContains(["mobile","tablet"],e))return!0;if(t&&"unknown"!==t)for(var i in detect.mobileDeviceMap)if(t===detect.mobileDeviceMap[i])return!0;var r=["android","blackberry","ios","windows phone"];return!!arrayContains(r,n)},detect.normalizeDevice=function(e){return e.model in detect.mobileDeviceMap?detect.mobileDeviceMap[e.model]:"unknown"},detect.normalizePlatformName=function(e){return(e||"unknown").toLowerCase()},detect.browserMap={gc:["Chrome","chromium","silk","yandex","maxthon"],ie:["Internet Explorer","iemobile"],edge:["Edge"],ff:["Firefox","iceweasel"],opera:["Opera","opera mini","opera tablet"],safari:["Safari","mobile safari","webkit"],ucbrowser:["UC Browser"]},detect.mobileDeviceMap={iPhone:"iphone",iPad:"ipad"},redirect.initialize=function(){redirect.initializeRedirectVariationId(),redirect.initializeRedirectReferrerUrl()},redirect.getRedirectURL=function(e){var t=/_optimizely_redirect(?:_no_cookie)?=(\S+)/;return e.match(t)},redirect.getRedirectReferrer=function(){return redirect.referrer},redirect.getRedirectVariationId=function(){return redirect.variationId},redirect.detectNoCookieRedirect=function(e){return containsString(e,"_optimizely_redirect_no_cookie")},redirect.okToRedirect=function(e){e=e||"";var t=redirect.getRedirectCookie();return!!redirect.detectNoCookieRedirect(e)||(!t||!(!t||t.split("|")[1]!==REDIRECT_COOKIE_TRUE))},redirect.getRedirectCookie=function(){return cookie.get(REDIRECT_COOKIE_NAME)},redirect.initializeRedirectVariationId=function(){var e=redirect.getRedirectCookie()||"|";redirect.variationId=e.split("|")[0]},redirect.initializeRedirectReferrerUrl=function(){var e=cookie.get(REFERRER_REDIRECT_COOKIE_NAME);null!==e&&(redirect.referrer=0==e.length?"":e,cookie.set(REFERRER_REDIRECT_COOKIE_NAME,""))},redirect.setRedirectCookie=function(e,t){var n=e?REDIRECT_COOKIE_TRUE:REDIRECT_COOKIE_FALSE;cookie.set(REDIRECT_COOKIE_NAME,(t||"unknown variation")+"|"+n,data.getRedirectTimeout())},redirect.setReferrerCookie=function(e){e=isDefined(e)?e:document.referrer,cookie.set(REFERRER_REDIRECT_COOKIE_NAME,e,data.getRedirectTimeout())},redirect.referrer=null,redirect.variationId="",redirect.redirectRegex=/^\/\* _optimizely_redirect.+\*\/[ ]*\nwindow\.location\.replace\(_optly\.redir\.href.*\)[ ]*[;]?$/,redirect.redirectRegexParams=/^\/\* _optimizely_redirect.+\*\/[ ]*\nvar[ ]*_optly[ ]*=[ ]*\{[ ]*redir:document\.createElement\("a"\)\}[;]?\n_optly\.redir\.href=.*\n_optly\.cur=.+\nif \(_optly.cur\)[ ]?\{.+\}[ ]*\nwindow\.location\.replace\(_optly\.redir\.href.*\)[ ]*[;]?$/,redirect.redirectRegexLegacy=/^\/\* _optimizely_redirect.+\*\/[ ]*[\n]+window\.location\.replace\([ ]*redirectFirst.*\)[ ]*[;]?$/,api.includeRemoveFromAllReportable=!0,api.initializePriorityOneApiCalls=function(){var e={disable:api.disable,optOut:tracker.optOut,setCookieDomain:cookie.setApiPublicSuffix,setCookieExpiration:api.setCookieExpiration,verifyPreviewProject:function(e){data.getProjectId()!==e?timer.addEvent("API","Preview projectId ("+data.getProjectId()+") does not match expected ("+e+"), disabling."):directive.previewVerified=!0}};api.initializeHighPriority(e)},api.initializeHighPriority=function(e){var t=window.optimizely,n=[];isArrayLike(t)&&(each(t,function(t){var i=t;isArrayLike(t)?i=t[0]:isNonNullObject(t)&&(i=t.type),e[i]?api.push([e],t,!0):n.push(t)}),window.optimizely=n)},api.storeThirdPartyData=function(e,t,n){integrator.storeThirdPartyData(e,t,!!n),api.setPublicObjects()},api.addToSegment=function(e,t){var n=data.getSegmentIdByIdentifier(e)||e,i=data.getSegment(n);if(i)if(i.audience_id)api.visitor.addToAudience(i.audience_id);else if(i.dimension_id){var r=!1;api.visitor.setDimensionValue(i.dimension_id,t||!0,r)}else segmenter.addToSegment(n,t);else timer.addEvent("API","Unable to find segment: "+n)},api.bucketUser=function(e,t,n){n=n===!0,directive.shouldOverrideThirdPartyCookie=!0,directive.isEnabled&&!n&&tracker.addActivationEvent(document.location.href),e=String(e),t=String(t);var i=null,r=t.split(VARIATION_ID_DELIMITER),a=data.getExperimentSectionIds(e),o=a&&0!==a.length,s=256;if("-1"===r[0]?plan.removeExperiment(e):o&&r.length==a.length?(i=[],each(r,function(e,t){Number(e)<=s?i.push(data.getSectionVariationIds(a[t])[e]):i.push(e)}),i=i.join(VARIATION_ID_DELIMITER)):!o&&1==r.length&&Number(r[0])<=s?i=String(data.getVariationIdByIndex(e,r[0])):1==r.length?i=r[0]:timer.addEvent("API","Error: could not bucket user. Unknown arguments."),i)if(o&&data.getExperimentVariationSectionId(e,i))distributor.preferMVTVariation(e,i);else{var l=!1,c=!0;plan.addVariation(i,"api.bucketUser",l,c)}plan.writeCookie()},api.disable=function(e){e&&"tracking"===e?directive.shouldTrackEvents=!1:(timer.addEvent("API","Optimizely disabled"),directive.isEnabled=!1,directive.isNewClientEnabled=!1,directive.shouldTrackEvents=!1)},api.finalize=function(){timer.addEvent("API","Finalizing API."),api.setPublicObjects(),api.isFinalized=!0},api.get=function(){if(data.hasSlave())return SLAVE_CLIENT[GLOBAL].get.apply(null,Array.prototype.slice.call(arguments))},api.getVariationNamesMap=function(){return api.variationNamesMap},api.OAuthClientIds=[],api.addOAuthClientId=function(e){api.OAuthClientIds.push(e),api.setPublicObjects()},api.getOAuthClientIds=function(){return api.OAuthClientIds},api.initialize=function(e){api.visitor=e,api.isFinalized=!1,segmenter.addChangeHandler(api.setPublicObjects),plan.addChangeHandler(api.setPublicObjects);var t={$:$,activeExperiments:evaluator.getEvaluatedExperimentIds()||[],allExperiments:data.getExperiments(),all_experiments:data.getExperiments(),allVariations:data.getVariations(),getElementsByClassName:document.getElementsByClassName,revision:data.getRevision(),variationIdsMap:api.variationIdsMap,variation_map:api.variationMap,variationMap:api.variationMap,variationNamesMap:api.variationNamesMap};for(var n in t)api.setProperty(t,n,t[n]);t.data=api.data;var i={},r=[i,api.v1],a=curry(api.push,r);extend(i,{activate:goog.partial(activator.activate,api.visitor),activateGeoDelayedExperiments:goog.partial(activator.activateGeoDelayedExperiments,api.visitor),activateSiteCatalyst:integrator.activateSiteCatalyst,activateUniversalAnalytics:integrator.activateUniversalAnalytics,addOAuthClientId:api.addOAuthClientId,addToAudience:goog.bind(api.visitor.addToAudience,api.visitor),addToSegment:api.addToSegment,bindTrackElement:evaluator.bindTrackElementFromApi,bucketUser:api.bucketUser,bucketVisitor:api.bucketUser,clickTaleRecord:integrator.recordClickTale,clickTalePlayback:integrator.playbackClickTale,customTag:api.registerCustomTag,delayDomReadyEval:evaluator.setDelayDomExecute,delayPageviewTracking:api.delayPageviewTracking,disable:api.disable,log:timer.enableLogging,getAccountId:data.getAdminAccountId,getProjectId:data.getProjectId,googleAnalyticsCustomVariableScope:integrator.googleAnalyticsCustomVariableScope,integrationPrefix:integrator.setPrefix,optOut:tracker.optOut,overrideUrl:user.setCurrentUrl,push:a,removeFromAllAudiences:goog.bind(api.visitor.removeFromAllAudiences,api.visitor),removeFromAllSegments:api.removeFromAllSegments,removeFromAudience:goog.bind(api.visitor.removeFromAudience,api.visitor),removeFromSegment:api.removeFromSegment,sc_activate:integrator.activateSiteCatalyst,sc_svar:integrator.setSiteCatalystSVar,skipPageTracking:api.skipPageTracking,optOutThirdPartyCookies:api.optOutThirdPartyCookies,setDimensionValue:goog.bind(api.visitor.setDimensionValue,api.visitor),setUserId:api.setUserId,storeThirdPartyData:api.storeThirdPartyData,timeout:optly.client.preview.ENABLED?goog.nullFunction:api.disable,trackEvent:tracker.addLogEventFromAPI,verbose:timer.enableVerboseLogging}),data.hasSlave()&&extend(i,{get:api.get}),optly.client.preview.ENABLED&&extend(i,{getPreviewLog:function(){return optly.client.preview.Logger.log},clearPreviewLog:function(){optly.client.preview.Logger.clear()},configureConditionalModeExperiment:function(e,t){distributor.configureConditionalModeExperiment(e,t),timer.addEvent("API","Configuring conditionally activated experiment for preview "+e)}}),api.includeRemoveFromAllReportable&&(i.removeFromReportableAudiences=api.removeFromReportableAudiences),extend(t,i);var o=window.optimizely;isArrayLike(o)&&each(o,function(e){a(e)}),window[GLOBAL]=t},api.push=function(e,t,n){var i=[],r=t;n=!!isDefined(n)&&n;var a=0;isArrayLike(t)?(r=t[0],i=slice(t,1)):isNonNullObject(t)&&(a=isDefined(t.version)?t.version:1,r=t.type,i=[t]);var o,s=e[a];if(s&&(o=s[r]),o){timer.addEvent("API",'Called function "'+r+'"'),o.apply(null,i);var l=0===a?r:"v"+a+"."+r;optly.client.rum.instance.recordApi(l)}else n||timer.addEvent("API",'Error for unknown function "'+r+'"');data.hasSlave()&&SLAVE_CLIENT[GLOBAL].push(t),timer.flushLogs()},api.registerCustomTag=function(e,t){return api.isFinalized?void timer.addEvent("API","Error: can't add custom tags after Optimizely loads"):(api.customTags=api.customTags||{},void(2==arguments.length?api.customTags[e]=t:1==arguments.length&&$.extend(!0,api.customTags,e)))},api.removeFromSegment=function(e,t){var n=data.getSegmentIdByIdentifier(e)||e;t=!isDefined(t)||t;var i=data.getSegment(n);i?i.audience_id?api.visitor.removeFromAudience(i.audience_id):i.dimension_id?api.visitor.setDimensionValue(i.dimension_id,null):segmenter.removeFromSegment(n,t):timer.addEvent("API","Unable find segment for: "+n)},api.removeFromAllSegments=function(){var e=data.getSegmentIds();each(e,function(e){var t=!1;api.removeFromSegment(e,t)}),segmenter.callChangeHandlers()},api.setPublicObjects=function(){api.variationIdsMap={},api.variationMap={},api.variationNamesMap={},each(plan.getVariationIds(),function(e){var t=data.getVariationExperimentId(e);api.variationIdsMap[t]=e.split(VARIATION_ID_DELIMITER),api.variationMap[t]=data.getVariationIndex(e),api.variationNamesMap[t]=data.getVariationName(e)}),api.updateDataObject();var e={activeExperiments:evaluator.getEvaluatedExperimentIds(),allExperiments:data.getExperiments(),all_experiments:data.getExperiments(),variationIdsMap:api.variationIdsMap,variationMap:api.variationMap,variationNamesMap:api.variationNamesMap,variation_map:api.variationMap};window[GLOBAL].data=api.data,each(e,function(e,t){api.setProperty(window[GLOBAL],e,t)})},api.setProperty=function(e,t,n,i){try{var r="o.";r+=i?i:t,Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return optly.client.rum.instance.recordApi(r),n},set:function(e){n=e}})}catch(a){e[t]=n}},api.delayPageviewTracking=function(e){return!!isNumberLike(e)&&void(directive.delayPageviewTracking=Number(e))},api.optOutThirdPartyCookies=function(){directive.optOutThirdPartyCookies=!0},api.getRedirectExperimentState=function(){var e=redirect.getRedirectVariationId();if(e){var t=data.getVariationExperimentId(e);if(t)return{variationId:e,experimentId:t,referrer:redirect.getRedirectReferrer()}}},api.setCookieExpiration=function(e){var t,n="";"number"!=typeof e?(n="must be a number.",t=DEFAULT_TRACKING_COOKIE_EXPIRATION):t=Math.floor(DAY_IN_SECONDS*e),t<MINIMUM_TRACKING_COOKIE_EXPIRATION&&(n="less then minimum.",t=MINIMUM_TRACKING_COOKIE_EXPIRATION),n=n&&"Days argument "+n,timer.addEvent("API",n+" Cookie expiration set to "+t+" seconds."),directive.trackingCookieExpiration=t},api.skipPageTracking=function(){directive.shouldSkipPageTracking=!0},api.doesExperimentTargetCurrentUrl=optly.client.preview.ENABLED?function(e){var t=data.getExperimentUrls(e);return t?condition.testUrlDimensionValues(t,condition.facade.getCurrentUrl()):(t=data.getConditions(e,"experiment"),0!==filter(t,function(e){return"url"===e.type&&condition.testUrls(e)}).length)}:goog.nullFunction,api.updateDataObject=function(){api.data={};var e=data.getAudiences();api.setProperty(api.data,"audiences",e||void 0,"data.audiences"),api.setProperty(api.data,"customTags",api.customTags,"data.customTags"),api.setProperty(api.data,"thirdParty",integrator.getAllThirdPartyData(),"data.thirdParty");for(var t={},n=data.getExperimentIds(),i=0;i<n.length;i++){var r=n[i],a={};a.code=data.getExperimentCode(r),a.name=data.getExperimentName(r),a.conditional=data.isExperimentConditionallyActivated(r),a.manual=data.isExperimentManuallyActivated(r),a.section_ids=data.getExperimentSectionIds(r),a.variation_ids=data.getExperimentVariationIds(r),optly.client.preview.ENABLED&&(a.status=data.getExperimentStatus(r),a.targetsUrl=api.doesExperimentTargetCurrentUrl(r),api.conditionallyActivatedExperiments[r]&&(a.conditional_triggered=!0)),t[r]=a}api.setProperty(api.data,"experiments",t,"data.experiments");for(var o={},s=data.getSegmentIds(),i=0;i<s.length;i++){var l=s[i],c={name:data.getSegmentName(l)};optly.client.preview.ENABLED&&extend(c,{is_default:data.getSegementIsDefault(l)}),o[l]=c}api.setProperty(api.data,"segments",o,"data.segments");for(var u={},d=data.getSectionIds(),i=0;i<d.length;i++){var p=d[i],g={};g.name=data.getSectionName(p),g.variation_ids=data.getSectionVariationIds(p),u[p]=g}api.setProperty(api.data,"sections",u,"data.sections");for(var f={},m=data.getVariationIds(),i=0;i<m.length;i++){var v=m[i],h={};h.name=data.getVariationName(v),h.code=data.getVariationCode(v),f[v]=h}api.setProperty(api.data,"variations",f,"data.variations");var y={browser:detect.getBrowserName(user.getBrowserId()),browserVersion:user.getBrowserVersion(),device:user.getDeviceId(),deviceType:user.getDevice().type,platform:user.getPlatform(),mobile:user.isMobile(),mobileId:user.getMobileId(),os:user.getPlatform().id,lists:asyncInfo.getListMembershipStatuses(),location:asyncInfo.getLocation(),ip:asyncInfo.getIP(),matchingRules:asyncInfo.getDynamicCustomerProfileConditions(),referrer:String(document.referrer),segments:segmenter.getSegmentTrackingData(),dimensions:api.visitor.getDimensionValues(),audiences:api.visitor.getAudiences()};for(var E in y)api.setProperty(y,E,y[E],"data.visitor."+E);optly.client.preview.ENABLED&&api.setProperty(y,"url",window.location.toString(),"data.visitor.url");var b={},I=query.getAllParameters();I.reverse();for(var i=0,S=I.length;i<S;i++)try{b[safeDecodeUriComponent(I[i][0])]=safeDecodeUriComponent(I[i][1])}catch(_){timer.addEvent("API","Failed to decode parameter "+I[i][0]+"="+I[i][1])}api.setProperty(y,"params",b,"data.visitor.params"),api.data.visitor=y;var C={},A=evaluator.getEvaluatedExperimentIds()||[];api.setProperty(C,"activeExperiments",A,"data.state.activeExperiments"),api.setProperty(C,"redirectExperiment",api.getRedirectExperimentState(),"data.state.redirectExperiment"),api.setProperty(C,"variationIdsMap",api.variationIdsMap,"data.state.variationIdsMap"),api.setProperty(C,"variationMap",api.variationMap,"data.state.variationMap"),api.setProperty(C,"variationNamesMap",api.variationNamesMap,"data.state.variationNamesMap"),api.setProperty(C,"enabled",directive.isEnabled,"data.state.enabled"),C.integrations={},api.setProperty(C.integrations,"activeOAuthClientIds",api.getOAuthClientIds(),"data.state.integrations.activeOAuthClientIds"),api.data.state=C},api.removeFromReportableAudiences=function(){cookie.get(HOTFIX_ENG_1636_COOKIE)?timer.addEvent("API","skipping because cookie is set"):(each(data.getAudiences(),function(e){data.getAudienceSegmentId(e)&&(timer.addEvent("API","Removing from reportable audience: "+e),api.visitor.removeFromAudience(e))}),cookie.set(HOTFIX_ENG_1636_COOKIE,"1",MINIMUM_TRACKING_COOKIE_EXPIRATION))},api.setUserId=function(e){var t=id.getPPID();e||0===e?"string"==typeof e||"number"==typeof e?(timer.addEvent("API","Setting PPID to "+e),e=String(e),id.setPPID(e)):timer.addEvent("API","Ignoring non-string, non-number PPID: "+e):(timer.addEvent("API","Clearing PPID"),id.unsetPPID());var n=id.getPPID();n!==t&&(timer.addEvent("API","Clearing plan because of PPID change"),plan.reset())},api.v1={event:function(e){tracker.addLogEventFromAPI(e.eventName,e.tags)},user:function(e){e.userId&&api.setUserId(e.userId),e.attributes&&each(e.attributes,function(e,t){api.visitor.setDimensionValue(e,t)})},integration:function(e){e.OAuthClientId&&api.addOAuthClientId(e.OAuthClientId)}},api.data={},api.conditionallyActivatedExperiments={},api.variationIdsMap={},api.variationMap={},api.variationNamesMap={},api.visitor=null,tracker.fixRevenueOptions=function(e,t){var n,i={},r=data.getCustomRevenueGoals();if(r&&e in r&&isNumberLike(r[e])&&(n=Number(r[e])),t)if(isNumberLike(t))n=Number(t);else{if("object"!=typeof t)return log("tracker","Revenue argument %s not a number.",t),null;if(i=extend({},t),"revenue"in i){if(!isNumberLike(i.revenue))return log("tracker","Revenue field %s not a number.",i.revenue),null;n=Number(i.revenue),delete i.revenue}}return isDefined(n)&&(i.revenue=n),i},tracker.addLogEventFromAPI=function(e,t){var n=tracker.fixRevenueOptions(e,t);if(null===n)return void log("tracker","Bad options. Will not track this event.");var i=data.getEnabledExperimentIds(),r={};each(i,function(e){r[e]=!0}),$.extend(n,{experimentIds:r}),tracker.addLogEvent(e,"custom",n)},tracker.addLogEvent=function(e,t,n,i){if(n=n||{},optly.client.preview.Logger.addEvent(e,n),directive.shouldTrackEvents){var r={name:e,type:t,created:i||tracker.currentTimeInSeconds(),options:n};tracker.logEvents.push(r),tracker.shouldSendLogEvents?(tracker.sendLogEvents(),timer.addEvent("Tracker","Tracking event '"+e+"'")):timer.addEvent("Tracker","Queued tracking event '"+e+"'")}},tracker.enableEngagementTracking=function(){tracker.cancelEngagementTracking(),$("html").bind("mousedown",tracker.registerEngagement),$("html").bind("touchstart",tracker.confirmEngagement)},tracker.cancelEngagementTracking=function(){$("html").unbind("touchstart",tracker.confirmEngagement),$("html").unbind("mousedown touchend",tracker.registerEngagement),$("html").unbind("touchmove",tracker.enableEngagementTracking)},tracker.confirmEngagement=function(){$("html").bind("touchend",tracker.registerEngagement),$("html").bind("touchmove",tracker.enableEngagementTracking)},tracker.addActivationEvent=function(e){var t=data.getMatchingGoalIds(e);t.length>0?(tracker.addLogEvent("optly_activate","activate"),each(t,function(t){tracker.addLogEvent(e,"pageview",{goalIds:[t]},tracker.pageTimestamp)})):tracker.addLogEvent(e,"activate")},tracker.getPendingLogEvents=function(){var e=cookie.get(PENDING_LOG_EVENTS_COOKIE_NAME)||"[]",t=[];try{t=json.parse(e)}catch(n){}if(isArrayLike(t))for(var i=0,r=t.length;i<r;i++){var a=t[i];if("string"!=typeof a){t=[];break}try{json.parse(a);t=[];break}catch(n){}}else t=[];return t},tracker.makeLogRequest=function(e,t){timer.addEvent("Tracker","Making a log request."),e+="&cx2="+optly.hashing.hashToHex(tracker.getCanonicalQuery(e),65259),tracker.makeRequest(data.getLogUrlRoot()+"?"+e,t)},tracker.getCanonicalQuery=function(e){var t=map(e.split("&"),function(e){return e.split("=")});return t.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),map(t,function(e){return e.join("=")}).join("&")},tracker.makeImageRequest=function(e,t){var n=new Image;n.onload=t,e=tracker.stripXHRFlag(e),n.src=e,tracker.images.push(n)},tracker.objectToQuery=function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(window.encodeURIComponent(n)+"="+window.encodeURIComponent(e[n]));return t.join("&")},tracker.makeRequest=function(e,t){if(tracker.XHR_SUPPORTED&&tracker.isXHRQuery(e))try{var n=new XMLHttpRequest;if("withCredentials"in n)return n.onload=t,n.open("GET",e,!0),n.withCredentials=!0,void n.send();tracker.XHR_SUPPORTED=!1,timer.addEvent("Tracker","Found that XHR with credentials is not supported in this browser.")}catch(i){timer.addEvent("Tracker","XHR not supported"),tracker.XHR_SUPPORTED=!1}tracker.makeImageRequest(e,t)},tracker.isXHRQuery=function(e){return e.indexOf(tracker.XHR_FLAG)!==-1},tracker.stripXHRFlag=function(e){return e.replace("&"+tracker.XHR_FLAG,"")},tracker.optOut=function(e,t){e=!isDefined(e)||"true"===String(e),isDefined(t)||(t=window.alert);var n=e?"true":"false";e?(cookie.set(OPT_OUT_COOKIE_NAME,n,directive.trackingCookieExpiration),cookie.set(BUCKET_COOKIE_NAME,n,directive.trackingCookieExpiration),t("You have successfully opted out of Optimizely for this domain.")):(cookie.set(OPT_OUT_COOKIE_NAME,n,directive.trackingCookieExpiration),t("You are NOT opted out of Optimizely for this domain."))},tracker.isOptedOut=function(){return"true"===cookie.get(OPT_OUT_COOKIE_NAME)},tracker.registerEngagement=function(e){tracker.cancelEngagementTracking(),tracker.addLogEvent("engagement","engagement")},tracker.removePendingLogEvent=function(e){for(var t=tracker.getPendingLogEvents(),n=0,i=t.length;n<i;n++)if(t[n]===e){t.splice(n,1);break;
}tracker.setPendingLogEventsCookie(t),timer.addEvent("Tracker","Removed a pending log event from the pending events cookie.")},tracker.logEvents=[],tracker.shouldSendLogEvents=!1,tracker.sendLogEvents=function(){var e=["a="+data.getProjectId(),"d="+data.getAdminAccountId(),"y="+data.getIPAnonymization(),"src=js"];directive.shouldOverrideThirdPartyCookie&&e.push("override=true"),each(plan.getVariationIds(),function(t){var n=data.getVariationExperimentId(t);e.push("x"+n+"="+t)}),each(segmenter.getSegmentTrackingData(),function(t,n){n=encodeURIComponent(safeDecodeUriComponent(n)),e.push("s"+t+"="+n)}),e.push("tsent="+tracker.currentTimeInSeconds());var t=[],n=id.getOrGenerateId(),i=id.getPPID();each(tracker.logEvents,function(e){var r=[],a=tracker.getGoalsForEvent(e);e.name&&r.push("n="+encodeURIComponent(e.name)),e.options.anonymous!==!0&&(r.push("u="+n),i&&r.push("p="+encodeURIComponent(i))),tracker.XHR_SUPPORTED&&r.push(tracker.XHR_FLAG),e.created&&r.push("time="+e.created),directive.optOutThirdPartyCookies&&r.push("dtpc="+directive.optOutThirdPartyCookies);var o=!!e.options&&!!e.options.revenue&&e.options.experimentIds||{},s=keys(o),l=filter(data.getEnabledExperimentIds(),function(e){return!o[e]}),c=[{experiments:s,goals:a.concat([data.getSummaryRevenueGoalId()]),extraParameters:["v="+encodeURIComponent(e.options.revenue)]},{experiments:l,goals:a,extraParameters:[]}];if(each(c,function(e){(e.experiments.length||directive.forceTracking)&&t.push(r.concat(e.extraParameters).concat(["f="+e.experiments.join(","),"g="+e.goals.join(",")]).join("&"))}),"custom"===e.type)try{tracker.updateCustomEventList(e.name)}catch(u){}});var r=t.concat(tracker.getPendingLogEvents());tracker.setPendingLogEventsCookie(r);var a=e.join("&"),o=tracker.sentPendingLogEvents?t:r;tracker.sentPendingLogEvents=!0;for(var s=0,l=o.length;s<l;s++){var c=o[s];tracker.makeLogRequest(a+"&"+c,function(){tracker.removePendingLogEvent(c)})}tracker.logEvents=[],tracker.shouldSendLogEvents=!0},tracker.sendVerificationRequest=function(){if(directive.shouldTrackEvents){var e=data.getWebHost(),t="https://"+e+"/account/snippet_installed?project_id="+data.getProjectId()+"&wxhr=true";timer.addEvent("Tracker","Making snippet verification request."),tracker.makeRequest(t,null)}},tracker.setPendingLogEventsCookie=function(e){for(var t=json.stringify(e);t.length>PENDING_LOG_EVENTS_COOKIE_MAX_LENGTH;)e=e.slice(0,-1),t=json.stringify(e);cookie.set(PENDING_LOG_EVENTS_COOKIE_NAME,t,PENDING_LOG_EVENTS_COOKIE_AGE)},tracker.updateCustomEventList=function(e){var t=100,n=id.getOrGenerateId(),i=optly.client.storage.localStorage.get(CUSTOM_EVENTS_STORAGE_NAME)||{},r=i[n]||(i[n]=[]);r=isArrayLike(r)?r:[],$.inArray(e,r)!==-1?(r.splice($.inArray(e,r),1),r.push(e)):r.push(e),r.length>t&&r.shift(),i[n]=r,optly.client.storage.localStorage.set(CUSTOM_EVENTS_STORAGE_NAME,i),cookie.remove(CUSTOM_EVENTS_COOKIE_NAME)},tracker.sendErrorLog=function(e){var t="EXCEPTION: "+(e.name||"no-name"),n=e.message||"no-message",i=e.stack||"error\nno stack",r=i.split("\n").slice(0,2).join(" ");tracker.addLogEvent([t,n,r].join(", "),"custom"),tracker.sendLogEvents()},tracker.getDocumentVisibilityState=function(){return document.visibilityState||document.webkitVisibilityState},tracker.currentTimeInSeconds=function(){return+new Date/1e3},tracker.getGoalsForEvent=function(e){if(e.options.goalIds)return e.options.goalIds;if("activate"===e.type){var t=evaluator.getActiveExperimentIds(),n=redirect.getRedirectVariationId();if(n){var i=data.getVariationExperimentId(n);t.push(i)}return t}return e.name?data.getMatchingGoalIds(e.name):[]},tracker.images=[],tracker.sentPendingLogEvents=!1,tracker.XHR_FLAG="wxhr=true",tracker.XHR_SUPPORTED=!0,tracker.pageTimestamp=tracker.currentTimeInSeconds(),behavior.FIELDS={NAME:"n",TIME:"t",TYPE:"y",CATEGORY:"c",REVENUE:"r",SESSION_ID:"s",OPTIONS:"o"},behavior.EventBase=function(e,t,n,i,r){this[behavior.FIELDS.NAME]=e,this[behavior.FIELDS.TYPE]=t,"string"==typeof n&&trim(n).length>0&&(this[behavior.FIELDS.CATEGORY]=trim(n)),i&&keys(i).length>0&&(this[behavior.FIELDS.OPTIONS]=i),isDefined(r)&&(this[behavior.FIELDS.REVENUE]=r)},behavior.EventBase.prototype.digest=function(){var e=function(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)},t=[];if(t.push(e(behavior.FIELDS.NAME,this[behavior.FIELDS.NAME])),t.push(e(behavior.FIELDS.TYPE,this[behavior.FIELDS.TYPE])),this[behavior.FIELDS.CATEGORY]&&t.push(e(behavior.FIELDS.CATEGORY,this[behavior.FIELDS.CATEGORY])),this[behavior.FIELDS.REVENUE]&&t.push(e(behavior.FIELDS.REVENUE,this[behavior.FIELDS.REVENUE])),!this[behavior.FIELDS.OPTIONS])return t.join("&");var n=this[behavior.FIELDS.OPTIONS]||{},i=filter(keys(n),function(e){return n.hasOwnProperty(e)});i=i.sort();for(var r=0;r<i.length;r++)t.push(e(i[r],n[i[r]]));return t.join("&")},behavior.EventBase.prototype.hash=function(){return this.hash_?this.hash_:(this.hash_=optly.hashing.hashToHex(optly.hashing.toByteString(this.digest()),BEHAVIOR_EVENT_HASH_SEED),this.hash_)},behavior.EventBase.prototype.setHash=function(e){this.hash_=e},behavior.EventBase.prototype.reHash=function(){this.hash_=null,this.hash()},behavior.EventBase.prototype.equals=function(e){if(this.hash()!==e.hash())return!1;if(this[behavior.FIELDS.NAME]!==e[behavior.FIELDS.NAME]||this[behavior.FIELDS.TYPE]!==e[behavior.FIELDS.TYPE]||this[behavior.FIELDS.CATEGORY]!==e[behavior.FIELDS.CATEGORY]||this[behavior.FIELDS.REVENUE]!==e[behavior.FIELDS.REVENUE])return!1;if(!this[behavior.FIELDS.OPTIONS]&&!e[behavior.FIELDS.OPTIONS])return!0;var t=this[behavior.FIELDS.OPTIONS]||{},n=e[behavior.FIELDS.OPTIONS]||{},i=filter(keys(t),function(e){return t.hasOwnProperty(e)}),r=filter(keys(n),function(e){return n.hasOwnProperty(e)});if(i.length!==r.length)return!1;for(var a=0;a<i.length;a++){var o=i[a];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0},behavior.EventBase.prototype.getValueOrDefault=function(e,t){var n=getFieldValue(this,e);return isDefined(n)?n:t},behavior.EventBase.prototype.setFieldValue=function(e,t){e!==behavior.FIELDS.NAME&&e!==behavior.FIELDS.TYPE&&e!==behavior.FIELDS.CATEGORY&&e!==behavior.FIELDS.REVENUE&&e!==behavior.FIELDS.OPTIONS||(this[e]=t,this.reHash())},behavior.Event=function(e,t,n){this.eventBase=e,this[behavior.FIELDS.TIME]=t,isDefined(n)&&(this[behavior.FIELDS.SESSION_ID]=n)},behavior.Event.prototype.getValueOrDefault=function(e,t){if(0===e.length)return this;var n={};n[behavior.FIELDS.TIME]=this[behavior.FIELDS.TIME],n[behavior.FIELDS.SESSION_ID]=this[behavior.FIELDS.SESSION_ID];var i=getFieldValue(n,e);return isDefined(i)?i:this.eventBase.getValueOrDefault(e,t)},behavior.Event.prototype.setFieldValue=function(e,t){e===behavior.FIELDS.TIME||e===behavior.FIELDS.SESSION_ID?this[e]=t:this.eventBase.setFieldValue(e,t)},behavior.Policy.MILLIS_IN_30_MINS=18e5,behavior.Policy.isInSameSession=function(e,t){var n=e.getValueOrDefault([behavior.FIELDS.TIME],0),i=t.getValueOrDefault([behavior.FIELDS.TIME],0);return Math.abs(n-i)<behavior.Policy.MILLIS_IN_30_MINS},behavior.Policy.updateSessionId_unguarded=function(e,t){var n;n=behavior.Policy.isInSameSession(e,t)?e.getValueOrDefault([behavior.FIELDS.SESSION_ID]):t.getValueOrDefault([behavior.FIELDS.TIME]),t.setFieldValue(behavior.FIELDS.SESSION_ID,n)},behavior.Policy.updateSessionId=function(e,t){if(!e)return void t.setFieldValue(behavior.FIELDS.SESSION_ID,t.getValueOrDefault([behavior.FIELDS.TIME]));var n=e.getValueOrDefault([behavior.FIELDS.TIME]),i=e.getValueOrDefault([behavior.FIELDS.SESSION_ID]),r=t.getValueOrDefault([behavior.FIELDS.TIME]);n="number"!=typeof n?r-2*behavior.Policy.MILLIS_IN_30_MINS:n,i="number"!=typeof i?n:i,e=new behavior.Event(new behavior.EventBase("",""),n,i),behavior.Policy.updateSessionId_unguarded(e,t)},behavior.Policy.sessionize=function(e){var t=e.length;if(0!==t){e[0].setFieldValue(behavior.FIELDS.SESSION_ID,e[0].getValueOrDefault([behavior.FIELDS.TIME]));for(var n=1;n<t;n++)behavior.Policy.updateSessionId_unguarded(e[n-1],e[n])}},behavior.Policy.applyMigrations=function(e){return!1},behavior.Store={EVENTS_KEY:"events",EVENT_QUEUE_KEY:"event_queue",COMPACT_KEYS:{EVENTBASE:"eb",HASH:"h",TIMEBASE:"tb",TIMESTAMPS:"ts",DELTA:"d",INDEX:"i"},baseMap:{},events:[]},behavior.Store.initialize=function(){data.isBehaviorEnabled()&&behavior.Store.populatePersistedEvents()},behavior.Store.getEvents=function(){if(!data.isBehaviorEnabled())return[];0===behavior.Store.events.length&&behavior.Store.initialize();var e=behavior.Store.events;return e.slice(-behavior.Store.maxEvents)},behavior.Store.populatePersistedEvents=function(){var e=user.getUserData(behavior.Store.EVENTS_KEY)||[],t=user.getUserData(behavior.Store.EVENT_QUEUE_KEY)||[];behavior.Store.migrateEventsAndUpdateStore(e,t),behavior.Policy.sessionize(behavior.Store.events)},behavior.Store.migrateEventsAndUpdateStore=function(e,t){if(0===e.length&&0===t.length)return behavior.Store.events=[],!1;var n=!1,i=e[0]||t[0];return behavior.Store.COMPACT_KEYS.EVENTBASE in i?(e=behavior.Store.unCompact(e),t=behavior.Store.unCompact(t)):(n=!0,e=behavior.Store.migrateFromVerboseFormat(e),t=behavior.Store.migrateFromVerboseFormat(t)),behavior.Store.events=e.concat(t),behavior.Store.events.length>behavior.Store.maxEvents&&(behavior.Store.events=behavior.Store.events.slice(-behavior.Store.maxEvents),n=!0),behavior.Store.updateBaseMapAndMaybeDedupe(behavior.Store.events),behavior.Store.migrateEventBasesAndUpdateStore()&&(n=!0),n},behavior.Store.migrateFromVerboseFormat=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=behavior.Store.makeEventBase(i);t[n]=new behavior.Event(r,i[behavior.FIELDS.TIME])}return t},behavior.Store.migrateEventBasesAndUpdateStore=function(){var e=!1,t=behavior.Store.getAllEventBases();return behavior.Policy.applyMigrations(t)&&(e=!0,behavior.Store.baseMap={},behavior.Store.updateBaseMapAndMaybeDedupe(behavior.Store.events)),e},behavior.Store.getTime=function(){return+new Date},behavior.Store.updateBaseMapAndMaybeDedupe=function(e){for(var t=0;t<e.length;t++)e[t].eventBase=behavior.Store.findOrSetEventBase(e[t].eventBase)},behavior.Store.findOrSetEventBase=function(e){var t=e.hash(),n=behavior.Store.baseMap[t];if("undefined"==typeof n)return behavior.Store.baseMap[t]=[e],e;for(var i=0;i<n.length;i++)if(e.equals(n[i]))return n[i];return n.push(e),e},behavior.Store.getAllEventBases=function(){var e=[];for(var t in behavior.Store.baseMap)behavior.Store.baseMap.hasOwnProperty(t)&&(e=e.concat(behavior.Store.baseMap[t]));return e},behavior.Store.CompactEB,behavior.Store.CompactTS,behavior.Store.CompactEvent,behavior.Store.makeEventBase=function(e,t){var n=new behavior.EventBase(e[behavior.FIELDS.NAME],e[behavior.FIELDS.TYPE],e[behavior.FIELDS.CATEGORY],e[behavior.FIELDS.OPTIONS],e[behavior.FIELDS.REVENUE]);return isDefined(t)&&n.setHash(t),n},behavior.Store.unCompact=function(e){for(var t=behavior.Store.COMPACT_KEYS,n=[],i=0;i<e.length;i++)for(var r=e[i],a=behavior.Store.makeEventBase(r[t.EVENTBASE],r[t.HASH]),o=r[t.TIMEBASE],s=r[t.TIMESTAMPS],l=0;l<s.length;l++){var c=s[l],u=new behavior.Event(a,o+c[t.DELTA]),d=c[t.INDEX];n[d]=u}return n},behavior.Store.usageInBytes=function(){var e=user.getUserData(behavior.Store.EVENTS_KEY)||[],t=user.getUserData(behavior.Store.EVENT_QUEUE_KEY)||[];return json.stringify(e).length+json.stringify(t).length},behavior.Store.maxEvents=1e3,behavior.getEvents=function(){try{return behavior.Store.getEvents()}catch(e){log("Behavior","Error "+e.toString()+" getting events")}return[]},behavior.usageInBytes=function(){return behavior.Store.usageInBytes()},behavior.getDefaultAttributes=function(){var e="visitor_profile",t=user.getUserData(e)||{};return t.defaultBehavior||{}},optly.client.rum.ENABLED=!0,optly.client.rum.MAX_CHARS_INTEGRATION_OAUTH_CLIENT_IDS=64,optly.client.rum.MAX_CHARS_APIS=1e3,optly.client.rum.RumCollector=function(){this.events={},this.apis={},this.inRumSample=Math.random()<data.rumSamplingRate(),geolocation.cdn3Requested&&(this.events.geoRequest=geolocation.cdn3Requested-optly.client.rum.timebase)},optly.client.rum.now=function(){return(new Date).getTime()-(optly.client.rum.timebase||0)},optly.client.rum.since=function(e){return e?(new Date).getTime()-e.getTime():0},optly.client.rum.timebase=optly.client.rum.now(),optly.client.rum.RumCollector.prototype.sendRum=optly.client.rum.ENABLED?function(){this.inRumSample&&tracker.makeRequest(this.createUrl(),null)}:goog.nullFunction,optly.client.rum.RumCollector.joinMaxLengthRandomly=optly.client.rum.ENABLED?function(e,t,n){for(var i=e.slice(),r=i.length-1;r>0;r--){var a=Math.floor(Math.random()*(r+1)),o=i[r];i[r]=i[a],i[a]=o}for(var s=i.join(t);s.length>n;)i.pop(),s=i.join(t);return s}:function(e,t,n){return""},optly.client.rum.RumCollector.prototype.createUrl=function(){return"https://rum.optimizely.com/rum?"+tracker.objectToQuery(this.getRum())},optly.client.rum.RumCollector.prototype.recordEvent=optly.client.rum.ENABLED?function(e){this.events[e]||(this.events[e]=optly.client.rum.now())}:function(e){},optly.client.rum.RumCollector.prototype.recordApi=optly.client.rum.ENABLED?function(e){this.apis[e]=!0}:goog.nullFunction,optly.client.rum.RumCollector.prototype.getRum=optly.client.rum.ENABLED?function(){var e={user:id.getOrGenerateId(),ppid:id.getPPID(),project:data.getProjectId(),revision:data.getRevision(),sync:optly.client.rum.syncInstall,timebase:optly.client.rum.timebase,render:optly.client.rum.firstRenderTime,sampleRate:data.rumSamplingRate(),numExps:evaluator.getActiveExperimentIds().length,numBehaviorEvents:behavior.getEvents().length,behaviorEventsSize:behavior.usageInBytes(),oldestBehaviorEventAge:optly.client.rum.since(optly.client.rum.getOldestBehaviorEventDate()),integrationOAuthClientIds:optly.client.rum.RumCollector.joinMaxLengthRandomly(api.getOAuthClientIds(),",",optly.client.rum.MAX_CHARS_INTEGRATION_OAUTH_CLIENT_IDS),codeVersion:data.getVersion(),hasSlave:data.hasSlave(),docVisibilityState:tracker.getDocumentVisibilityState(),wxhr:!0,apis:optly.client.rum.RumCollector.joinMaxLengthRandomly(keys(this.apis),"!",optly.client.rum.MAX_CHARS_APIS)};extend(e,optly.client.rum.getResourceTiming()||{}),extend(e,this.events),extend(e,optly.client.rum.getCookieData()||{});var t={};return each(optly.client.storage.localStorage.metrics()||{},function(e,n){t["ls"+e]=n}),extend(e,t),e}:function(){return{}},optly.client.rum.syncInstall=optly.client.rum.ENABLED?function(){try{return!document.getElementsByTagName("body")[0]}catch(e){return null}}():null,optly.client.rum.firstRenderTime=null,optly.client.rum.ENABLED&&function(){try{window.requestAnimationFrame(function(){optly.client.rum.firstRenderTime=optly.client.rum.now()})}catch(e){}}(),optly.client.rum.getOldestBehaviorEventDate=function(){try{var e=window.optimizely.get("behavior"),t=e.getEvents();return t[0].timestamp}catch(n){}},optly.client.rum.getCookieData=optly.client.rum.ENABLED?function(){var e=[AUDIENCE_COOKIE_NAME,BUCKET_COOKIE_NAME,CUSTOM_EVENTS_COOKIE_NAME,PENDING_LOG_EVENTS_COOKIE_NAME,REFERRER_REDIRECT_COOKIE_NAME,SEGMENTS_COOKIE_NAME],t={},n=0,i=0;return each(cookie.getAll(),function(r){0===r.name.indexOf("optimizely")&&(arrayContains(e,r.name)&&(timer.addEvent("RUM","Cookie size for "+r.name+": "+r.raw.length),t[r.name+"Len"]=r.raw.length),n+=r.raw.length),i+=r.raw.length}),extend(t,{allOptimizelyCookiesLen:n,allCookiesLen:i}),t}:goog.nullFunction,optly.client.rum.resourceRegex=/\/\/[^.]+\.optimizely\.(com|test)\/(js|api\/client)\/[\d]+\.js/gi,optly.client.rum.getResourceTiming=optly.client.rum.ENABLED?function(){var e,t=null;try{e=filter(window.performance.getEntries(),function(e){return!!optly.client.rum.resourceRegex.test(e.name)})[0]}catch(n){return t}if(e){t={};for(var i in e)"number"==typeof e[i]&&0!==e[i]&&(t[i]=e[i])}return t}:goog.nullFunction,optly.client.rum.instance=new optly.client.rum.RumCollector,distributor.distributeAll=function(){optly.client.rum.instance.recordEvent("distributeExperiments"),each(data.getExperimentIds(),function(e){if(!evaluator.isInQueue(e))if(data.isExperimentConditionallyActivated(e))distributor.configureConditionalModeExperiment(e);else if(condition.isReadyToTest(e)){if(condition.test(e,{objectType:"experiment"})){timer.addEvent("Distributor","Going to distribute "+data.getExperimentString(e));var t=distributor.distributeExperiment(e);t&&evaluator.enqueue(e)}}else data.isExperimentManuallyActivated(e)||arrayContains(evaluator.getEvaluatedExperimentIds(),e)||activator.addDelayedExperiment(e)})},distributor.distributeExperiment=function(e,t){t=t===!0;var n=plan.getVariationId(e);if(n&&n.length>0)return timer.addEvent("Distributor","Not distributing experiment "+e+" (already in plan)"),!0;if(t||plan.isExperimentIgnored(e))return timer.addEvent("Distributor","Not distributing experiment "+e+" (is ignored)"),optly.client.preview.Logger.setReason(e,"it is ignored"),!1;var i=data.getEnabledVariationIds(e);if(0===i.length)return timer.addEvent("Distributor","Permanently ignoring experiment "+e+" (no enabled variations)"),optly.client.preview.Logger.setReason(e,"it has no enabled variations"),plan.ignoreExperiment(e),!1;var r=data.getExperimentIgnorePercentage(e);if(r>distributor.randomForIgnoring(e))return timer.addEvent("Distributor","Permanently ignoring experiment "+e+"("+r/100+"% likelihood)"),plan.ignoreExperiment(e),!1;var a=i;void 0!==distributor.preferredBucketUserMapping[e]&&(timer.addEvent("Distributor","Taking into account bucketUser variations for experiment "+e),a=distributor.getPotentialPreferredMVTVariations(e));var o=distributor.pickRandomVariationIndex(e,a),s=a[o];return timer.addEvent("Distributor","Picked variation "+s+" [index "+o+" of "+i.length+"]"),plan.addVariation(s,"distributor",!1),!0},distributor.configureConditionalModeExperiment=function(e,t){t=t||{},timer.addEvent("Distributor","Configuring conditionally-activated experiment: "+e),api.conditionallyActivatedExperiments[e]?timer.addEvent("Distributor","Not configuring conditionally-activated experiment (already done): "+e):data.isExperimentEnabled(e)||t.force===!0?(distributor.runConditionalCode(e,t),api.isFinalized&&api.setPublicObjects()):timer.addEvent("Distributor","Not configuring conditionally-activated experiment (not enabled): "+e)},distributor.runConditionalCode=function(experimentId,options){var code=data.getConditionalActivationCode(experimentId),pollingType=!0,conditionalFunction,conditionalCodeResult;if("function"==typeof code)pollingType=!1,conditionalFunction=code;else try{var evalString="("+code+")";conditionalCodeResult=eval("(function() {return "+evalString+";})()"),"function"==typeof conditionalCodeResult&&(pollingType=!1,conditionalFunction=conditionalCodeResult)}catch(error){}var activationOptions={isActive:!1,experimentId:experimentId},activationFunction=function(){activator.activate(api.visitor,experimentId,options),activationOptions.isActive=arrayContains(evaluator.getActiveExperimentIds(),experimentId),timer.addEvent("Distributor","Activating conditionally activated experiment "+experimentId)};if(pollingType){var testOptions={objectType:"experiment",enabledStatus:options.enabledStatus};if(options.force||!condition.isReadyToTest(experimentId)||condition.test(experimentId,testOptions)){var pollForReady=function(){condition.isReadyToTest(experimentId)&&(condition.testCodeResult(null,{value:code})||conditionalCodeResult)?activationFunction():setTimeout(pollForReady,EVALUATION_WAIT_INTERVAL)};pollForReady(),timer.addEvent("Distributor","Set up conditional polling for "+experimentId),api.conditionallyActivatedExperiments[experimentId]=!0}}else try{conditionalFunction(activationFunction,activationOptions),timer.addEvent("Distributor","Set up conditional callback for "+experimentId),api.conditionallyActivatedExperiments[experimentId]=!0}catch(error){timer.addEvent("Distributor","Error running conditional callback function for "+experimentId)}},distributor.getBucketingId=function(){return id.getPPID()||id.getOrGenerateId()},distributor.randomForIgnoring=function(e){return optly.hashing.hashToInt(distributor.getBucketingId(),e,optly.hashing.HashSeed.IGNORING,1e4)},distributor.randomForBucketing=function(e){return optly.hashing.experimentUserHash(distributor.getBucketingId(),e,optly.hashing.HashSeed.BUCKETING)},distributor.getRandomBucketAsFallback=function(e,t){return optly.hashing.hashToInt(distributor.getBucketingId(),e,optly.hashing.HashSeed.FALLBACK,t)},distributor.pickRandomVariationIndex=function(e,t){var n=[],i=data.getExperimentVariationWeights(e);return each(t,function(e){n.push(i[e])}),distributor.chooseWeightedIndex(e,n)},distributor.chooseWeightedIndex=function(e,t){var n=t.length;if(0===n)return null;if(1===n)return 0;for(var i=0,r=0;r<n;r++)i+=t[r];for(var a=distributor.randomForBucketing(e)*i,r=0;r<n;r++){if(a<t[r])return r;a-=t[r]}return distributor.getRandomBucketAsFallback(e,n)},distributor.preferMVTVariation=function(e,t){var n=data.getExperimentVariationSectionId(e,t);distributor.preferredBucketUserMapping[e]=distributor.preferredBucketUserMapping[e]||{},distributor.preferredBucketUserMapping[e][n]=t,timer.addEvent("Distributor","Preferring variation partial "+t+" of section "+n+" of experiment "+e);var i=distributor.getPotentialPreferredMVTVariations(e);1===i.length&&plan.addVariation(i[0],"api.bucketUser",!1,!0)},distributor.getPotentialPreferredMVTVariations=function(e){var t=[];return each(data.getEnabledVariationIds(e),function(n){distributor.containsPreferredMVTVariations(e,n)&&t.push(n)}),t},distributor.containsPreferredMVTVariations=function(e,t){var n=!0;for(var i in distributor.preferredBucketUserMapping[e]){var r=distributor.preferredBucketUserMapping[e][i];t.indexOf(r)===-1&&(n=!1)}return n},distributor.preferredBucketUserMapping={},dcp.alias=function(e){var t=data.getDCPServiceId();if(null!==t){var n=dcp.getAliases(data.getDCPKeyfieldLocators());if(!n.optlyDatasource)return void timer.addEvent("DCP","Must specify Optimizely datasource in alias");if(0===n.otherDatasources.length)return void timer.addEvent("DCP","Must specify at least one non-Optimizely datasource to alias");if(dcp.maybeInvalidateCachedResults(e)){var i=dcp.makeAliasURLPath(t,n.optlyDatasource.datasourceId,n.optlyDatasource.id);dcp.postAliasRequest(i,n.otherDatasources,e)}else timer.addEvent("DCP","Duplicate alias request; skipping.")}},dcp.aliasDescriptor,dcp.getAliases=function(e){for(var t=null,n=[],i=0;i<e.length;i++){var r=e[i],a=r.dcp_datasource_id||null,o=r.is_optimizely||!1,s=r.type,l=r.name||"";if(null!==a){var c=null;if(s===dcp.keyFieldLocatorType.COOKIE?c=condition.facade.getCookie(l):s===dcp.keyFieldLocatorType.JS_VARIABLE?c=condition.facade.getJSVariable(l):s===dcp.keyFieldLocatorType.QUERY_PARAM?c=condition.facade.getQueryParameter(l):s===dcp.keyFieldLocatorType.UID&&(c=dcp.getUID()),isNumberLike(c)||"string"==typeof c){var u={datasourceId:a,id:c};o?t=u:n.push(u)}}else timer.addEvent("DCP","No DCP datasource id specified")}return{optlyDatasource:t,otherDatasources:n}},dcp.getUID=distributor.getBucketingId,dcp.makeAliasURLPath=function(e,t,n){return map([e,t,n],encodeURIComponent).join("/")},dcp.maybeInvalidateCachedResults=function(e){var t=dcp.getAliases(data.getDCPKeyfieldLocators()),n=e.get()||{},i=n.aliases||{};return!dcp.isAlreadyAliased(t.otherDatasources,i)&&(n.rulesResults=null,e.set(n),!0)},dcp.makeTargetingURL=function(e){var t=dcp.getAliases(data.getDCPKeyfieldLocators());if(!t.optlyDatasource||!t.optlyDatasource.datasourceId)return timer.addEvent("DCP","No Optimizely datasource found in data."),null;var n=t.optlyDatasource.datasourceId,i=t.optlyDatasource.id,r=map([data.getProjectId().toString(),n,i],encodeURIComponent),a=[dcp.BASE_URLS.TARGETING].concat(r).join("/"),o=e.get()||{},s=o.aliases||{};if(!dcp.isAlreadyAliased(t.otherDatasources,s)){var l=map(t.otherDatasources,function(e){return encodeURIComponent(e.datasourceId)+"="+encodeURIComponent(e.id)});a+="?"+l.join("&")}return a},dcp.isAlreadyAliased=function(e,t){return t=t||{},every(e,function(e){var n=e.datasourceId;return t[n]===e.id})},dcp.getUpdatedAliasData=function(e,t){return t=t||{},each(e,function(e){t[e.datasourceId]=e.id}),t},dcp.postAliasRequest=function(e,t,n){try{var i=new XMLHttpRequest,r=[dcp.BASE_URLS.ALIAS,e].join("/");i.open("POST",r),"withCredentials"in i&&(i.withCredentials=!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8");var a={};each(t,function(e){a[e.datasourceId]=e.id}),i.onerror=function(){timer.addEvent("DCP","Failed to POST alias request")},i.onload=function(){if(i.status>=200&&i.status<300){var e=n.get()||{},r=e.aliases||{};e.aliases=dcp.getUpdatedAliasData(t,r),n.set(e)}else timer.addEvent("DCP","Alias POST failed with",i.statusText)},i.send(json.stringify({data:a}))}catch(o){timer.addEvent("DCP","Exception %s trying to POST alias request",o)}},dcp.BASE_URLS={ALIAS:"https://vis.optimizely.com/api/alias",TARGETING:"https://tapi.optimizely.com/api/targetingEmbed"},dcp.keyFieldLocatorType={COOKIE:"cookie",JS_VARIABLE:"js_variable",QUERY_PARAM:"query_param",UID:"uid"},asyncRequest.makeDynamicCustomerProfileTargetingRequest=function(){dcp.maybeInvalidateCachedResults(asyncInfo.dcpCache);var e=dcp.makeTargetingURL(asyncInfo.dcpCache);null!==e&&loadScript(e)},asyncRequest.makeListTargetingRequest=function(){loadScript(asyncRequest.getListTargetingUrl())},asyncRequest.getListTargetingUrl=function(){var e=asyncRequest.URLS.ODDS,t={};each(data.getListTargetedKeys(),function(e,n){var i=asyncRequest.getCurrentValueForListTargetedKey(n);"string"==typeof i&&(t[n]=i)}),t.project=data.getProjectId().toString();var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return n.length&&(e+="?"+n.join("&")),e},asyncRequest.getCurrentValueForListTargetedKey=function(e){if(!asyncRequest.isListTargetedKeyWithVariableValue(e))return timer.addEvent("Async Request","Can't determine a value for this list-targeted key: "+e),null;var t=e.split("_"),n=t[0],i=t.slice(1).join("_"),r=void 0;if("c"===n)r=condition.facade.getCookie(i);else if("j"===n)r=condition.facade.getJSVariable(i);else{if("q"!==n)return timer.addEvent("Async Request","Can't determine a value for this list-targeted key: "+e),null;r=condition.facade.getQueryParameter(i)}return"string"!=typeof r&&"number"!=typeof r&&"boolean"!=typeof r?null===r||"undefined"==typeof r?(timer.addEvent("Async Request","No value is set for this list-targeted key: "+e),null):(timer.addEvent("Async Request","Unacceptable value (must be string, number, or boolean) for this list-targeted key: "+e),null):(r=r.toString(),r.length>100?(timer.addEvent("Async Request","Withholding the overlong value for this list-targeted key: "+e),null):(timer.addEvent("Async Request","Returning a value for this list-targeted key: "+e),r))},asyncRequest.isListTargetedKeyWithVariableValue=function(e){if(containsString(e,"_")){var t=e.split("_")[0];return arrayContains(["c","j","q"],t)}return!1},asyncRequest.KeyValue,asyncRequest.URLS={ODDS:"https://odds.optimizely.com/js/geo2.js"},preview_loader.loadPreview=function(){window.optimizelyPreview||(window[GLOBAL]&&window[GLOBAL].unshift||(window[GLOBAL]=[]),window[GLOBAL].unshift(["verifyPreviewProject",data.getProjectId()]),loadScript([preview_loader.HOST,preview_loader.PATH,directive.previewScriptName,".js"].join(""),!0),directive.shouldLoadPreview&&preview_loader.loadSplashScreen('Loading Preview<br /><img alt="loading" src="//'+data.getWebHost()+'/static/img/loading-32.gif" style="padding-top:20px; width: 32px; margin: 0 auto;" />'))},preview_loader.loadSplashScreen=function(e){if(0===$("body").length)return void setTimeout(function(){preview_loader.loadSplashScreen(e)},20);var t='<div id="optimizely-loading" style="position:absolute;top:0;right:0;left:0;bottom:0;background-color:white;opacity:0.9;z-index: 3271000;"><h2 style="color:#9a9a9a;top:40%;position:absolute;font-size:2.25em;text-align:center;width:100%;font-family:\'Lucida Grande\',sans-serif;">';t=t+e+"</h2></div>",$("#optimizely-loading").remove(),$("body").append(t)},preview_loader.HOST=data.getPreviewHost(),preview_loader.PATH="/js/preview/",query.getAllParameters=function(){var e=window.location.search||"";0===e.indexOf("?")&&(e=e.substring(1));for(var t=e.split("&"),n=[],i=0;i<t.length;i++){var r="",a="",o=t[i].split("=");o.length>0&&(r=o[0]),o.length>1&&(a=o[1]),n.push([r,a])}return n},query.getParameters=function(e){for(var t,n=/optimizely_([^=]+)=([^&]*)/g,i={};t=n.exec(e);)i[t[1]]=t[2];return i},query.getValue=function(e,t){t=t||query.getAllParameters();for(var n=0;n<t.length;n++){var i=t[n];if(i[0]===e){var r=i[1];return r=r.replace(/\+/g," "),safeDecodeUriComponent(r)}}return null},query.FORCE_PARAMETERS_REGEX=/x(\d+)/,query.processForceParameters=function(){var e=!optly.client.preview.ENABLED&&!data.isForceVariationEnabled(),t=query.getParameters(window.location.search);each(t,function(t,n){var i=query.FORCE_PARAMETERS_REGEX.exec(t);if(i){if(e)return directive.requestedInvalidForceParameters=!0,void log("Query","Ignored parameter %s",t);var r=i[1];api.bucketUser(r,n,!0),data.isExperimentConditionallyActivated(r)?distributor.configureConditionalModeExperiment(r,{force:!0,skipPageviewTracking:!0}):condition.test(r,{})||activator.activate(api.visitor,r,{force:!0,skipPageviewTracking:!0})}})},query.process=function(){var e=query.getParameters(window.location.search),t=!1;for(var n in e)if(query.FORCE_PARAMETERS_REGEX.exec(n)){t=!0;break}"true"!==e.opt_out&&"false"!==e.opt_out||tracker.optOut("true"===e.opt_out),directive.forceTracking="true"===e.force_tracking,"true"===e.disable||"true"===e.opt_out||tracker.isOptedOut()?(directive.isEnabled=!1,directive.isNewClientEnabled=!1):"classic"===e.disable?directive.isEnabled=!1:"new"===e.disable&&(directive.isNewClientEnabled=!1),directive.isEditor="true"===e.editor,directive.isPersonalizationEditor="true"===e.p13n,directive.shouldLoadPreview="true"===e.show_preview;var i=window.optlyDesktop;directive.isDesktopAppEditor=i&&isDefined(i.p13nInner);var r=cookie.get(TOKEN_COOKIE_NAME);r&&cookie.set(TOKEN_COOKIE_NAME,r,TOKEN_COOKIE_KEEP_ALIVE);var a=e.token||r;data.getInsecurePreview()&&a?directive.previewScriptName="public/"+data.getProjectId():/^[0-9a-f]{64}$/.test(a)?directive.previewScriptName=a:/^[0-9a-f]{32}$/.test(a)?(timer.addEvent("Query","Using legacy MD5 token"),directive.previewScriptName=a):(cookie.remove(TOKEN_COOKIE_NAME),timer.addEvent("Query","Blocked request to load unsafe script: "+a)),directive.shouldLog="true"===e.log,directive.shouldLogVerbosely="true"===e.verbose,directive.shouldTrackEvents=!(directive.shouldLoadPreview||t)||directive.forceTracking},optly.nativity.getNativeGetElementsByClassName=function(){var e=document.getElementsByClassName;if(!optly.nativity.isNativeFunction(e)){var t=window.optimizely||{},n=t.getElementsByClassName,i=window.optly||{},r=i.getElementsByClassName;e=optly.nativity.isNativeFunction(n)?n:optly.nativity.isNativeFunction(r)?r:null}return e},optly.nativity.isNativeFunction=function(e){return e&&String(e).indexOf("[native code]")!==-1},segmenter.initialize=function(e){var t=e||visitor;segmenter.loadSegmentsCookie(t),activator.tryToEvaluateSegments(data.getSegmentIds()),segmenter.addChangeHandler(segmenter.saveSegmentsCookie),segmenter.callChangeHandlers(),integrator.loadThirdPartySegments(t)},segmenter.loadSegmentsCookie=function(e){timer.addEvent("Segmenter","Loading segments cookie.");var t=cookie.get(SEGMENTS_COOKIE_NAME);if(t){try{t=json.parse(t)}catch(n){t={}}each(t,function(t,n){var i=data.getSegment(t);timer.addEvent("Segmenter","Segments cookie contains segment id: "+t),i&&i.audience_id?e.addToAudience(i.audience_id):i&&i.dimension_id?e.setDimensionValue(i.dimension_id,n,!1):segmenter.visitorSegments[t]=n})}},segmenter.saveSegmentsCookie=function(){var e={};each(segmenter.visitorSegments,function(t,n){n&&(e[t]=n)}),cookie.set(SEGMENTS_COOKIE_NAME,json.stringify(e),directive.trackingCookieExpiration)},segmenter.addChangeHandler=function(e){segmenter.changeHandlers.push(e);
},segmenter.addToSegment=function(e,t){e&&!isNaN(parseInt(e,10))?(t||""===t||(t=!0),segmenter.visitorSegments[e]=t,segmenter.callChangeHandlers()):timer.addEvent("Segmenter","Unable to find segment for ID: "+e)},segmenter.callChangeHandlers=function(){each(segmenter.changeHandlers,function(e){e()})},segmenter.evaluateSegment=function(e){timer.addEvent("Segmenter","Evaluating Segment "+e),segmenter.tellPreviewAboutSegment(e,"add");var t=segmenter.evaluateSegmentValue(e);null!==t&&segmenter.addToSegment(e,t)},segmenter.evaluateSegmentValue=function(e){if(data.getSegmentAPIOnly(e))return null;var t=data.getSegmentValueType(e),n=null,i=null;switch(t){case"browser":n=condition.facade.getBrowserId(),i="unknown";break;case"campaign":n=condition.facade.getCampaign(),i="none";break;case"country":n=condition.facade.getLocation().country,i="unknown";break;case"language":n=condition.facade.getBrowserLanguage(),i="none";break;case"mobile":n=condition.facade.isMobile();break;case"os":n=condition.facade.getPlatform().id,i="unknown";break;case"referrer":n=condition.facade.getReferringDomain(),i="none";break;case"source_type":n=condition.facade.getSourceType(),i="direct";break;default:return"true"}if(null===n){if(segmenter.visitorSegments.hasOwnProperty(e))return null;n=i}return segmenter.standardizeValue(n)},segmenter.getSourceType=function(){var e=condition.facade.getReferrer();if(condition.facade.getQueryParameter("utm_source")||condition.facade.getQueryParameter("utm_campaign")||condition.facade.getQueryParameter("gclid")||condition.facade.getQueryParameter("otm_source"))return"campaign";for(var t=["google\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","https://(www\\.)?google\\..*?/$","http(s)?://www\\.bing\\.\\w{2,3}(\\.\\w{2,3})?/","r\\.search\\.yahoo\\.\\w{2,3}(\\.\\w{2,3})?/","baidu\\.\\w{2,3}(\\.\\w{2,3})?/"],n=0;n<t.length;n++){var i=t[n];try{var r=e.match(i);if(r)return"search"}catch(a){log("Segmenter","%s: %s while matching %s",a.name,a.message,i)}}return e&&user.getDomain(e)!==user.getDomain(condition.facade.getCurrentUrl())?"referral":null},segmenter.getSegmentsList=function(){var e=[];return each(segmenter.visitorSegments,function(t,n){n&&e.push(t)}),e},segmenter.getSegmentTrackingData=function(){var e={};return each(segmenter.visitorSegments,function(t,n){n&&(e[String(t)]=n)}),e},segmenter.getSegmentValue=function(e){return segmenter.visitorSegments[e]},segmenter.getSegmentValueFromType=function(e){return each(segmenter.visitorSegments,function(t,n){if(data.getSegmentValueType(t)==e)return n})},segmenter.reset=function(){segmenter.visitorSegments={}},segmenter.handleOfflineSegmentResponse=function(e){var t;for(t in e.map)log("Segmenter","Offline segment request returned: %s, %s",t,e.map[t]),segmenter.addToSegment(t,e.map[t])},segmenter.removeFromSegment=function(e,t){var n=data.getSegmentIdByIdentifier(e)||e;segmenter.visitorSegments[n]?(segmenter.visitorSegments[n]=!1,("undefined"==typeof t||t)&&segmenter.callChangeHandlers()):timer.addEvent("Segmenter","Not removing "+e+", not found")},segmenter.standardizeValue=function(e,t,n){return t=!isDefined(t)||t,n=n||segmenter.MAX_VALUE_LENGTH,e=safeDecodeUriComponent(e),e=String(e),t&&(e=e.toLowerCase()),e=e.substring(0,n),encodeURIComponent(e)},segmenter.tellPreviewAboutSegment=optly.client.preview.ENABLED?function(e,t){var n="add"===t?"adding":"removing",i="add"===t?"to":"from",r=optly.client.preview.Logger.getReason(e);r?(optly.client.preview.Logger.addEvent("Not "+n+" visitor "+i+" segment "+data.getSegmentName(e)+" because "+r+".",{type:"explanation"}),optly.client.preview.Logger.deleteReason(e)):optly.client.preview.Logger.addEvent("Segment "+t+" condition matches, "+n+i+" segment "+data.getSegmentName(e),{type:"explanation"})}:goog.nullFunction,segmenter.changeHandlers=[],segmenter.visitorSegments={},segmenter.MAX_VALUE_LENGTH=20,optly.client.Facade=function(){},extend(optly.client.Facade.prototype,{getBrowserId:user.getBrowserId,getBrowserVersion:user.getBrowserVersion,getMobileId:user.getMobileId,isMobile:user.isMobile,getBrowser:function(){return{id:this.getBrowserId(),version:this.getBrowserVersion(),mobileId:this.getMobileId()}},getCampaign:function(){return this.getQueryParameter("utm_campaign")},getCookie:cookie.get,getDevice:user.getDevice,getIP:asyncInfo.getIP,getJSVariable:function(e){try{return window[e]}catch(t){return null}},getBehaviorEvents:behavior.getEvents,getBrowserLanguage:user.getBrowserLanguage,getDefaultBehaviorAttributes:behavior.getDefaultAttributes,getLocation:asyncInfo.getLocation,getCurrentUrl:user.getCurrentUrl,getNewVsReturning:user.getNewVsReturning,getIsFirstSession:user.isFirstSession,getAllQueryParameters:query.getAllParameters,getPlatform:user.getPlatform,getReferrer:user.getReferrer,getThirdPartyData:function(e){var t=e.split("."),n=t[0],i=t.slice(1);return integrator.getThirdPartyData(n,i)},hasPPID:id.hasPPID,getReferringDomain:function(){return user.getDomain(this.getReferrer())},getSegmentsList:segmenter.getSegmentsList,getSourceType:segmenter.getSourceType,getDocumentReferrer:function(){return document.referrer},getQueryParameter:function(e){return query.getValue(e,this.getAllQueryParameters())},getCustomTags:function(){return api.customTags},getCustomTagValue:function(e){return(this.getCustomTags()||{})[e]},getTriggeredCustomEvents:function(){var e=optly.client.storage.localStorage.get(CUSTOM_EVENTS_STORAGE_NAME)||{},t=e[id.getOrGenerateId()]||[];return isArrayLike(t)?t:[]},hasSegment:function(e){var t=this.getSegmentsList();return arrayContains(t,e)},triggeredCustomEvent:function(e){return arrayContains(this.getTriggeredCustomEvents(),e)},getDate:function(){return new Date},getListMembershipStatus:asyncInfo.getListMembershipStatus,getDynamicCustomerProfileConditions:asyncInfo.getDynamicCustomerProfileConditions}),condition.facade=new optly.client.Facade,rules.Rule,rules.getValueOrDefault=function(e,t,n){if(e.getValueOrDefault)return e.getValueOrDefault(t,n);var i=getFieldValue(e,t);return"undefined"==typeof i&&(i=n),i},rules.maybeTrimLowerCase=function(e){return"string"==typeof e?trim(e).toLowerCase():e},rules.clause={WHERE:"where",GROUP_BY:"groupBy",AGGREGATE:"aggregate",HAVING:"having",ORDER_BY:"orderBy",SELECT:"select",LIMIT:"limit",FROM:"from"},rules.DEFAULT_FIELD=["*"],rules.booleanOperators={eq:function(e){var t=map(e,rules.maybeTrimLowerCase);return t[0]==t[1]},is:function(e){return e[0]===e[1]},gt:function(e){return e[0]>e[1]},lt:function(e){return e[0]<e[1]},gte:function(e){return e[0]>=e[1]},lte:function(e){return e[0]<=e[1]},"in":function(e){var t=map(e[1]||[],rules.maybeTrimLowerCase);return arrayContains(t,rules.maybeTrimLowerCase(e[0]))},between:function(e){return e[1]<=e[0]&&e[0]<=e[2]},contains:function(e){var t=map(e,function(e){return"string"==typeof e?e.toLowerCase():e});return(t[0]||"").indexOf(t[1])!==-1},regex:function(e){try{var t,n;return"string"==typeof e[1]?(t=e[1],n="i"):(t=e[1][0]||"",n=e[1][1]||""),new RegExp(t,n).test(e[0])}catch(i){return log("Rules",'In operator "regex", error: '+(i.message||"invalid RegExp /"+[t,n].join("/"))),!1}},exists:function(e){return"undefined"!=typeof e[0]},and:function(e){return every(e,function(e){return e})},or:function(e){return any(e,function(e){return e})},not:function(e){return!e[0]}},rules.arithmeticOperators={"+":function(e){return(e[0]||0)+(e[1]||0)},"-":function(e){return(e[0]||0)-(e[1]||0)},"/":function(e){return(e[0]||0)/(e[1]||1)},"%":function(e){return(e[0]||0)%(e[1]||1)}},rules.aggregateOperators={sum:function(e,t){for(var n=e[0]||rules.DEFAULT_FIELD,i=0,r=0;r<t.length;r++)i+=rules.getValueOrDefault(t[r],n,0);return i},avg:function(e,t){if(0==t.length)return 0;for(var n=e[0]||rules.DEFAULT_FIELD,i=0,r=0;r<t.length;r++)i+=rules.getValueOrDefault(t[r],n,0);return i/t.length},max:function(e,t){for(var n=e[0]||rules.DEFAULT_FIELD,i=Number.NEGATIVE_INFINITY,r=0;r<t.length;r++)i=Math.max(i,rules.getValueOrDefault(t[r],n,Number.NEGATIVE_INFINITY));return i},min:function(e,t){for(var n=e[0]||rules.DEFAULT_FIELD,i=Number.POSITIVE_INFINITY,r=0;r<t.length;r++)i=Math.min(i,rules.getValueOrDefault(t[r],n,Number.POSITIVE_INFINITY));return i},count:function(e,t){return t.length}},rules.functions={now:function(){return+new Date}},rules.getScalarOperator=function(e){return e in rules.booleanOperators?rules.booleanOperators[e]:e in rules.arithmeticOperators?rules.arithmeticOperators[e]:null},rules.operate=function(e,t){if(t.hasOwnProperty("value"))return t.value;if(t.hasOwnProperty("field"))return rules.getValueOrDefault(e,t.field);if(t.hasOwnProperty("eval"))return t.eval in rules.functions?rules.functions[t.eval]():void log("Rules","Unknown function: "+t.eval);if(!t.op)return void log("Rules","No operator specified: "+json.stringify(t));var n=rules.getScalarOperator(t.op);if(!n)return void log("Rules","Unknown operator: "+t.op);var i=goog.partial(rules.operate,e),r=t.args||[],a=map(r,function(e){return i(e)});return n(a,e)},rules.DEFAULT_GROUP_BY_VALUE="_",rules.groupBy=function(e,t){if("undefined"==typeof e||!isArrayLike(e)||0===e.length){var n={},i={};return i[rules.DEFAULT_FIELD]=rules.DEFAULT_GROUP_BY_VALUE,n[rules.DEFAULT_FIELD+"="+rules.DEFAULT_GROUP_BY_VALUE]={fieldValues:i,events:t},n}for(var r=map(e,function(e){return e.field}),a={},o=0;o<t.length;o++){for(var s=t[o],l=[],c={},u=0;u<r.length;u++){var d=r[u],p=rules.getValueOrDefault(s,d,rules.DEFAULT_GROUP_BY_VALUE),g=d.join(".");c[g]=p,l.push(encodeURIComponent(g)+"="+encodeURIComponent(String(p)))}var f=l.join("&");a.hasOwnProperty(f)||(a[f]={fieldValues:c,events:[]}),a[f].events.push(s)}return a},rules.generateAlias=function(e,t){return"_"+e+"_"+t.join(".")},rules.aggregate=function(e,t){var n={};return each(t,function(t,i){n[t]={};for(var r=0;r<e.length;r++){var a=e[r],o=a.op;if(o in rules.aggregateOperators){var s=(a.args&&a.args[0]||{}).field||rules.DEFAULT_FIELD,l=rules.generateAlias(o,s),c=rules.aggregateOperators[o]([s],i.events);n[t][l]=c}else log("Rules","Unknown aggregate operator "+o)}}),n},rules.project=function(e,t){var n=[];return each(e,function(e,i){var r=extend({},i.fieldValues),a=t[e]||{};extend(r,a),n.push(r)}),n},rules.orderBy=function(e,t){return isArrayLike(e)?0==e.length?t:t.sort(function(t,n){for(var i=0;i<e.length;i++){var r=e[i],a=r.direction||"ASC",o="ASC"===a?1:-1,s=r.field,l=rules.getValueOrDefault(t,s,0),c=rules.getValueOrDefault(n,s,0);if(l<c)return-o;if(l>c)return o}return 0}):(log("Rules","groupBy rule must be an array"),t)},rules.rewrite=function(e){function t(e,r){if(isArrayLike(e)&&("and"!==e[0]&&"or"!==e[0]&&"not"!==e[0]&&log("Rules","Unexpected operation "+e[0]+". Continuing optimistically."),e={op:e[0],args:e.slice(1)}),e.hasOwnProperty("field")||e.hasOwnProperty("value")||e.hasOwnProperty("eval"))return e;if(r&&e.op in rules.aggregateOperators){var a=(e.args&&e.args[0]||{}).field||rules.DEFAULT_FIELD,o=rules.generateAlias(e.op,a);return o in i||(n.push({op:e.op,args:e.args}),i[o]=!0),{field:[o]}}for(var s=[],l=e.args||[],c=0;c<l.length;c++)s[c]=t(l[c],r);return{op:e.op,args:s}}var n=[],i={},r={};e.hasOwnProperty(rules.clause.WHERE)&&(r[rules.clause.WHERE]=t(e[rules.clause.WHERE],!1)),e.hasOwnProperty(rules.clause.HAVING)&&(r[rules.clause.HAVING]=t(e[rules.clause.HAVING],!0)),(e.hasOwnProperty(rules.clause.AGGREGATE)||n.length>0)&&(r[rules.clause.AGGREGATE]=(e[rules.clause.AGGREGATE]||[]).concat(n));for(var a=[rules.clause.GROUP_BY,rules.clause.ORDER_BY,rules.clause.SELECT,rules.clause.LIMIT],o=0;o<a.length;o++)e.hasOwnProperty(a[o])&&(r[a[o]]=e[a[o]]);return e.hasOwnProperty(rules.clause.FROM)&&(r[rules.clause.FROM]=rules.rewrite(e[rules.clause.FROM])),r},rules.verify=function(e,t){t=t||0;var n=[];if(e.hasOwnProperty(rules.clause.WHERE)?e[rules.clause.WHERE].op?e[rules.clause.WHERE].op in rules.booleanOperators||n.push("Non-boolean WHERE clause operator"):n.push("Missing WHERE clause operator"):n.push("Missing WHERE clause"),e.hasOwnProperty(rules.clause.HAVING)&&(e[rules.clause.HAVING].op?e[rules.clause.HAVING].op in rules.booleanOperators||n.push("Non-boolean HAVING clause operator"):n.push("Missing HAVING clause operator")),e.hasOwnProperty(rules.clause.GROUP_BY)&&!e.hasOwnProperty(rules.clause.AGGREGATE)&&n.push("No AGGREGATE clause specified with GROUP_BY clause"),e.hasOwnProperty(rules.clause.SELECT)){var i=e[rules.clause.SELECT];if(isArrayLike(i))for(var r=0;r<i.length;r++)i[r].op&&i[r].op in rules.aggregateOperators&&n.push('In SELECT clause, aggregate operator "'+i[r].op+'" specified in selector at index '+r);else n.push("SELECT clause must be an array")}if(e.hasOwnProperty(rules.clause.LIMIT)){var a=e[rules.clause.LIMIT];(!isNumberLike(a)||Number(a)<=0||Number(a)!=Math.floor(Number(a)))&&n.push("LIMIT must be a positive integer")}return t>0&&(n=map(n,function(e){return"Sub-rule "+t+": "+e})),e.hasOwnProperty(rules.clause.FROM)&&(n=n.concat(rules.verify(e[rules.clause.FROM],t+1))),n},rules.select=function(e,t){return map(t,function(t){return map(e,function(e){return rules.operate(t,e)})})},rules.executeRecursively=function(e,t){var n=t;if(e.hasOwnProperty(rules.clause.FROM)&&(n=rules.executeRecursively(e[rules.clause.FROM],n)),n=filter(n,function(t){return rules.operate(t,e[rules.clause.WHERE])}),e.hasOwnProperty(rules.clause.AGGREGATE)){var i=rules.groupBy(e[rules.clause.GROUP_BY],n),r=rules.aggregate(e[rules.clause.AGGREGATE],i);n=rules.project(i,r)}if(e.hasOwnProperty(rules.clause.HAVING)&&(n=filter(n,function(t){return rules.operate(t,e[rules.clause.HAVING])})),e.hasOwnProperty(rules.clause.ORDER_BY)&&(n=rules.orderBy(e[rules.clause.ORDER_BY],n)),e.hasOwnProperty(rules.clause.LIMIT)){var a=Number(e[rules.clause.LIMIT]);n=n.slice(0,a)}return e.hasOwnProperty(rules.clause.SELECT)&&(n=rules.select(e[rules.clause.SELECT],n)),n},rules.execute=function(e,t){e=rules.rewrite(e);var n=rules.verify(e);if(n.length>0)throw new Error("Rule "+json.stringify(e)+" has violations: "+n.join("\n"));return rules.executeRecursively(e,t)},rules.isSatisfied=function(e,t){try{return rules.execute(e,t).length>0}catch(n){return log("Rules","Error "+n.toString()+" while evaluating rule "+json.stringify(e)),!1}},optly.Visitor=function(){this.audiences={},this.dimensions={},this.persistentAudiences={},this.segmentationAudiences={}},optly.Visitor.prototype.initialize=function(){timer.addEvent("Visitor","Initializing"),this.loadPersistentAudiences(),each(segmenter.getSegmentsList(),goog.bind(function(e){timer.addEvent("Visitor","Found segment "+e);var t=data.getSegment(e);t&&t.audience_id?(timer.addEvent("Visitor","Adding to audience "+t.audience_id),this.setInAudience(t.audience_id,!0,{updateSegment:!1})):t&&t.dimension_id&&(timer.addEvent("Visitor","Setting dimension value "+t.dimension_id),this.saveDimensionValue(t.dimension_id,segmenter.getSegmentValue(e),!1))},this))},optly.Visitor.prototype.isInAudience=function(e){var t=this.persistentAudiences.hasOwnProperty(e)||this.segmentationAudiences.hasOwnProperty(e);if(!this.audiences.hasOwnProperty(e)||!t)try{this.audiences[e]=this.testAudienceConditions(e)}catch(n){timer.addEvent("Visitor","Error: "+n.message)}return this.audiences[e]},optly.Visitor.prototype.setInAudience=function(e,t,n){if(n=extend({persist:!0,savePersistentAudiences:!0,updateSegment:!0},n),!data.getAudience(e))return void timer.addEvent("Visitor","Unable to find audience "+e);this.audiences[e]=t;var i=data.getAudienceSegmentId(e);i?this.segmentationAudiences[e]=t:n.persist?this.persistentAudiences[e]=t:delete this.persistentAudiences[e],i&&n.updateSegment&&this.updateSegment(i,t),!i&&n.persist&&n.savePersistentAudiences&&this.persistAudiences()},optly.Visitor.prototype.addToAudience=function(e){this.setInAudience(e,!0)},optly.Visitor.prototype.removeFromAudience=function(e){this.setInAudience(e,!1)},optly.Visitor.prototype.removeFromAllAudiences=function(){each(this.audiences,goog.bind(function(e){this.setInAudience(e,!1,{persist:!!this.persistentAudiences.hasOwnProperty(e)})},this))},optly.Visitor.prototype.getAudiences=function(){return this.audiences},optly.Visitor.prototype.getDimensionValue=function(e){var t=void 0;if(this.dimensions.hasOwnProperty(e))t=this.dimensions[e];else try{t=this.calculateDimensionValue(e)}catch(n){timer.addEvent("Visitor","Error: "+n.message)}return t},optly.Visitor.prototype.getDimensionValues=function(){return this.dimensions},optly.Visitor.prototype.saveDimensionValue=function(e,t,n){return n=!isDefined(n)||n,isDefined(t)&&null!==t&&String(t)?(n&&(t=segmenter.standardizeValue(String(t),!1)),this.dimensions[e]=t):delete this.dimensions[e],this.dimensions[e]},optly.Visitor.prototype.setDimensionValue=function(e,t,n){var i=data.getDimensionIdByApiName(e)||e;if(!data.getDimension(i))return void timer.addEvent("Visitor","Unable to find dimension "+e);if("custom_dimension"===data.getDimensionType(i)){t=this.saveDimensionValue(i,t,n);var r=data.getDimensionSegmentId(i);r&&this.updateSegment(r,t),timer.addEvent("Visitor",'Set dimension "'+i+'" to "'+t+'"')}else timer.addEvent("Visitor",'Unknown dimension "'+i+'"')},optly.Visitor.prototype.calculateDimensionValue=function(e){var t,n,i=data.getDimensionType(e)||"";if(!data.getDimension(e))throw new Error(goog.DEBUG?"Unable to find dimension for id: "+e:e);if("custom_dimension"===i)throw new Error(goog.DEBUG?"calculateDimensionValue called on custom dimension "+e:e);return t=optly.Visitor.getConditionGetter(i),t&&(n=t(data.getDimensionName(e))),timer.addEvent("Visitor","Got dimension ("+i+") value "+e+": "+json.stringify(n)),n},optly.Visitor.prototype.testAudienceConditions=function(e){var t=data.getAudience(e);if(!t)throw new Error("Unable to find audience for id: "+e);var n=condition.compoundTest(this,t.conditions);return timer.addEvent("Visitor","Checking if in audience "+e+": "+n),n},optly.Visitor.prototype.updateSegment=function(e,t){t?segmenter.addToSegment(e,t):segmenter.removeFromSegment(e)},optly.Visitor.prototype.loadPersistentAudiences=function(){var e=cookie.get(AUDIENCE_COOKIE_NAME);e&&e.length>0&&each(e.split(","),goog.bind(function(e){this.setInAudience(e,!0,{persist:!0,savePersistentAudiences:!1})},this))},optly.Visitor.prototype.persistAudiences=function(){var e=[];each(this.persistentAudiences,goog.bind(function(t){this.audiences[t]&&e.push(t)},this)),e.sort(),cookie.set(AUDIENCE_COOKIE_NAME,e.join(","),DEFAULT_TRACKING_COOKIE_EXPIRATION)},optly.Visitor.getConditionGetter=function(e){var t={browser:goog.bind(condition.facade.getBrowser,condition.facade),browser_version:goog.bind(condition.facade.getBrowser,condition.facade),behavior:goog.bind(condition.facade.getBehaviorEvents,condition.facade),campaign:goog.partial(segmenter.getSegmentValueFromType,"campaign"),cookies:goog.bind(condition.facade.getCookie,condition.facade),custom_tag:goog.bind(condition.facade.getCustomTagValue,condition.facade),default_behavior:goog.bind(condition.facade.getDefaultBehaviorAttributes,condition.facade),device:goog.bind(condition.facade.getDevice,condition.facade),event:goog.bind(condition.facade.triggeredCustomEvent,condition.facade),first_session:goog.bind(condition.facade.getIsFirstSession,condition.facade),has_ppid:goog.bind(condition.facade.hasPPID,condition.facade),ip:goog.bind(condition.facade.getIP,condition.facade),language:goog.bind(condition.facade.getBrowserLanguage,condition.facade),list:goog.bind(condition.facade.getListMembershipStatus,condition.facade),location:goog.bind(condition.facade.getLocation,condition.facade),query:goog.bind(condition.facade.getQueryParameter,condition.facade),platform:goog.bind(condition.facade.getPlatform,condition.facade),referrer:goog.bind(condition.facade.getReferrer,condition.facade),segment:goog.bind(condition.facade.hasSegment,condition.facade),source_type:goog.partial(segmenter.getSegmentValueFromType,"source_type"),third_party_dimension:goog.bind(condition.facade.getThirdPartyData,condition.facade),time_and_day:goog.bind(condition.facade.getDate,condition.facade),url:goog.bind(condition.facade.getCurrentUrl,condition.facade),visitor:goog.bind(condition.facade.getNewVsReturning,condition.facade),dynamic_customer_profile:goog.bind(condition.facade.getDynamicCustomerProfileConditions,condition.facade)};return t[e]};var visitor=new optly.Visitor;rule_builder.MILLIS_IN_A_DAY=864e5,rule_builder.aggregateField=function(e,t){return isString(t)&&(t=[t]),t=t||rules.DEFAULT_FIELD,[rules.generateAlias(e,t)]},rule_builder.groupField=function(e){return isString(e)&&(e=[e]),e=e||rules.DEFAULT_FIELD,[e.join(".")]};var OP_MAP={"<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","==":"eq"};rule_builder.fieldComparison=function(e,t,n){return isString(t)&&(t=[t]),{op:canonicalizeOperator(e),args:[{field:t},{value:n}]}},rule_builder.relativeTimeComparison=function(e,t){return{op:canonicalizeOperator(e),args:[{op:"-",args:[{eval:"now"},{field:[behavior.FIELDS.TIME]}]},{value:t*rule_builder.MILLIS_IN_A_DAY}]}},rule_builder.rangeTimeComparison=function(e){return isArrayLike(e)?{op:"between",args:[{field:[behavior.FIELDS.TIME]},{value:e[0]||+new Date(0)},{value:e[1]||+new Date}]}:(timer.addEvent("Rule builder","rangeTimeComparison passed invalid range "+json.stringify(e)),null)},rule_builder.groupBy=function(e){for(var t=[],n=0;n<e.length;n++)t[n]={field:e[n]};return t},rule_builder.aggregate=function(e,t){return isString(t)&&(t=[t]),t=t||rules.DEFAULT_FIELD,{op:e,args:[{field:t}]}},rule_builder.SOURCE_TYPES={BEHAVIOR:"events",DEFAULT_BEHAVIOR:"default_behavior",CUSTOM_BEHAVIOR:"custom_behavior",DCP:"dcp"},rule_builder.FREQUENCY_FILTERS={MOST_FREQUENT:"most_frequent",LEAST_FREQUENT:"least_frequent"},rule_builder.RECENCY_FILTERS={MOST_RECENT:"most_recent",LEAST_RECENT:"least_recent"},rule_builder.TOP_LEVEL_BEHAVIOR_FIELDS=function(){var e={};return each(behavior.FIELDS,function(t,n){e[n]=!0}),e}(),rule_builder.getFieldKeyPathForSource=function(e,t){t=t||rule_builder.SOURCE_TYPES.BEHAVIOR;var n=[];return isString(e)?(n=[e],t!==rule_builder.SOURCE_TYPES.BEHAVIOR||e in rule_builder.TOP_LEVEL_BEHAVIOR_FIELDS||(n=[behavior.FIELDS.OPTIONS,e])):n=e,n},rule_builder.BehaviorTagFilterSpec,rule_builder.BehaviorAudienceSpec,rule_builder.buildFromSpec=function(e){if(!(e.action||e.filters&&0!==e.filters.length))throw new Error('Audience spec must have an "action" field or at least one "filter" '+json.stringify(e));var t=rule_builder.fieldComparison("gt",behavior.FIELDS.TIME,0),n=[],i=[];if(e.action&&(i.push(rule_builder.fieldComparison("eq",behavior.FIELDS.NAME,e.action.value)),e.action.type&&i.push(rule_builder.fieldComparison("eq",behavior.FIELDS.TYPE,e.action.type))),e.time)if("last_days"===e.time.type)i.push(rule_builder.relativeTimeComparison("lte",e.time.days));else if("range"===e.time.type){var r=rule_builder.rangeTimeComparison([e.time.start,e.time.stop]);r&&i.push(r)}else timer.addEvent("Rule builder",'Audience spec has bad "time" type',e.time.type);if(t={op:"and",args:i},e.count&&n.push({where:rule_builder.fieldComparison(e.count.comparator,"0",e.count.value),from:{select:[{field:rule_builder.aggregateField("count")}],where:t,aggregate:[rule_builder.aggregate("count")]}}),e.filters&&each(e.filters,function(r){var a,o,s=rule_builder.getFieldKeyPathForSource(r.name,e.source);if(r.modifier===rule_builder.FREQUENCY_FILTERS.MOST_FREQUENT?(a=rule_builder.aggregate("count"),o=rule_builder.aggregateField("count")):r.modifier===rule_builder.RECENCY_FILTERS.MOST_RECENT&&(a=rule_builder.aggregate("max",behavior.FIELDS.TIME),o=rule_builder.aggregateField("max",behavior.FIELDS.TIME)),a){var l=s,c=rule_builder.groupField(l);n.push({where:rule_builder.fieldComparison(r.comparator,"0",r.value),from:{select:[{field:c}],where:t,groupBy:rule_builder.groupBy([l]),aggregate:[a],orderBy:[{field:o,direction:"DESC"}],limit:1}})}else i.push(rule_builder.fieldComparison(r.comparator,s,r.value))}),e.pick){if(n.length>0)throw new Error('A "pick" clause must not be specified with "count" or "most_recent", "most_frequent" modifiers'+json.stringify(e));return[buildPicker(e.pick,t,e.source)]}return n.length>0?n:[{where:t}]},optly.timeAndDayInterval.DELIM="_",optly.timeAndDayInterval.DAYS_DELIM=",",optly.timeAndDayInterval.TIME_DELIM=":",optly.timeAndDayInterval.serialize=function(e){return e.start_time+optly.timeAndDayInterval.DELIM+e.end_time+optly.timeAndDayInterval.DELIM+e.days.join(optly.timeAndDayInterval.DAYS_DELIM)},optly.timeAndDayInterval.deserialize=function(e){var t=e.split(optly.timeAndDayInterval.DELIM);if(3!==t.length)throw new Error("Invalid time and day string "+e);var n=t[2].split(optly.timeAndDayInterval.DAYS_DELIM);return{start_time:t[0],end_time:t[1],days:n}},optly.timeAndDayInterval.timeStringToMinutes=function(e){var t=e.split(optly.timeAndDayInterval.TIME_DELIM);if(2!==t.length)throw new Error("optly.timeAndDayInterval.timeStringToMinutes: Invalid time string "+e);return 60*parseInt(t[0],10)+parseInt(t[1],10)},optly.timeAndDayInterval.test=function(e,t){var n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],i=optly.timeAndDayInterval.deserialize(e),r=optly.timeAndDayInterval.timeStringToMinutes(i.start_time),a=optly.timeAndDayInterval.timeStringToMinutes(i.end_time),o=60*t.getHours()+t.getMinutes(),s=n[t.getDay()];return o>=r&&o<=a&&$.inArray(s,i.days)!==-1},condition.DimensionCondition,condition.test=function(e,t){var n=!!t.manualActivation,i=t.objectType?t.objectType:"experiment",r="experiment"===i,a=t.enabledStatus,o=t.visitor||visitor;timer.addEvent("Condition","Testing "+i+" "+e);var s=r&&(isDefined(a)?!!a:data.isExperimentEnabled(e)),l=r&&data.isExperimentManuallyActivated(e),c=data.getConditions(e,i);if(r&&!s)return timer.addEvent("Condition","Failed for "+i+" "+e+" (paused)"),optly.client.preview.Logger.setReason(e,"it is paused"),!1;if(r&&!n&&l)return timer.addEvent("Condition"," Failed for "+i+" "+e+" (manual activation mode)"),optly.client.preview.Logger.setReason(e,"it is set to use manual activation mode"),!1;if(c){if(!condition.testLegacyConditions(c,e,i))return timer.addEvent("Condition","Failed for "+i+" "+e+" (condition failed)"),!1}else if(!condition.testAudienceConditions(o,e,i))return!1;return!0},condition.testAudienceConditions=function(e,t,n){var i=[],r=[];if("experiment"===n)i=data.getExperimentAudienceIds(t),r=data.getExperimentUrls(t)||[];else{if("segment"!==n)return timer.addEvent("Condition","Not a valid objectType: "+n),!1;var a=data.getSegmentAudienceId(t);a&&(i=[a])}return i.length>0&&(timer.addEvent("Condition","Testing audiences for "+n+" "+t+": "+i),!any(i,goog.bind(e.isInAudience,e)))?(timer.addEvent("Condition","Failed to match any audiences for "+n+" "+t),!1):!(r.length>0&&(timer.addEvent("Condition","Testing URLs for "+n+" "+t),!condition.testUrlDimensionValues(r,condition.facade.getCurrentUrl())))||(timer.addEvent("Condition","Failed to match any URL for "+n+" "+t),!1)},condition.testUrlDimensionValues=function(e,t){var n=[],i=[];each(e,function(e){e.negate?i.push(e):n.push(e)});var r=function(e){return any(e,function(e){return condition.testUrl(t,e)})};return!r(i)&&(0===n.length||r(n))},condition.testLegacyConditions=function(e,t,n){n=n||"experiment";var i="experiment"===n,r=!0,a=condition.legacyTestFunctions;return each(e,function(e){var n=e.type;if(i&&e.only_first_time&&plan.containsExperiment(t)&&!optly.client.preview.ENABLED)timer.addEvent("Condition",n+" condition passed because it only gets checked when bucketing",!0);else{var o=a[n],s=!e.not,l=o(e),c=l!==s,u=l?"passed":"failed",d=s?"pass":"fail",p="the visitor "+u+" a "+n+" targeting condition  when it needed to "+d;if(timer.addEvent("Condition","Found that "+p,!c),c)return r=!1,optly.client.preview.Logger.setReason(t,p),!1}}),r},condition.testBrowsers=function(e){var t=condition.facade.getBrowser();return any(e.values,function(e){return condition.testBrowser(t,{value:e})})},condition.compareVersion=function(e,t){if(!t)return 0;for(var n=t.toString().split("."),i=e.toString().split("."),r=0;r<n.length;r++){if(!isDefined(i[r]))return-1;if(isNaN(Number(i[r]))){if(i[r]!==n[r])return-1}else{if(Number(i[r])<Number(n[r]))return-1;if(Number(i[r])>Number(n[r]))return 1}}return 0},condition.testBrowser=user.LEGACY_BROWSER?function(e,t){var n=t.value,i=e.id,r=e.version,a=e.mobileId;if(a&&"unknown"!==a)return timer.addEvent("Condition",a,!0),"mobile"===n||n===a;if(0===n.indexOf(i)){var o=n.substr(i.length);return 0===condition.compareVersion(r,o)}return!1}:goog.nullFunction,condition.testBrowserVersion=function(e,t){var n=t.value,i=e.id,r=e.version;if(0===n.indexOf(i)){var a=n.substr(i.length);return 0===condition.compareVersion(r,a)}return!1},condition.testBehavior=function(e,t){try{var n=[],i=json.parse(t.value);return n=isDefined(i.version)?rule_builder.buildFromSpec(i):[i],every(n,function(t){return rules.isSatisfied(t,e)})}catch(r){}return!1},condition.testDefaultBehavior=function(e,t){try{e=e||{};var n=json.parse(t.value);return rules.isSatisfied(n,[e])}catch(i){}return!1},condition.testCampaign=function(e,t){var n=t.value;return"string"==typeof n&&("regex"===t.match?e=safeDecodeUriComponent(e):n=segmenter.standardizeValue(n)),"none"===e&&(e=null),condition.hasMatch(n,t.match,e)},condition.testCode=function(e){return condition.testCodeResult(null,e)},condition.testCodeResult=function(e,t){var n=t.value;if(void 0===n)return!0;try{return Boolean(evaluator.executeCode(n))}catch(i){return!1}},condition.testCookies=function(e){for(var t,n=e.names||[],i=e.values||[],r=0;r<n.length;r++)if(t=n[r],condition.testCookie(condition.facade.getCookie(t),{value:i[r]||void 0}))return!0;return!1},condition.testCookie=function(e,t){return condition.hasMatch(t.value,t.match,e)},condition.testTimeAndDay=function(e,t){return optly.timeAndDayInterval.test(t.value,e)},condition.testList=function(e,t){if(null===e||!isDefined(e))return!1;var n=t.value;return isDefined(n)?e.toString()===n:""===e||e!==!1},condition.testCustomDimension=function(e,t){var n=t.value;return isDefined(n)?n==e:isDefined(e)},condition.testCustomTags=function(e){return any(e.values,function(e){var t=e.key;return condition.testCustomTag(condition.facade.getCustomTagValue(t),{value:e.value})})},condition.testCustomTag=function(e,t){return condition.hasMatch(t.value,t.match,e)},condition.testDevice=function(e,t){var n=t.value;return"unknown"!==e.id?e.id===n:"tablet"===n?"tablet"===e.type:"mobile"===n?e.isMobile&&"tablet"!==e.type:"desktop"===n&&!e.isMobile},condition.testEvents=function(e){return any(e.values,function(e){var t=condition.facade.triggeredCustomEvent(e);return condition.testEvent(t)})},condition.testEvent=function(e){return e},condition.testFirstSession=function(e){return e},condition.testHasPPID=function(e){return e},condition.testIPs=function(e){var t=condition.facade.getIP();return any(e.values,goog.partial(condition.testIP,t))},condition.testIP=function(e,t){if(null===e)return!1;var n=t.value,i=t.match;switch(i){case"exact":if(e==n&&""!=e)return!0;break;case"prefix":if(0==e.indexOf(n))return!0;break;case"regex":try{var r=new RegExp(n)}catch(a){return!1}if(r.test(e))return!0;break;case"cidr":try{var o=new optly.CIDR(n);return o.containsIP(e)}catch(a){return!1}}return!1},condition.testLanguages=function(e){var t=condition.facade.getBrowserLanguage();return any(e.values,function(e){return condition.testLanguage(t,{value:e})})},condition.testLanguage=function(e,t){var n=t.value;return"any"===n||0===e.indexOf(n)},condition.testLocations=function(e){var t=condition.facade.getLocation();return any(e.values,function(e){return condition.testLocation(t,{value:e})})},condition.testLocation=function(e,t){if(null===e)return!1;var n=t.value,i=n.split("|"),r=$.trim(i[0]),a=$.trim(i[1]),o=$.trim(i[2]),s=$.trim(i[3]);switch(i.length){case 1:if(e.country===r)return!0;break;case 2:if(e.region===a&&e.country===r)return!0;break;case 3:if(e.city===o&&(e.region===a||""===a)&&e.country===r)return!0;break;case 4:if(e.continent===s)return!0}return!1},condition.testPlatform=function(e,t){var n=t.value,i=n.split("_"),r=i[0],a=i.slice(1);return r===e.id&&(0===a.length||(a.length>1?condition.compareVersion(e.version,a[0])>=0&&condition.compareVersion(e.version,a[1])<=0:0===condition.compareVersion(e.version,a[0])));
},condition.testQueries=function(e){return 0===e.values.length||any(e.values,function(e){var t=e.key;return condition.testQueryParam(condition.facade.getQueryParameter(t),{value:e.value})})},condition.testQueryParam=function(e,t){return condition.hasMatch(t.value,t.match,e)},condition.testReferrers=function(e){var t=condition.facade.getDocumentReferrer();return any(e.values,goog.partial(condition.testReferrer,t))},condition.testReferrer=function(e,t){var n=t.value,i=t.match;return timer.addEvent("Condition","Testing referrer "+e+" against  "+n+" ("+i+")",!0),optly.match.matchUrl(e,n,i)},condition.testSegments=function(e){var t=condition.facade.getSegmentsList();return any(e.values,function(e){return condition.testSegment(inArray(e,t))})},condition.testSegment=function(e){return!!e},condition.testSourceType=function(e,t){return t.value===e},condition.testThirdPartyDimension=function(e,t){return isArrayLike(e)?any(e,goog.partial(condition.hasMatch,t.value,t.match)):condition.hasMatch(t.value,t.match,e)},condition.testUrls=function(e){var t=condition.facade.getCurrentUrl();return any(e.values,goog.partial(condition.testUrl,t))},condition.testUrl=function(e,t){var n=t.value,i=t.match;return timer.addEvent("Condition","Testing URL "+e+" against  "+n+" ("+i+")",!0),optly.match.matchUrl(e,n,i)},condition.testVisitor=function(e){var t=condition.facade.getNewVsReturning();return condition.testVisitorValue(t,e)},condition.testVisitorValue=function(e,t){var n=t.value;switch(n){case"new":return"returning"!==e;case"returning":return"returning"===e}return!0},condition.testDynamicCustomerProfileCondition=function(e,t){return null!==e&&!!e[t.value]},condition.compoundTest=function(e,t){var n={and:function(t){return every(t,goog.partial(condition.compoundTest,e))},or:function(t){return any(t,goog.partial(condition.compoundTest,e))},not:function(t){if(1!==t.length)throw new Error(goog.DEBUG&&'"not" argument too long: '+json.stringify(t));return!condition.compoundTest(e,t[0])}};if(isArrayLike(t)){if(t[0]in n)return n[t[0]](t.slice(1));throw new Error(goog.DEBUG&&"Not an operator")}var i=t.dimension_id,r=data.getDimensionType(i),a=t.value;if(!r)throw new Error(goog.DEBUG&&"No dimension type for dimension: "+i);var o=condition.matchers[r];if(!o)throw new Error(goog.DEBUG&&"Unknown dimension type: "+r);return o(e.getDimensionValue(i),{value:a,match:t.match||"exact"})},condition.isReadyToTest=function(e){var t=!0;if(data.usesAudiences(e)){var n=[data.getSegmentAudienceId(e)];n[0]||(n=data.getExperimentAudienceIds(e)),t=every(n,function(e){var t=data.getAudience(e);return!t.conditions||condition.compoundReadyToTest(t.conditions)})}else data.isGeotargetingEnabled(e)&&(t=condition.matchersReadyToTest.ip(null)||condition.matchersReadyToTest.location(null));return t||timer.addEvent("Condition","Not ready to test (geotargeting): "+e),t},condition.compoundReadyToTest=function(e){if(isArrayLike(e))return every(e.slice(1),condition.compoundReadyToTest);var t=e.dimension_id,n=data.getDimensionType(t)||"",i=condition.matchersReadyToTest[n];return!i||i(e)},condition.legacyTestFunctions={browser:condition.testBrowsers,code:condition.testCode,cookies:condition.testCookies,custom_tag:condition.testCustomTags,event:condition.testEvents,ip:condition.testIPs,language:condition.testLanguages,location:condition.testLocations,query:condition.testQueries,referrer:condition.testReferrers,segment:condition.testSegments,url:condition.testUrls,visitor:condition.testVisitor},condition.matchers={browser:condition.testBrowser,browser_version:condition.testBrowserVersion,behavior:condition.testBehavior,campaign:condition.testCampaign,code:condition.testCodeResult,cookies:condition.testCookie,custom_dimension:condition.testCustomDimension,custom_tag:condition.testCustomTag,default_behavior:condition.testDefaultBehavior,device:condition.testDevice,event:condition.testEvent,first_session:condition.testFirstSession,ip:condition.testIP,language:condition.testLanguage,list:condition.testList,location:condition.testLocation,query:condition.testQueryParam,platform:condition.testPlatform,referrer:condition.testReferrer,segment:condition.testSegment,source_type:condition.testSourceType,time_and_day:condition.testTimeAndDay,third_party_dimension:condition.testThirdPartyDimension,url:condition.testUrl,visitor:condition.testVisitorValue,dynamic_customer_profile:condition.testDynamicCustomerProfileCondition,has_ppid:condition.testHasPPID},condition.matchersReadyToTest={ip:function(e){return optly.client.rum.instance.recordEvent("checkGeo"),null!==condition.facade.getIP()},location:function(e){return optly.client.rum.instance.recordEvent("checkGeo"),null!==condition.facade.getLocation()},list:function(e){var t=e.dimension_id;return null!==condition.facade.getListMembershipStatus(data.getDimensionName(t)||"")},dynamic_customer_profile:function(e){var t=condition.facade.getDynamicCustomerProfileConditions();return isNonNullObject(t)&&e.value in t}},condition.hasMatch=function(e,t,n){var i=isDefined(n)&&null!==n,r=isDefined(e)&&null!==e,a=t||(r?"exact":"exists");switch(a){case"exists":return i;case"exact":return i&&String(n)===e;case"substring":return i&&containsString(String(n),e);case"regex":try{if(r&&i){var o=new RegExp(e);return containsRegEx(String(n),o)}return!1}catch(s){return!1}case"range":var l=e.split(":"),c=parseFloat(l[0]),u=parseFloat(l[1]),d=parseFloat(n);return d>=c&&d<=u;default:return!1}},template.evaluate=function(e){e=$.trim(e);var t="";if(window[GLOBAL]&&window[GLOBAL][GLOBAL_DATA]){var n=e.match(template.URL_PARAM_REGEX);if(n){var i=n[1],r=window[GLOBAL][GLOBAL_DATA].visitor.params[i];void 0===r&&(r=""),t=r}else{for(var a=e.split("."),o=window[GLOBAL],s=0,l=a.length;s<l;s++)if(o=o[a[s]],void 0===o||null===o){o="";break}t=""+o}}return timer.addEvent("Template",e+" evaluated to: '"+t+"'"),t},template.render=function(e){return e.replace(template.TEMPLATE_REGEX,template.replacer)},template.replacer=function(e,t){return template.evaluate(t)},template.TEMPLATE_REGEX=/\{\{ *optimizely\.([^\n\r{}<>]*)\}\}/g,template.URL_PARAM_REGEX=/^data\.visitor\.params\.(.*)$/,feature_detect.requiredFeatures=[function(){var e=detect.detect();if("ie"===e.browserId){try{var t=Number(e.browserVersion)}catch(n){return}if(t<7)throw new Error("IE is only supported on version 8+ (detected "+t+")");if(t<8&&"windows"===e.platform.id&&e.platform.version&&arrayContains(["xp","vista"],e.platform.version.toLowerCase()))throw new Error("IE7 is not supported")}},function(){var e={a:123};return json.parse(json.stringify(e))}],feature_detect.check=function(){var e=[];if(each(feature_detect.requiredFeatures,function(t){try{t()}catch(n){e.push(n.message)}}),e.length>0)throw new Error("Feature(s) not supported: "+e.join("; "))},optly.client.diagnostic.ENABLED=!1,plan.CodeStep,plan.EventStep,plan.Step,plan.addChangeHandler=function(e){plan.changeHandlers.push(e)},plan.addVariation=function(e,t,n,i){n=n===!0,i=i===!0;var r=!1,a=data.getVariationExperimentId(e);if(a&&(i||!plan.containsExperiment(a))){if(r=!0,i&&plan.containsExperiment(a))for(var o=0;o<plan.variations.length;o++)plan.variations[o].experimentId===a&&plan.variations.splice(o,1);plan.variations.push({experimentId:a,id:e,source:t}),n&&evaluator.enqueue(a),plan.variationExperimentIds[a]=!0,plan.callChangeHandlers(),timer.addEvent("Plan","Added experiment "+a+" and variation id "+e+" to the plan, source is "+t,!0)}return r},plan.buildMultivariateId=function(e,t){for(var n=[],i=data.getExperimentSectionIds(e),r=0;r<i.length;r++){var a=t[i[r]];if(a===IGNORED_VARIATION_ID)return"";n.push(a)}return n.join(VARIATION_ID_DELIMITER)},plan.containsExperiment=function(e){return e in plan.ignoredExperimentIds||e in plan.variationExperimentIds},plan.filterUrlSpecificVariationCode=function(e){for(var t=e.split(VARIATION_CODE_DELIMITER),n=[],i=!0,r=0,a=t.length;r<a;r++){var o=$.trim(t[r]);if(o===VARIATION_URL_END)i=!0;else if(""!==o){var s=VARIATION_URL_START_RE.exec(o);if(s&&13===s.length){var l=s[2]?s[2].split(VARIATION_URL_DELIMITER):[],c=s[4]?s[4].split(VARIATION_URL_DELIMITER):[],u=s[6]?s[6]:"substring",d=s[8]?s[8].split(VARIATION_URL_DELIMITER):[],p=s[10]?s[10].split(VARIATION_URL_DELIMITER):[];if(l.length>0){var g=plan.zipConditions(l,d,u);i=condition.testUrls(g)}if(i&&c.length>0){var f=plan.zipConditions(c,p,u);i=!condition.testUrls(f)}}else i&&n.push(o)}}return n.join(VARIATION_CODE_DELIMITER)},plan.getProjectClickGoalWithCustomTargetingSteps=function(e){for(var t=data.getProjectClickGoalsWithCustomTargeting(),n=0,i=t.length;n<i;n++){var r={eventName:t[n].event_name,selector:t[n].selector,type:"event '"+t[n].event_name+"' (click goal)",waitUntilSelectorReady:!0};"revenue"in t[n]&&(r.revenue=t[n].revenue),e.push(r)}},plan.getSteps=function(e){void 0===e?e=[]:isNumberLike(e)&&(e=[e]),e=e;var t=plan.getVariationIds(e),n=[],i=[],r=[],a=[];plan.getProjectClickGoalWithCustomTargetingSteps(n),each(e,function(e){plan.getExperimentSteps(e,n,r,i,a)}),each(t,function(e){plan.getVariationSteps(e,i,a)});var o=[];return appendArray(o,i),appendArray(o,r),appendArray(o,a),appendArray(o,n),o},plan.getVariationId=function(e){var t=null;return each(plan.variations,function(n){e==n.experimentId&&(t=n.id)}),t},plan.getVariationIds=function(e){var t=[],n=!isDefined(e);return e=e||[],each(plan.variations,function(i){(n||arrayContains(e,i.experimentId))&&t.push(i.id)}),t},plan.ignoreExperiment=function(e,t){t=t===!0,!t&&plan.containsExperiment(e)||(plan.ignoredExperimentIds[e]=!0,plan.callChangeHandlers())},plan.isExperimentIgnored=function(e){return e in plan.ignoredExperimentIds},plan.removeExperiment=function(e){plan.ignoredExperimentIds[e]&&delete plan.ignoredExperimentIds[e],plan.variationExperimentIds[e]&&delete plan.variationExperimentIds[e];for(var t=0;t<plan.variations.length;t++)plan.variations[t].experimentId===e&&plan.variations.splice(t,1);plan.callChangeHandlers()},plan.log=function(){directive.shouldLog&&(each(plan.ignoredExperimentIds,function(e){var t=data.getExperimentName(e);timer.addEvent("Plan","Ignore experiment '"+t+"' ("+e+")")}),each(plan.variations,function(e,t){var n=data.getVariationExperimentId(e.id),i=data.getVariationName(e.id);timer.addEvent("Plan",data.getExperimentString(n)+' in variation "'+i+'" ('+e.id+")")}))},plan.readCookie=function(){var e=cookie.get(BUCKET_COOKIE_NAME);if(e){try{e=json.parse(e)}catch(t){e={}}var n={};each(e,function(e,t){t=String(t);var i=data.getVariationExperimentId(t),r=data.getExperimentSectionIds(i);if(r.length>1&&t.indexOf(VARIATION_ID_DELIMITER)===-1)n[i]=n[i]||{},n[i][e]=t;else if(t!==IGNORED_VARIATION_ID){var a=plan.addVariation(t,"cookie",!1);a||(plan.foreignBucketMap[e]=t)}else plan.ignoreExperiment(e)}),each(n,function(e,t){var n=plan.buildMultivariateId(e,t);n.length>0?plan.addVariation(n,"cookie",!1):plan.ignoreExperiment(e)})}},plan.writeCookie=function(){var e={};each(plan.foreignBucketMap,function(t,n){e[t]=n}),each(plan.variations,function(t){var n=data.getVariationExperimentId(t.id);e[n]=t.id}),each(plan.ignoredExperimentIds,function(t){e[t]=IGNORED_VARIATION_ID}),each(data.getBlacklistedExperiments(),function(t){t in e&&delete e[t]}),cookie.set(BUCKET_COOKIE_NAME,json.stringify(e),directive.trackingCookieExpiration)},plan.callChangeHandlers=function(){each(plan.changeHandlers,function(e){e()})},plan.getExperimentSteps=function(e,t,n,i,r){var a=data.getExperimentEvents(e);each(a,function(n,i){each(i,function(i){t.push({eventName:i.eventName,experimentIds:i.experimentIds,revenue:i.revenue,selector:n,type:"event '"+i.eventName+"' (experiment "+e+")",waitUntilSelectorReady:!0})})});var o=data.getExperimentCss(e);o&&n.push({code:function(){$("body").append("<style>"+o+"</style>")},selector:"body",type:"global css (experiment "+e+")",waitUntilSelectorReady:!0});var s=data.getExperimentSteps(e);if(s)each(s.forced,function(e){i.push(e)}),each(s.safe,function(e){r.push(e)});else{var l=data.getExperimentCode(e);l&&plan.appendStepsFromCode(l,i,r)}},plan.getVariationSteps=function(e,t,n){var i=data.getVariationPages(e);if(i)each(i,function(e){!e.steps||e.includes&&!condition.testUrls({values:e.includes})||e.excludes&&condition.testUrls({values:e.excludes})||(t.push.apply(t,e.steps.forced),n.push.apply(n,e.steps.safe))});else{var r=data.getVariationCode(e);r=plan.filterUrlSpecificVariationCode(r),plan.appendStepsFromCode(r,t,n,e)}},plan.appendStepsFromCode=function(e,t,n,i){if(containsString(e,"_optimizely_redirect"))t.push({code:e,type:"code forced (redirect)",variationId:i});else{for(var r=e.split("\n"),a=!1,o=!1,s=[],l=plan.jQueryExpression,c=plan.rearrangeExpression,u=[];r.length>0;){var d=trim(r.shift()),p=u.length>0;if(d){if(containsRegEx(d,/_optimizely_evaluate\s{0,9}=\s{0,9}force/i)){o=!0;continue}if(containsRegEx(d,/_optimizely_evaluate\s{0,9}=\s{0,9}safe/i)||containsRegEx(d,/_optimizely_evaluate\s{0,9}=\s{0,9}end_force/i)){o=!1;continue}if(containsRegEx(d,/_optimizely_evaluate\s{0,9}=\s{0,9}editor_only/i)){a=!0;continue}if(containsRegEx(d,/_optimizely_evaluate\s{0,9}=\s{0,9}end_editor_only/i)){a=!1;continue}if(plan.commentRegex.exec(d))continue;if(a)continue;if(o)s.push(d);else{if(!p){var g=l.exec(d),f=[];if(g){f.push(g[1].replace(/^['"]|['"]$/g,""));var m=c.exec(d);m&&m.length>4&&f.push(m[4]),n.push({code:d,selector:f,type:"safe jquery",waitUntilSelectorReady:!0,variationId:i})}else p=!0}p&&u.push(d)}}}s.length>0&&t.push({code:s.join("\n"),type:"forced evaluation",variationId:i}),u.length>0&&n.push({code:u.join("\n"),type:"safe non-jquery",waitUntilDocumentReady:!0,variationId:i})}},plan.reset=function(){timer.addEvent("Plan","Resetting visitor buckets"),plan.foreignBucketMap={},plan.ignoredExperimentIds={},plan.variationExperimentIds={},plan.variations=[],plan.writeCookie()},plan.zipConditions=function(e,t,n){for(var i={values:[]},r=0,a=e.length;r<a;r++)i.values.push({value:e[r],match:t[r]||n});return i},plan.changeHandlers=[],plan.foreignBucketMap={},plan.ignoredExperimentIds={},plan.rearrangeExpression=/^\$j?\(['"](.+?)['"]\)\.detach\(\)\.(appendTo|insertAfter|insertBefore|prependTo)\(['"](.+?)['"]\);(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,plan.commentRegex=/^(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,plan.jQueryExpression=/^\$j?\((['"].+?['"]|document)\)\..+;(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,plan.variationExperimentIds={},plan.variations=[],iapi.evaluateSegments=function(e){segmenter.reset(),segmenter.initialize(e)},iapi.initialize=function(e){window[GLOBAL].iapi={evaluateSegments:goog.partial(iapi.evaluateSegments,e)}},evaluator.bindTrackElementFromApi=function(e,t){if(e&&t)if(evaluator.isDocumentReady)timer.addEvent("Evaluator","Bound event "+t+" to selector "+e),evaluator.bindTrackElement(e,t);else{var n={eventName:t,selector:e,type:"event '"+t+"' (click goal)",waitUntilSelectorReady:!0};timer.addEvent("Evaluator","Add step to bind event "+n.eventName+" to selector "+n.selector),evaluator.steps.push(n)}},evaluator.evaluate=function(e,t){if(directive.isEnabled){isArrayLike(e)?evaluator.tellPreviewAboutExperiments(e):(e=[],evaluator.tellPreviewAboutExperiments(t)),e=e.concat(evaluator.evaluateQueue),evaluator.evaluateQueue=[];for(var n=0;n<e.length;n++)arrayContains(evaluator.evaluatedExperimentIds,e[n])||evaluator.evaluatedExperimentIds.push(e[n]);var i=plan.getSteps(e);appendArray(evaluator.steps,i),evaluator.doSteps()}},evaluator.doSteps=function(){var e=!1;for(evaluator.timeoutId=null,timer.addEvent("Evaluator",evaluator.waitCount+" times waited");!e&&evaluator.steps.length>0;){timer.addEvent("Evaluator",evaluator.steps.length+" steps remaining");var t=evaluator.steps.shift();if(e=evaluator.shouldWaitBeforeStep(t))evaluator.steps.unshift(t);else if(t.eventName){evaluator.doneWithSafeSteps(),timer.addEvent("Evaluator","Bound event "+t.eventName+" to selector "+t.selector);var n={};t.revenue&&(n={revenue:t.revenue,experimentIds:t.experimentIds}),evaluator.bindTrackElement(t.selector,t.eventName,n)}else t.code&&(timer.addEvent("Evaluator","Run code: "+t.code.toString()),evaluator.evaluateCode(t.code,t.variationId))}if(e){var i=0===evaluator.waitCount?FIRST_EVALUATION_WAIT_INTERVAL:EVALUATION_WAIT_INTERVAL;evaluator.timeoutId=setTimeout(evaluator.doSteps,i),evaluator.waitCount++}else timer.addEvent("Evaluator",evaluator.waitCount+" total times waited"),evaluator.doneWithSafeSteps()},evaluator.executeCode=function(fnOrCode){return"string"==typeof fnOrCode?eval(fnOrCode):fnOrCode()},evaluator.doneWithSafeSteps=function(){optly.client.rum.instance.recordEvent("flash"),activator.hasDelayedExperiments()||optly.client.rum.instance.recordEvent("flashGeo")},evaluator.enqueue=function(e){evaluator.evaluateQueue=evaluator.evaluateQueue||[],evaluator.evaluateQueue.push(e)},evaluator.getActiveExperimentIds=function(){return evaluator.evaluatedExperimentIds.concat(evaluator.evaluateQueue)},evaluator.getEvaluatedExperimentIds=function(){return evaluator.evaluatedExperimentIds},evaluator.isInQueue=function(e){return inArray(e,evaluator.evaluateQueue)},evaluator.evaluateProjectCode=function(){var e=data.getProjectCode();e&&(timer.addEvent("Evaluator","Running project level javascript."),evaluator.evaluateCode(e))},evaluator.evaluateCode=function(fn,variationId){if(fn){var isStringCode=!1,code;if("string"==typeof fn?(code=fn,isStringCode=!0):code=fn.toString(),redirect.getRedirectURL(code)){if(timer.addEvent("Evaluator","Redirect detected"),!redirect.okToRedirect(code))return void timer.addEvent("Evaluator","NOT OK to redirect");timer.addEvent("Evaluator","OK to redirect");var noCookieRedirect=redirect.detectNoCookieRedirect(code);timer.addEvent("Evaluator","setting a redirect cookie"+(variationId?" for variation: "+variationId:"")),redirect.setRedirectCookie(noCookieRedirect,variationId),redirect.setReferrerCookie()}isStringCode&&eval("var $j = $;");try{if(redirect.getRedirectURL(code)){$("head").append("<style type='text/css'>body{display:none;visibility:hidden;}</style>"),timer.addEvent("Evaluator","Hiding body before redirect");var isStandardRedirect=redirect.redirectRegexParams.test(code)||redirect.redirectRegex.test(code)||redirect.redirectRegexLegacy.test(code),keepBodyHidden=/_keep_body_hidden=(\S+)/.test(code);isStandardRedirect||keepBodyHidden?timer.addEvent("Evaluator","Standard redirect detected - Will not unhide body."):setTimeout(function(){document.body&&(document.body.style.visibility="visible",document.body.style.display="block",timer.addEvent("Evaluator","Unhiding body -- did not redirect"),optly.client.rum.instance.recordEvent("bodyUnhidden"))},1700)}evaluator.executeCode(fn)}catch(exception){var shouldLog=directive.shouldLog;directive.shouldLog=!0,timer.addEvent("Evaluator","Error: "+exception.message),timer.addEvent("Evaluator","Code: "+code),directive.shouldLog=shouldLog,timer.addEvent("Evaluator","Failed to run code: "+exception.message)}}},evaluator.bindTrackElement=function(e,t,n){if(n=n||{},!evaluator.alreadyBoundClickTrackingEvents[e]||!evaluator.alreadyBoundClickTrackingEvents[e][t]){var i=function(e){tracker.addLogEvent(t,"custom",n)},r={cancel:"touchmove",confirm:"touchend",detect:"touchstart"},a=$(e);if(a.length>0){var o=function(){a.unbind(r.confirm,i),a.unbind(r.cancel,o),a.unbind("mousedown",i)},s=function(){o(),a.bind(r.cancel,o),a.bind(r.confirm,i)};a.bind("mousedown",i),a.bind(r.detect,s)}else{a=$("html");var o=function(){a.undelegate(e,r.confirm,i),a.undelegate(e,r.cancel,o),a.undelegate(e,"mousedown",i)},s=function(){o(),a.delegate(e,r.confirm,i),a.delegate(e,r.cancel,o)};a.delegate(e,"touchstart",s),a.delegate(e,"mousedown",i)}evaluator.alreadyBoundClickTrackingEvents[e]||(evaluator.alreadyBoundClickTrackingEvents[e]={}),evaluator.alreadyBoundClickTrackingEvents[e][t]="mousedown touchstart"}},evaluator.handleDocumentReady=function(e){optly.client.rum.instance.recordEvent("docReady"),evaluator.isDocumentReady=!0,null!==evaluator.timeoutId&&(timer.addEvent("Evaluator","Document is ready"),clearTimeout(evaluator.timeoutId),evaluator.delayDomExecuteMilliseconds>0?setTimeout(evaluator.doSteps,evaluator.delayDomExecuteMilliseconds):evaluator.doSteps())},evaluator.setDelayDomExecute=function(e){evaluator.delayDomExecuteMilliseconds=e},evaluator.shouldWaitBeforeStep=function(e){var t=!1;if(e.waitUntilDocumentReady&&!evaluator.isDocumentReady)timer.addEvent("Evaluator","Document not ready yet"),t=!0;else if(e.waitUntilSelectorReady&&!evaluator.isDocumentReady){var n=e.selector;if(n){n=isArrayLike(n)?n:[n];for(var i=0;i<n.length;i++){var r=n[i];if(null!==r&&void 0!==r&&r.length){var a=$("document"==r?document:r);0===a.length&&(timer.addEvent("Evaluator","'"+r+"' not found"),t=!0)}}}}return t},evaluator.tellPreviewAboutExperiments=function(e){e||(e=data.getExperimentIds());for(var t=0;t<e.length;t++){var n=e[t],i=optly.client.preview.Logger.getReason(n);i?(optly.client.preview.Logger.addEvent("Not activating "+data.getExperimentString(n)+" because "+i+".",{type:"explanation"}),optly.client.preview.Logger.deleteReason(n)):optly.client.preview.Logger.addEvent("Activating "+data.getExperimentString(n)+".",{type:"activation",experimentId:n})}},evaluator.alreadyBoundClickTrackingEvents={},evaluator.evaluatedExperimentIds=[],evaluator.evaluateQueue=evaluator.evaluateQueue||[],evaluator.delayDomExecuteMilliseconds=0,evaluator.isDocumentReady=!1,evaluator.steps=[],evaluator.timeoutId=null,evaluator.waitCount=0,$(function(){setTimeout(function(){evaluator.handleDocumentReady()},50)}),optly.CIDR=function(e){this.cidrString=$.trim(e);var t=optly.CIDR.parseCIDR(this.cidrString);if(null===t)throw new Error("Invalid CIDR specification");this.maskedAddress=t.maskedAddress,this.mask=t.mask},optly.CIDR.IP,optly.CIDR.NetworkMask,optly.CIDR.NUM_IP_OCTETS=4,optly.CIDR.prototype.containsIP=function(e){var t=optly.CIDR.parseIP(e);if(null===t)throw new Error("Invalid ip: "+e);for(var n=0;n<optly.CIDR.NUM_IP_OCTETS;n++)if((t[n]&this.mask[n])!==this.maskedAddress[n])return!1;return!0},optly.CIDR.parseCIDR=function(e){var t=e.split("/");if(2!=t.length)return null;var n=parseInt(t[1],10);if(isNaN(n)||n<0||n>32)return null;var i=optly.CIDR.parseIP(t[0]);if(null===i)return null;for(var r=optly.CIDR.makeMask(n),a=0;a<optly.CIDR.NUM_IP_OCTETS;a++)i[a]=i[a]&r[a];return{maskedAddress:i,mask:r}},optly.CIDR.parseIP=function(e){var t=e.split(".");if(t.length!=optly.CIDR.NUM_IP_OCTETS)return null;for(var n=[],i=0;i<optly.CIDR.NUM_IP_OCTETS;i++){var r=optly.CIDR.parseOctet(t[i]);if(null===r)return null;n[i]=r}return n},optly.CIDR.parseOctet=function(e){if(e.length>3)return null;var t=parseInt(e,10);return isNaN(t)?null:e!==t.toString()?null:t<0||t>255?null:t},optly.CIDR.ONES_LOOKUP_TABLE=[0,128,192,224,240,248,252,254,255],optly.CIDR.makeMask=function(e){if(e<0||e>32)return null;for(var t=[],n=0;n<optly.CIDR.NUM_IP_OCTETS;n++)t[n]=0;for(var i=Math.floor(e/8),r=e%8,n=0;n<i;n++)t[n]=255;return i<optly.CIDR.NUM_IP_OCTETS&&(t[i]=optly.CIDR.ONES_LOOKUP_TABLE[r]),t},optly.match.matchUrl=function(e,t,n){switch(e=optly.match.stripVarFromQuery(e),n){case"exact":return e=optly.match.stripUrl(e),e===optly.match.stripUrl(t);case"regex":try{return Boolean(e.match(t))}catch(i){return!1}case"simple":return e=optly.match.simplifyUrl(e),t=optly.match.simplifyUrl(t),e===t;case"substring":return e=optly.match.stripUrl(e,!0),t=optly.match.stripUrl(t,!0),e.indexOf(t)!==-1;default:return!1}},optly.match.removeParameters=function(e){var t=e.indexOf("?");return t!==-1&&(e=e.substring(0,t)),t=e.indexOf("#"),t!==-1&&(e=e.substring(0,t)),e},optly.match.simplifyUrl=function(e){return optly.match.stripUrl(optly.match.removeParameters(e))},optly.match.stripUrl=function(e,t){e=e.replace("/?","?"),e=e.toLowerCase().replace(/[/&?]+$/,"");var n=optly.match.REQUIRED_PREFIXES_TO_STRIP.slice(0);t||(n=n.concat(optly.match.OPTIONAL_PREFIXES_TO_STRIP));for(var i=n.length,r=0;r<i;r++){var a=n[r],o=new RegExp("^"+a);e=e.replace(o,"")}return e},optly.match.stripVarFromQuery=function(e){var t=e.split("?");if(t[1]){var n=t[1].split("&"),i=[];return $.each(n,function(){0!==this.indexOf(optly.match.QUERY_PREFIX)&&i.push(this)}),t[1]=i.join("&"),t.join("?")}return e},optly.match.REQUIRED_PREFIXES_TO_STRIP=["https?://.*?.?optimizelyedit.(com|test)/","https?://.*.?optimizelypreview.(com|test)/","https?://(edit|preview)(-hrd|-devel)?.optimizely.(com|test)/","https?://.*?.?optimizelyedit(-hrd)?.appspot.com/","https?://"],optly.match.OPTIONAL_PREFIXES_TO_STRIP=["www."],optly.match.QUERY_PREFIX="optimizely_",optly.taint.createDeconstructingFunction=function(e){return function(t){var n="object"==typeof t&&optly.taint.isObjectPrototypeTainted();if(n){var i=null;for(var r in t)t.hasOwnProperty(r)&&(i=e.call(this,r,t[r]));return i}return e.apply(this,arguments)}},optly.taint.createCleanJQueryEach=function(e,t){return function(n,i,r){var a=(void 0===n.length||t.isFunction(n))&&optly.taint.isObjectPrototypeTainted();if(a){if(r){for(var o in n)if(n.hasOwnProperty(o)&&i.apply(n[o],r)===!1)break}else for(var o in n)if(n.hasOwnProperty(o)&&!i.call(n[o],o,n[o])==!1)break}else e.apply(this,arguments);return n}},optly.taint.createCleanJQueryInit=function(e,t){var n=function(t,n,i){return new e(t,n,i)},i=optly.nativity.getNativeGetElementsByClassName();return function(e,r,a){var o=n,s=document.getElementsByClassName;!optly.nativity.isNativeFunction(s)&&i&&(o=function(e,t,r){document.getElementsByClassName=i;var a=n(e,t,r);return document.getElementsByClassName=s,a});var l="string"==typeof e&&r&&"object"===t.type(r)&&optly.taint.isObjectPrototypeTainted();if(l){var c=o(e,void 0,a);return c.attr(r),c}return o(e,r,a)}},optly.taint.fixJQueryTaintIssues=function(e){e.fn.attr=optly.taint.createDeconstructingFunction(e.fn.attr),e.fn.css=optly.taint.createDeconstructingFunction(e.fn.css),e.fn.extend=optly.taint.createDeconstructingFunction(e.fn.extend),e.each=optly.taint.createCleanJQueryEach(e.each,e),e.fn.init=optly.taint.createCleanJQueryInit(e.fn.init,e)},optly.taint.isObjectPrototypeTainted=function(){for(var e in{})return!0;return!1},main=function(){TEST_MODULE||optly.taint.fixJQueryTaintIssues($),timer.addEvent("Main","Started, revision "+data.getRevision());try{feature_detect.check()}catch(e){return void timer.addEvent("Main","Disabling: "+e.message)}return query.process(),(directive.isEditor||directive.isPersonalizationEditor)&&(window.optimizelyDataApi={getProjectId:data.getProjectId}),directive.isDesktopAppEditor?void timer.addEvent("Main","Disabling because in desktop app editor."):directive.isPersonalizationEditor?(timer.addEvent("Main","Disabling because personalization editor flag is set."),void loadScript("https://"+data.getWebHost()+"/js/innie.js?_="+ +new Date)):(api.initializePriorityOneApiCalls(),tracker.isOptedOut()?(timer.addEvent("Main","Disabling because opted out"),void timer.flushLogs()):optly.client.preview.ENABLED&&!directive.previewVerified?void timer.addEvent("Main","Disabling because preview project not verified."):directive.previewScriptName&&!optly.client.preview.ENABLED?void preview_loader.loadPreview():optly.client.preview.ENABLED||!directive.shouldLoadPreview||directive.previewScriptName?(directive.isSomeClientEnabled()&&evaluator.evaluateProjectCode(),api.initializePriorityOneApiCalls(),user.initialize(),asyncInfo.loadFromStore(),data.isListTargetingEnabled()&&asyncRequest.makeListTargetingRequest(),data.isDynamicCustomerProfileTargetingEnabled()&&asyncRequest.makeDynamicCustomerProfileTargetingRequest(),null!==data.getDCPServiceId()&&setTimeout(function(){dcp.alias(asyncInfo.dcpCache)},0),plan.readCookie(),segmenter.initialize(),redirect.initialize(),visitor.initialize(),api.initialize(visitor),optly.client.rum.instance.recordEvent("apiInitialize"),iapi.initialize(),query.processForceParameters(),directive.requestedInvalidForceParameters?void preview_loader.loadSplashScreen("Force parameters are disabled for this project. See Project Code Settings."):(main.log(),directive.isEditor&&loadScript("https://"+data.getWebHost()+"/js/innie.js?_="+ +new Date),directive.isEnabled&&(distributor.distributeAll(),plan.writeCookie(),tracker.enableEngagementTracking(),directive.shouldSkipPageTracking||(directive.delayPageviewTracking>0?setTimeout(function(){tracker.addActivationEvent(document.location.href)},directive.delayPageviewTracking):tracker.addActivationEvent(document.location.href)),tracker.sendLogEvents(),integrator.makeThirdPartyRequests()),plan.log(),directive.isEditor?api.finalize():directive.isEnabled&&(optly.client.rum.instance.recordEvent("beginEvaluate"),evaluator.evaluate(),api.finalize(),timer.flushLogs(),data.isInstallationVerified()||tracker.sendVerificationRequest()),setTimeout(function(){activator.activateGeoDelayedExperiments(api.visitor)},GEO_TIMEOUT),setTimeout(function(){!optly.client.preview.ENABLED&&directive.shouldTrackEvents&&optly.client.rum.instance.sendRum()},3e3),timer.addEvent("Main","End of main"),void optly.client.rum.instance.recordEvent("mainEnd"))):void preview_loader.loadSplashScreen("This preview link has expired. Please return to Optimizely and preview again to get a new link."))},main.log=function(){timer.addEvent("Info","Is Classic Optimizely enabled: "+directive.isEnabled),timer.addEvent("Info","Diagnostic enabled: "+optly.client.diagnostic.ENABLED),timer.addEvent("Info","Force variation enabled: "+data.isForceVariationEnabled()),timer.addEvent("Info","Browser type: "+user.getBrowserId()),timer.addEvent("Info","Browser version: "+user.getBrowserVersion());var e=user.getMobileId();"unknown"!==e&&timer.addEvent("Info","Mobile browser type: "+e),timer.addEvent("Info","New vs returning: "+user.getNewVsReturning()),timer.addEvent("Info","Source type: "+segmenter.getSourceType()),timer.addEvent("Info","User ID: "+id.getOrGenerateId())};var catchMain=optly.client.diagnostic.ENABLED?function(){try{main()}catch(e){tracker.sendErrorLog(e)}}:main;optly.client.preview.ENABLED||catchMain()},SLAVE_CLIENT={optimizely:[]};optimizelyCode(),optly.Cleanse.finish()}();